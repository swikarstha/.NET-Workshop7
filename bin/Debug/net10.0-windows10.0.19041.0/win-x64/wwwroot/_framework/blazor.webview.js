!function(e){"use strict";var t,n,r;!function(e){const t=[],n="__jsObjectId",r="__dotNetObject",o="__byte[]",a="__dotNetStream",s="__jsStreamReferenceLength";let i,c,l;class u{constructor(e){this._jsObject=e,this._cachedHandlers=new Map}resolveInvocationHandler(e,t){var n;const r=null===(n=this._cachedHandlers.get(e))||void 0===n?void 0:n[t];if(r)return r;const[o,a]=I(this._jsObject,e),s=function(e,t,n,r){switch(n){case l.FunctionCall:const n=e[t];if(n instanceof Function)return n.bind(e);throw new Error(`The value '${r}' is not a function.`);case l.ConstructorCall:const o=e[t];if(o instanceof Function){const t=o.bind(e);return(...e)=>new t(...e)}throw new Error(`The value '${r}' is not a function.`);case l.GetValue:if(!function(e,t){if(!(t in e))return!1;for(;void 0!==e;){const n=Object.getOwnPropertyDescriptor(e,t);if(n)return!!n.hasOwnProperty("value")||n.hasOwnProperty("get")&&"function"==typeof n.get;e=Object.getPrototypeOf(e)}return!1}(e,t))throw new Error(`The property '${r}' is not defined or is not readable.`);return()=>e[t];case l.SetValue:if(!function(e,t){if(!(t in e))return Object.isExtensible(e);for(;void 0!==e;){const n=Object.getOwnPropertyDescriptor(e,t);if(n)return!(!n.hasOwnProperty("value")||!n.writable)||n.hasOwnProperty("set")&&"function"==typeof n.set;e=Object.getPrototypeOf(e)}return!1}(e,t))throw new Error(`The property '${r}' is not writable.`);return(...n)=>e[t]=n[0]}}(o,a,t,e);return this.addHandlerToCache(e,s,t),s}getWrappedObject(){return this._jsObject}addHandlerToCache(e,t,n){const r=this._cachedHandlers.get(e);r?r[n]=t:this._cachedHandlers.set(e,{[n]:t})}}!function(e){e[e.FunctionCall=1]="FunctionCall",e[e.ConstructorCall=2]="ConstructorCall",e[e.GetValue=3]="GetValue",e[e.SetValue=4]="SetValue"}(l=e.JSCallType||(e.JSCallType={}));const d=0,h={[d]:new u(window)};h[0]._cachedHandlers.set("import",{[l.FunctionCall]:e=>("string"==typeof e&&e.startsWith("./")&&(e=new URL(e.substring(2),document.baseURI).toString()),import(e))});let f,p=1;function m(e){t.push(e)}function b(e){if(null==e)return{[n]:-1};if(e&&("object"==typeof e||e instanceof Function)){h[p]=new u(e);const t={[n]:p};return p++,t}throw new Error(`Cannot create a JSObjectReference from the value '${e}'.`)}function v(e){let t=-1;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Blob)t=e.size;else{if(!(e.buffer instanceof ArrayBuffer))throw new Error("Supplied value is not a typed array or blob.");if(void 0===e.byteLength)throw new Error(`Cannot create a JSStreamReference from the value '${e}' as it doesn't have a byteLength.`);t=e.byteLength}const r={[s]:t};try{const t=b(e);r[n]=t[n]}catch(t){throw new Error(`Cannot create a JSStreamReference from the value '${e}'.`)}return r}function g(e,n){c=e;const r=n?JSON.parse(n,((e,n)=>t.reduce(((t,n)=>n(e,t)),n))):null;return c=void 0,r}function y(){if(void 0===i)throw new Error("No call dispatcher has been set.");if(null===i)throw new Error("There are multiple .NET runtimes present, so a default dispatcher could not be resolved. Use DotNetObject to invoke .NET instance methods.");return i}e.attachDispatcher=function(e){const t=new w(e);return void 0===i?i=t:i&&(i=null),t},e.attachReviver=m,e.invokeMethod=function(e,t,...n){return y().invokeDotNetStaticMethod(e,t,...n)},e.invokeMethodAsync=function(e,t,...n){return y().invokeDotNetStaticMethodAsync(e,t,...n)},e.createJSObjectReference=b,e.createJSStreamReference=v,e.disposeJSObjectReference=function(e){const t=e&&e[n];"number"==typeof t&&-1!==t&&C(t)},function(e){e[e.Default=0]="Default",e[e.JSObjectReference=1]="JSObjectReference",e[e.JSStreamReference=2]="JSStreamReference",e[e.JSVoidResult=3]="JSVoidResult"}(f=e.JSCallResultType||(e.JSCallResultType={}));class w{constructor(e){this._dotNetCallDispatcher=e,this._byteArraysToBeRevived=new Map,this._pendingDotNetToJSStreams=new Map,this._pendingAsyncCalls={},this._nextAsyncCallId=1}getDotNetCallDispatcher(){return this._dotNetCallDispatcher}invokeJSFromDotNet(e,t,n,r,o){const a=R(this.processJSCall(r,e,o,t),n);return null==a?null:k(this,a)}async beginInvokeJSFromDotNet(e,t,n,r,o,a){try{const s=this.processJSCall(o,t,a,n);if(e){const t=k(this,[e,!0,R(await s,r)]);this._dotNetCallDispatcher.endInvokeJSFromDotNet(e,!0,t)}}catch(t){if(e){const n=JSON.stringify([e,!1,E(t)]);this._dotNetCallDispatcher.endInvokeJSFromDotNet(e,!1,n)}}}processJSCall(e,t,n,r){var o;const a=null!==(o=g(this,r))&&void 0!==o?o:[];return S(t,e,n)(...a)}endInvokeDotNetFromJS(e,t,n){const r=t?g(this,n):new Error(n);this.completePendingCall(parseInt(e,10),t,r)}invokeDotNetStaticMethod(e,t,...n){return this.invokeDotNetMethod(e,t,null,n)}invokeDotNetStaticMethodAsync(e,t,...n){return this.invokeDotNetMethodAsync(e,t,null,n)}invokeDotNetMethod(e,t,n,r){if(this._dotNetCallDispatcher.invokeDotNetFromJS){const o=k(this,r),a=this._dotNetCallDispatcher.invokeDotNetFromJS(e,t,n,o);return a?g(this,a):null}throw new Error("The current dispatcher does not support synchronous calls from JS to .NET. Use invokeDotNetMethodAsync instead.")}invokeDotNetMethodAsync(e,t,n,r){if(e&&n)throw new Error(`For instance method calls, assemblyName should be null. Received '${e}'.`);const o=this._nextAsyncCallId++,a=new Promise(((e,t)=>{this._pendingAsyncCalls[o]={resolve:e,reject:t}}));try{const a=k(this,r);this._dotNetCallDispatcher.beginInvokeDotNetFromJS(o,e,t,n,a)}catch(e){this.completePendingCall(o,!1,e)}return a}receiveByteArray(e,t){this._byteArraysToBeRevived.set(e,t)}processByteArray(e){const t=this._byteArraysToBeRevived.get(e);return t?(this._byteArraysToBeRevived.delete(e),t):null}supplyDotNetStream(e,t){if(this._pendingDotNetToJSStreams.has(e)){const n=this._pendingDotNetToJSStreams.get(e);this._pendingDotNetToJSStreams.delete(e),n.resolve(t)}else{const n=new N;n.resolve(t),this._pendingDotNetToJSStreams.set(e,n)}}getDotNetStreamPromise(e){let t;if(this._pendingDotNetToJSStreams.has(e))t=this._pendingDotNetToJSStreams.get(e).streamPromise,this._pendingDotNetToJSStreams.delete(e);else{const n=new N;this._pendingDotNetToJSStreams.set(e,n),t=n.streamPromise}return t}completePendingCall(e,t,n){if(!this._pendingAsyncCalls.hasOwnProperty(e))throw new Error(`There is no pending async call with ID ${e}.`);const r=this._pendingAsyncCalls[e];delete this._pendingAsyncCalls[e],t?r.resolve(n):r.reject(n)}}function E(e){return e instanceof Error?`${e.message}\n${e.stack}`:e?e.toString():"null"}function S(e,t,n){const r=h[t];if(r)return r.resolveInvocationHandler(e,null!=n?n:l.FunctionCall);throw new Error(`JS object instance with ID ${t} does not exist (has it been disposed?).`)}function C(e){delete h[e]}function I(e,t){const n=t.split(".");let r=e;for(let e=0;e<n.length-1;e++){const o=n[e];if(!r||"object"!=typeof r||!(o in r))throw new Error(`Could not find '${t}' ('${o}' was undefined).`);r=r[o]}return[r,n[n.length-1]]}e.findJSFunction=S,e.disposeJSObjectReferenceById=C,e.findObjectMember=I;class D{constructor(e,t){this._id=e,this._callDispatcher=t}invokeMethod(e,...t){return this._callDispatcher.invokeDotNetMethod(null,e,this._id,t)}invokeMethodAsync(e,...t){return this._callDispatcher.invokeDotNetMethodAsync(null,e,this._id,t)}dispose(){this._callDispatcher.invokeDotNetMethodAsync(null,"__Dispose",this._id,null).catch((e=>console.error(e)))}serializeAsArg(){return{[r]:this._id}}}e.DotNetObject=D,m((function(e,t){if(t&&"object"==typeof t){if(t.hasOwnProperty(r))return new D(t[r],c);if(t.hasOwnProperty(n)){const e=t[n],r=h[e];if(r)return r.getWrappedObject();throw new Error(`JS object instance with Id '${e}' does not exist. It may have been disposed.`)}if(t.hasOwnProperty(o)){const e=t[o],n=c.processByteArray(e);if(void 0===n)throw new Error(`Byte array index '${e}' does not exist.`);return n}if(t.hasOwnProperty(a)){const e=t[a],n=c.getDotNetStreamPromise(e);return new A(n)}}return t}));class A{constructor(e){this._streamPromise=e}stream(){return this._streamPromise}async arrayBuffer(){return new Response(await this.stream()).arrayBuffer()}}class N{constructor(){this.streamPromise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}function R(e,t){switch(t){case f.Default:return e;case f.JSObjectReference:return b(e);case f.JSStreamReference:return v(e);case f.JSVoidResult:return null;default:throw new Error(`Invalid JS call result type '${t}'.`)}}let T=0;function k(e,t){T=0,c=e;const n=JSON.stringify(t,O);return c=void 0,n}function O(e,t){if(t instanceof D)return t.serializeAsArg();if(t instanceof Uint8Array){c.getDotNetCallDispatcher().sendByteArray(T,t);const e={[o]:T};return T++,e}return t}}(t||(t={})),function(e){e[e.prependFrame=1]="prependFrame",e[e.removeFrame=2]="removeFrame",e[e.setAttribute=3]="setAttribute",e[e.removeAttribute=4]="removeAttribute",e[e.updateText=5]="updateText",e[e.stepIn=6]="stepIn",e[e.stepOut=7]="stepOut",e[e.updateMarkup=8]="updateMarkup",e[e.permutationListEntry=9]="permutationListEntry",e[e.permutationListEnd=10]="permutationListEnd"}(n||(n={})),function(e){e[e.element=1]="element",e[e.text=2]="text",e[e.attribute=3]="attribute",e[e.component=4]="component",e[e.region=5]="region",e[e.elementReferenceCapture=6]="elementReferenceCapture",e[e.markup=8]="markup",e[e.namedEvent=10]="namedEvent"}(r||(r={}));class o{constructor(e,t){this.componentId=e,this.fieldValue=t}static fromEvent(e,t){const n=t.target;if(n instanceof Element){const t=function(e){return e instanceof HTMLInputElement?e.type&&"checkbox"===e.type.toLowerCase()?{value:e.checked}:{value:e.value}:e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement?{value:e.value}:null}(n);if(t)return new o(e,t.value)}return null}}const a=new Map,s=new Map,i=[];function c(e){return a.get(e)}function l(e){const t=a.get(e);return t?.browserEventName||e}function u(e,t){e.forEach((e=>a.set(e,t)))}function d(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push({identifier:r.identifier,clientX:r.clientX,clientY:r.clientY,screenX:r.screenX,screenY:r.screenY,pageX:r.pageX,pageY:r.pageY})}return t}function h(e){return{detail:e.detail,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,offsetX:e.offsetX,offsetY:e.offsetY,pageX:e.pageX,pageY:e.pageY,movementX:e.movementX,movementY:e.movementY,button:e.button,buttons:e.buttons,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,type:e.type}}u(["input","change"],{createEventArgs:function(e){const t=e.target;if(function(e){return-1!==f.indexOf(e.getAttribute("type"))}(t)){const e=function(e){const t=e.value,n=e.type;switch(n){case"date":case"month":case"week":return t;case"datetime-local":return 16===t.length?t+":00":t;case"time":return 5===t.length?t+":00":t}throw new Error(`Invalid element type '${n}'.`)}(t);return{value:e}}if(function(e){return e instanceof HTMLSelectElement&&"select-multiple"===e.type}(t)){const e=t;return{value:Array.from(e.options).filter((e=>e.selected)).map((e=>e.value))}}{const e=function(e){return!!e&&"INPUT"===e.tagName&&"checkbox"===e.getAttribute("type")}(t);return{value:e?!!t.checked:t.value}}}}),u(["copy","cut","paste"],{createEventArgs:e=>({type:e.type})}),u(["drag","dragend","dragenter","dragleave","dragover","dragstart","drop"],{createEventArgs:e=>{return{...h(t=e),dataTransfer:t.dataTransfer?{dropEffect:t.dataTransfer.dropEffect,effectAllowed:t.dataTransfer.effectAllowed,files:Array.from(t.dataTransfer.files).map((e=>e.name)),items:Array.from(t.dataTransfer.items).map((e=>({kind:e.kind,type:e.type}))),types:t.dataTransfer.types}:null};var t}}),u(["focus","blur","focusin","focusout"],{createEventArgs:e=>({type:e.type})}),u(["keydown","keyup","keypress"],{createEventArgs:e=>{return{key:(t=e).key,code:t.code,location:t.location,repeat:t.repeat,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey,type:t.type,isComposing:t.isComposing};var t}}),u(["contextmenu","click","mouseover","mouseout","mousemove","mousedown","mouseup","mouseleave","mouseenter","dblclick"],{createEventArgs:e=>h(e)}),u(["error"],{createEventArgs:e=>{return{message:(t=e).message,filename:t.filename,lineno:t.lineno,colno:t.colno,type:t.type};var t}}),u(["loadstart","timeout","abort","load","loadend","progress"],{createEventArgs:e=>{return{lengthComputable:(t=e).lengthComputable,loaded:t.loaded,total:t.total,type:t.type};var t}}),u(["touchcancel","touchend","touchmove","touchenter","touchleave","touchstart"],{createEventArgs:e=>{return{detail:(t=e).detail,touches:d(t.touches),targetTouches:d(t.targetTouches),changedTouches:d(t.changedTouches),ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey,type:t.type};var t}}),u(["gotpointercapture","lostpointercapture","pointercancel","pointerdown","pointerenter","pointerleave","pointermove","pointerout","pointerover","pointerup"],{createEventArgs:e=>{return{...h(t=e),pointerId:t.pointerId,width:t.width,height:t.height,pressure:t.pressure,tiltX:t.tiltX,tiltY:t.tiltY,pointerType:t.pointerType,isPrimary:t.isPrimary};var t}}),u(["wheel","mousewheel"],{createEventArgs:e=>{return{...h(t=e),deltaX:t.deltaX,deltaY:t.deltaY,deltaZ:t.deltaZ,deltaMode:t.deltaMode};var t}}),u(["cancel","close","toggle"],{createEventArgs:()=>({})});const f=["date","datetime-local","month","time","week"],p=new Map;let m,b,v=0;const g={async add(e,t,n){if(!n)throw new Error("initialParameters must be an object, even if empty.");const r="__bl-dynamic-root:"+(++v).toString();p.set(r,e);const o=await E().invokeMethodAsync("AddRootComponent",t,r),a=new w(o,b[t]);return await a.setParameters(n),a}};class y{invoke(e){return this._callback(e)}setCallback(e){this._selfJSObjectReference||(this._selfJSObjectReference=t.createJSObjectReference(this)),this._callback=e}getJSObjectReference(){return this._selfJSObjectReference}dispose(){this._selfJSObjectReference&&t.disposeJSObjectReference(this._selfJSObjectReference)}}class w{constructor(e,t){this._jsEventCallbackWrappers=new Map,this._componentId=e;for(const e of t)"eventcallback"===e.type&&this._jsEventCallbackWrappers.set(e.name.toLowerCase(),new y)}setParameters(e){const t={},n=Object.entries(e||{}),r=n.length;for(const[e,r]of n){const n=this._jsEventCallbackWrappers.get(e.toLowerCase());n&&r?(n.setCallback(r),t[e]=n.getJSObjectReference()):t[e]=r}return E().invokeMethodAsync("SetRootComponentParameters",this._componentId,r,t)}async dispose(){if(null!==this._componentId){await E().invokeMethodAsync("RemoveRootComponent",this._componentId),this._componentId=null;for(const e of this._jsEventCallbackWrappers.values())e.dispose()}}}function E(){if(!m)throw new Error("Dynamic root components have not been enabled in this application.");return m}const S=new Map,C=[],I=new Map;function D(e){return S.has(e)}function A(e,t,n){return R(e,t.eventHandlerId,(()=>N(e).invokeMethodAsync("DispatchEventAsync",t,n)))}function N(e){const t=S.get(e);if(!t)throw new Error(`No interop methods are registered for renderer ${e}`);return t}let R=(e,t,n)=>n();const T=F(["abort","blur","cancel","canplay","canplaythrough","change","close","cuechange","durationchange","emptied","ended","error","focus","load","loadeddata","loadedmetadata","loadend","loadstart","mouseenter","mouseleave","pointerenter","pointerleave","pause","play","playing","progress","ratechange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeupdate","toggle","unload","volumechange","waiting","DOMNodeInsertedIntoDocument","DOMNodeRemovedFromDocument"]),k={submit:!0},O=F(["click","dblclick","mousedown","mousemove","mouseup"]);class _{static{this.nextEventDelegatorId=0}constructor(e){this.browserRendererId=e,this.afterClickCallbacks=[];const t=++_.nextEventDelegatorId;this.eventsCollectionKey=`_blazorEvents_${t}`,this.eventInfoStore=new L(this.onGlobalEvent.bind(this))}setListener(e,t,n,r){const o=this.getEventHandlerInfosForElement(e,!0),a=o.getHandler(t);if(a)this.eventInfoStore.update(a.eventHandlerId,n);else{const a={element:e,eventName:t,eventHandlerId:n,renderingComponentId:r};this.eventInfoStore.add(a),o.setHandler(t,a)}}getHandler(e){return this.eventInfoStore.get(e)}removeListener(e){const t=this.eventInfoStore.remove(e);if(t){const e=t.element,n=this.getEventHandlerInfosForElement(e,!1);n&&n.removeHandler(t.eventName)}}removeListenersForElement(e){const t=this.getEventHandlerInfosForElement(e,!1);if(t){for(const e of t.enumerateHandlers())this.eventInfoStore.remove(e.eventHandlerId);delete e[this.eventsCollectionKey]}}notifyAfterClick(e){this.afterClickCallbacks.push(e),this.eventInfoStore.addGlobalListener("click")}setStopPropagation(e,t,n){const r=this.getEventHandlerInfosForElement(e,!0),o=r.stopPropagation(t);r.stopPropagation(t,n),!o&&n?this.eventInfoStore.addGlobalListener(t):o&&!n&&this.eventInfoStore.decrementCountByEventName(t)}setPreventDefault(e,t,n){const r=this.getEventHandlerInfosForElement(e,!0),o=r.preventDefault(t);r.preventDefault(t,n),!o&&n?this.eventInfoStore.addActiveGlobalListener(t):o&&!n&&this.eventInfoStore.decrementCountByEventName(t)}onGlobalEvent(e){if(!(e.target instanceof Element))return;if(!D(this.browserRendererId))return;this.dispatchGlobalEventToAllElements(e.type,e);const t=(n=e.type,s.get(n));var n;t&&t.forEach((t=>this.dispatchGlobalEventToAllElements(t,e))),"click"===e.type&&this.afterClickCallbacks.forEach((t=>t(e)))}dispatchGlobalEventToAllElements(e,t){const n=t.composedPath();let r=n.shift(),a=null,s=!1;const i=Object.prototype.hasOwnProperty.call(T,e);let l=!1;for(;r;){const h=r,f=this.getEventHandlerInfosForElement(h,!1);if(f){const n=f.getHandler(e);if(n&&(u=h,d=t.type,!((u instanceof HTMLButtonElement||u instanceof HTMLInputElement||u instanceof HTMLTextAreaElement||u instanceof HTMLSelectElement)&&Object.prototype.hasOwnProperty.call(O,d)&&u.disabled))){if(!s){const n=c(e);a=n?.createEventArgs?n.createEventArgs(t):{},s=!0}Object.prototype.hasOwnProperty.call(k,t.type)&&t.preventDefault(),A(this.browserRendererId,{eventHandlerId:n.eventHandlerId,eventName:e,eventFieldInfo:o.fromEvent(n.renderingComponentId,t)},a)}f.stopPropagation(e)&&(l=!0),f.preventDefault(e)&&t.preventDefault()}r=i||l?void 0:n.shift()}var u,d}getEventHandlerInfosForElement(e,t){return Object.prototype.hasOwnProperty.call(e,this.eventsCollectionKey)?e[this.eventsCollectionKey]:t?e[this.eventsCollectionKey]=new x:null}}class L{constructor(e){this.globalListener=e,this.infosByEventHandlerId={},this.countByEventName={},i.push(this.handleEventNameAliasAdded.bind(this))}add(e){if(this.infosByEventHandlerId[e.eventHandlerId])throw new Error(`Event ${e.eventHandlerId} is already tracked`);this.infosByEventHandlerId[e.eventHandlerId]=e,this.addGlobalListener(e.eventName)}get(e){return this.infosByEventHandlerId[e]}addGlobalListener(e){if(e=l(e),Object.prototype.hasOwnProperty.call(this.countByEventName,e))this.countByEventName[e]++;else{this.countByEventName[e]=1;const t=Object.prototype.hasOwnProperty.call(T,e);document.addEventListener(e,this.globalListener,t)}}addActiveGlobalListener(e){e=l(e),Object.prototype.hasOwnProperty.call(this.countByEventName,e)?(this.countByEventName[e]++,document.removeEventListener(e,this.globalListener)):this.countByEventName[e]=1;const t=Object.prototype.hasOwnProperty.call(T,e);document.addEventListener(e,this.globalListener,{capture:t,passive:!1})}update(e,t){if(Object.prototype.hasOwnProperty.call(this.infosByEventHandlerId,t))throw new Error(`Event ${t} is already tracked`);const n=this.infosByEventHandlerId[e];delete this.infosByEventHandlerId[e],n.eventHandlerId=t,this.infosByEventHandlerId[t]=n}remove(e){const t=this.infosByEventHandlerId[e];if(t){delete this.infosByEventHandlerId[e];const n=l(t.eventName);this.decrementCountByEventName(n)}return t}decrementCountByEventName(e){0==--this.countByEventName[e]&&(delete this.countByEventName[e],document.removeEventListener(e,this.globalListener))}handleEventNameAliasAdded(e,t){if(Object.prototype.hasOwnProperty.call(this.countByEventName,e)){const n=this.countByEventName[e];delete this.countByEventName[e],document.removeEventListener(e,this.globalListener),this.addGlobalListener(t),this.countByEventName[t]+=n-1}}}class x{constructor(){this.handlers={},this.preventDefaultFlags=null,this.stopPropagationFlags=null}*enumerateHandlers(){for(const e in this.handlers)Object.prototype.hasOwnProperty.call(this.handlers,e)&&(yield this.handlers[e])}getHandler(e){return Object.prototype.hasOwnProperty.call(this.handlers,e)?this.handlers[e]:null}setHandler(e,t){this.handlers[e]=t}removeHandler(e){delete this.handlers[e]}preventDefault(e,t){return void 0!==t&&(this.preventDefaultFlags=this.preventDefaultFlags||{},this.preventDefaultFlags[e]=t),!!this.preventDefaultFlags&&this.preventDefaultFlags[e]}stopPropagation(e,t){return void 0!==t&&(this.stopPropagationFlags=this.stopPropagationFlags||{},this.stopPropagationFlags[e]=t),!!this.stopPropagationFlags&&this.stopPropagationFlags[e]}}function F(e){const t={};return e.forEach((e=>{t[e]=!0})),t}const P=Symbol(),H=Symbol();function B(e,t){if(P in e)return e;const n=[];if(e.childNodes.length>0){if(!t)throw new Error("New logical elements must start empty, or allowExistingContents must be true");e.childNodes.forEach((t=>{const r=B(t,!0);r[H]=e,n.push(r)}))}return e[P]=n,e}function M(e){const t=K(e);for(;t.length;)U(e,0)}function j(e,t){const n=document.createComment("!");return J(n,e,t),n}function J(e,t,n){const r=e;let o=e;if(e instanceof Comment){const t=K(r);if(t?.length>0){const t=Z(r),n=new Range;n.setStartBefore(e),n.setEndAfter(t),o=n.extractContents()}}const a=z(r);if(a){const e=K(a),t=Array.prototype.indexOf.call(e,r);e.splice(t,1),delete r[H]}const s=K(t);if(n<s.length){const e=s[n];e.parentNode.insertBefore(o,e),s.splice(n,0,r)}else q(o,t),s.push(r);r[H]=t,P in r||(r[P]=[])}function U(e,t){const n=K(e).splice(t,1)[0];if(n instanceof Comment){const e=K(n);if(e)for(;e.length>0;)U(n,0)}const r=n;r.parentNode.removeChild(r)}function z(e){return e[H]||null}function $(e,t){return K(e)[t]}function W(e){const t=G(e);return"http://www.w3.org/2000/svg"===t.namespaceURI&&"foreignObject"!==t.tagName}function K(e){return e[P]}function V(e){const t=K(z(e));return t[Array.prototype.indexOf.call(t,e)+1]||null}function*X(e){const t=K(e);for(const e of t)yield*X(e);yield e}function Y(e,t){const n=K(e);t.forEach((e=>{e.moveRangeStart=n[e.fromSiblingIndex],e.moveRangeEnd=Z(e.moveRangeStart)})),t.forEach((t=>{const r=document.createComment("marker");t.moveToBeforeMarker=r;const o=n[t.toSiblingIndex+1];o?o.parentNode.insertBefore(r,o):q(r,e)})),t.forEach((e=>{const t=e.moveToBeforeMarker,n=t.parentNode,r=e.moveRangeStart,o=e.moveRangeEnd;let a=r;for(;a;){const e=a.nextSibling;if(n.insertBefore(a,t),a===o)break;a=e}n.removeChild(t)})),t.forEach((e=>{n[e.toSiblingIndex]=e.moveRangeStart}))}function G(e){if(e instanceof Element||e instanceof DocumentFragment)return e;if(e instanceof Comment)return e.parentNode;throw new Error("Not a valid logical element")}function q(e,t){if(t instanceof Element||t instanceof DocumentFragment)t.appendChild(e);else{if(!(t instanceof Comment))throw new Error(`Cannot append node because the parent is not a valid logical element. Parent: ${t}`);{const n=V(t);n?n.parentNode.insertBefore(e,n):q(e,z(t))}}}function Z(e){if(e instanceof Element||e instanceof DocumentFragment)return e;const t=V(e);if(t)return t.previousSibling;{const t=z(e);return t instanceof Element||t instanceof DocumentFragment?t.lastChild:Z(t)}}function Q(e){return`_bl_${e}`}const ee="__internalId";t.attachReviver(((e,t)=>t&&"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,ee)&&"string"==typeof t[ee]?function(e){const t=`[${Q(e)}]`;return document.querySelector(t)}(t[ee]):t));const te="_blazorDeferredValue";function ne(e){return"select-multiple"===e.type}function re(e,t){e.value=t||""}function oe(e,t){e instanceof HTMLSelectElement?ne(e)?function(e,t){t||=[];for(let n=0;n<e.options.length;n++)e.options[n].selected=-1!==t.indexOf(e.options[n].value)}(e,t):re(e,t):e.value=t}function ae(e){const t=function(e){for(;e;){if(e instanceof HTMLSelectElement)return e;e=e.parentElement}return null}(e);if(!function(e){return!!e&&te in e}(t))return!1;if(ne(t))e.selected=-1!==t._blazorDeferredValue.indexOf(e.value);else{if(t._blazorDeferredValue!==e.value)return!1;re(t,e.value),delete t._blazorDeferredValue}return!0}const se=document.createElement("template"),ie=document.createElementNS("http://www.w3.org/2000/svg","g"),ce=new Set,le=Symbol(),ue=Symbol();class de{constructor(e){this.rootComponentIds=new Set,this.childComponentLocations={},this.eventDelegator=new _(e),this.eventDelegator.notifyAfterClick((e=>{Se()&&function(e){if(0!==e.button||function(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey}(e))return;if(e.defaultPrevented)return;const t=function(e){const t=e.composedPath&&e.composedPath();if(t)for(let e=0;e<t.length;e++){const n=t[e];if(n instanceof HTMLAnchorElement||n instanceof SVGAElement)return n}return null}(e);if(t&&function(e){const t=e.getAttribute("target");return(!t||"_self"===t)&&e.hasAttribute("href")&&!e.hasAttribute("download")}(t)){const n=Ee(t.getAttribute("href"));ye(n)&&(e.preventDefault(),_e(n,!0,!1))}}(e)}))}getRootComponentCount(){return this.rootComponentIds.size}attachRootComponentToLogicalElement(e,t,n){if(function(e){return e[le]}(t))throw new Error(`Root component '${e}' could not be attached because its target element is already associated with a root component`);n&&(t=j(t,K(t).length)),he(t,!0),this.attachComponentToElement(e,t),this.rootComponentIds.add(e),ce.add(t)}updateComponent(e,t,n,r){const o=this.childComponentLocations[t];if(!o)throw new Error(`No element is currently associated with component ${t}`);ce.delete(o)&&(this.detachEventHandlersFromElement(o),M(o),o instanceof Comment&&(o.textContent="!"));const a=G(o)?.getRootNode(),s=a&&a.activeElement;this.applyEdits(e,t,o,0,n,r),s instanceof HTMLElement&&a&&a.activeElement!==s&&s.focus()}disposeComponent(e){if(this.rootComponentIds.delete(e)){const t=this.childComponentLocations[e];he(t,!1),!0===t[ue]?ce.add(t):M(t)}delete this.childComponentLocations[e]}disposeEventHandler(e){this.eventDelegator.removeListener(e)}attachComponentToElement(e,t){this.childComponentLocations[e]=t}detachEventHandlersFromElement(e){for(const t of X(e))t instanceof Element&&this.eventDelegator.removeListenersForElement(t)}applyEdits(e,t,r,o,a,s){let i,c=0,l=o;const u=e.arrayBuilderSegmentReader,d=e.editReader,h=e.frameReader,f=u.values(a),p=u.offset(a),m=p+u.count(a);for(let a=p;a<m;a++){const u=e.diffReader.editsEntry(f,a),p=d.editType(u);switch(p){case n.prependFrame:{const n=d.newTreeIndex(u),o=e.referenceFramesEntry(s,n),a=d.siblingIndex(u);this.insertFrame(e,t,r,l+a,s,o,n);break}case n.removeFrame:U(r,l+d.siblingIndex(u));break;case n.setAttribute:{const n=d.newTreeIndex(u),o=e.referenceFramesEntry(s,n),a=$(r,l+d.siblingIndex(u));if(!(a instanceof Element))throw new Error("Cannot set attribute on non-element child");this.applyAttribute(e,t,a,o);break}case n.removeAttribute:{const e=$(r,l+d.siblingIndex(u));if(!(e instanceof Element))throw new Error("Cannot remove attribute from non-element child");{const t=d.removedAttributeName(u);this.setOrRemoveAttributeOrProperty(e,t,null)}break}case n.updateText:{const t=d.newTreeIndex(u),n=e.referenceFramesEntry(s,t),o=$(r,l+d.siblingIndex(u));if(!(o instanceof Text))throw new Error("Cannot set text content on non-text child");o.textContent=h.textContent(n);break}case n.updateMarkup:{const t=d.newTreeIndex(u),n=e.referenceFramesEntry(s,t),o=d.siblingIndex(u);U(r,l+o),this.insertMarkup(e,r,l+o,n);break}case n.stepIn:r=$(r,l+d.siblingIndex(u)),c++,l=0;break;case n.stepOut:r=z(r),c--,l=0===c?o:0;break;case n.permutationListEntry:i=i||[],i.push({fromSiblingIndex:l+d.siblingIndex(u),toSiblingIndex:l+d.moveToSiblingIndex(u)});break;case n.permutationListEnd:Y(r,i),i=void 0;break;default:throw new Error(`Unknown edit type: ${p}`)}}}insertFrame(e,t,n,o,a,s,i){const c=e.frameReader,l=c.frameType(s);switch(l){case r.element:return this.insertElement(e,t,n,o,a,s,i),1;case r.text:return this.insertText(e,n,o,s),1;case r.attribute:throw new Error("Attribute frames should only be present as leading children of element frames.");case r.component:return this.insertComponent(e,n,o,s),1;case r.region:return this.insertFrameRange(e,t,n,o,a,i+1,i+c.subtreeLength(s));case r.elementReferenceCapture:if(n instanceof Element)return u=n,d=c.elementReferenceCaptureId(s),u.setAttribute(Q(d),""),0;throw new Error("Reference capture frames can only be children of element frames.");case r.markup:return this.insertMarkup(e,n,o,s),1;case r.namedEvent:return 0;default:throw new Error(`Unknown frame type: ${l}`)}var u,d}insertElement(e,t,n,o,a,s,i){const c=e.frameReader,l=c.elementName(s),u="svg"===l||W(n)?document.createElementNS("http://www.w3.org/2000/svg",l):document.createElement(l),d=B(u);let h=!1;const f=i+c.subtreeLength(s);for(let s=i+1;s<f;s++){const i=e.referenceFramesEntry(a,s);if(c.frameType(i)!==r.attribute){J(u,n,o),h=!0,this.insertFrameRange(e,t,d,0,a,s,f);break}this.applyAttribute(e,t,u,i)}var p;h||J(u,n,o),(p=u)instanceof HTMLOptionElement?ae(p):te in p&&oe(p,p[te])}insertComponent(e,t,n,r){const o=j(t,n),a=e.frameReader.componentId(r);this.attachComponentToElement(a,o)}insertText(e,t,n,r){const o=e.frameReader.textContent(r);J(document.createTextNode(o),t,n)}insertMarkup(e,t,n,r){const o=j(t,n),a=(s=e.frameReader.markupContent(r),W(t)?(ie.innerHTML=s||" ",ie):(se.innerHTML=s||" ",se.content.querySelectorAll("script").forEach((e=>{const t=document.createElement("script");t.textContent=e.textContent,e.getAttributeNames().forEach((n=>{t.setAttribute(n,e.getAttribute(n))})),e.parentNode.replaceChild(t,e)})),se.content));var s;let i=0;for(;a.firstChild;)J(a.firstChild,o,i++)}applyAttribute(e,t,n,r){const o=e.frameReader,a=o.attributeName(r),s=o.attributeEventHandlerId(r);if(s){const e=pe(a);return void this.eventDelegator.setListener(n,e,s,t)}const i=o.attributeValue(r);this.setOrRemoveAttributeOrProperty(n,a,i)}insertFrameRange(e,t,n,r,o,a,s){const i=r;for(let i=a;i<s;i++){const a=e.referenceFramesEntry(o,i);r+=this.insertFrame(e,t,n,r,o,a,i),i+=fe(e,a)}return r-i}setOrRemoveAttributeOrProperty(e,t,n){(function(e,t,n){switch(t){case"value":return function(e,t){switch(t&&"INPUT"===e.tagName&&(t=function(e,t){switch(t.getAttribute("type")){case"time":return 8!==e.length||!e.endsWith("00")&&t.hasAttribute("step")?e:e.substring(0,5);case"datetime-local":return 19!==e.length||!e.endsWith("00")&&t.hasAttribute("step")?e:e.substring(0,16);default:return e}}(t,e)),e.tagName){case"INPUT":case"SELECT":case"TEXTAREA":return t&&e instanceof HTMLSelectElement&&ne(e)&&(t=JSON.parse(t)),oe(e,t),e[te]=t,!0;case"OPTION":return t||""===t?e.setAttribute("value",t):e.removeAttribute("value"),ae(e),!0;default:return!1}}(e,n);case"checked":return function(e,t){return"INPUT"===e.tagName&&(e.checked=null!==t,!0)}(e,n);default:return!1}})(e,t,n)||(t.startsWith("__internal_")?this.applyInternalAttribute(e,t.substring(11),n):null!==n?e.setAttribute(t,n):e.removeAttribute(t))}applyInternalAttribute(e,t,n){if(t.startsWith("stopPropagation_")){const r=pe(t.substring(16));this.eventDelegator.setStopPropagation(e,r,null!==n)}else{if(!t.startsWith("preventDefault_"))throw new Error(`Unsupported internal attribute '${t}'`);{const r=pe(t.substring(15));this.eventDelegator.setPreventDefault(e,r,null!==n)}}}}function he(e,t){e[le]=t}function fe(e,t){const n=e.frameReader;switch(n.frameType(t)){case r.component:case r.element:case r.region:return n.subtreeLength(t)-1;default:return 0}}function pe(e){if(e.startsWith("on"))return e.substring(2);throw new Error(`Attribute should be an event name, but doesn't start with 'on'. Value: '${e}'`)}const me={};let be,ve,ge=!1;function ye(e){const t=(n=document.baseURI).substring(0,n.lastIndexOf("/"));var n;const r=e.charAt(t.length);return e.startsWith(t)&&(""===r||"/"===r||"?"===r||"#"===r)}function we(e){document.getElementById(e)?.scrollIntoView()}function Ee(e){return ve=ve||document.createElement("a"),ve.href=e,ve.href}function Se(){return void 0!==be}function Ce(){return be}let Ie=!1,De=0,Ae=0;const Ne=new Map;let Re=async function(e){Fe();const t=Me();if(t?.hasLocationChangingEventListeners){const n=e.state?._index??0,r=e.state?.userState,o=n-De,a=location.href;if(await xe(-o),!await Pe(a,r,!1,t))return;await xe(o)}await He(!0)},Te=null;const ke={listenForNavigationEvents:function(e,t,n){Ne.set(e,{rendererId:e,hasLocationChangingEventListeners:!1,locationChanged:t,locationChanging:n}),Ie||(Ie=!0,window.addEventListener("popstate",Be),De=history.state?._index??0)},enableNavigationInterception:function(e){if(void 0!==be&&be!==e)throw new Error("Only one interactive runtime may enable navigation interception at a time.");be=e},setHasLocationChangingListeners:function(e,t){const n=Ne.get(e);if(!n)throw new Error(`Renderer with ID '${e}' is not listening for navigation events`);n.hasLocationChangingEventListeners=t},endLocationChanging:function(e,t){Te&&e===Ae&&(Te(t),Te=null)},navigateTo:function(e,t){Oe(e,t,!0)},refresh:function(e){location.reload()},getBaseURI:()=>document.baseURI,getLocationHref:()=>location.href,scrollToElement:we};function Oe(e,t,n=!1){const r=Ee(e);!t.forceLoad&&ye(r)?_e(r,!1,t.replaceHistoryEntry,t.historyEntryState,n):function(e,t){if(location.href===e){const t=e+"?";history.replaceState(null,"",t),location.replace(e)}else t?location.replace(e):location.href=e}(e,t.replaceHistoryEntry)}async function _e(e,t,n,r=void 0,o=!1){if(Fe(),function(e,t){const n=new URL(e),r=new URL(t);return n.origin===r.origin&&n.pathname===r.pathname&&n.search===r.search&&""!==r.hash}(location.href,e))return Le(e,n,r),void function(e){const t=e.indexOf("#");t!==e.length-1&&we(e.substring(t+1))}(e);const a=Me();(o||!a?.hasLocationChangingEventListeners||await Pe(e,r,t,a))&&(function(e,t){const n=new URL(e),r=new URL(t);return n.protocol===r.protocol&&n.host===r.host&&n.port===r.port&&n.pathname===r.pathname}(e,location.href)||(ge=!0),Le(e,n,r),await He(t))}function Le(e,t,n=void 0){t?history.replaceState({userState:n,_index:De},"",e):(De++,history.pushState({userState:n,_index:De},"",e))}function xe(e){return new Promise((t=>{const n=Re;Re=()=>{Re=n,t()},history.go(e)}))}function Fe(){Te&&(Te(!1),Te=null)}function Pe(e,t,n,r){return new Promise((o=>{Fe(),Ae++,Te=o,r.locationChanging(Ae,e,t,n)}))}async function He(e,t){const n=location.href;await Promise.all(Array.from(Ne,(async([t,r])=>{D(t)&&await r.locationChanged(n,history.state?.userState,e)})))}async function Be(e){Re&&(Se(),1)&&await Re(e),De=history.state?._index??0}function Me(){const e=Ce();if(void 0!==e)return Ne.get(e)}const je={focus:function(e,t){if(e instanceof HTMLElement)e.focus({preventScroll:t});else{if(!(e instanceof SVGElement))throw new Error("Unable to focus an invalid element.");if(!e.hasAttribute("tabindex"))throw new Error("Unable to focus an SVG element that does not have a tabindex.");e.focus({preventScroll:t})}},focusBySelector:function(e){const t=document.querySelector(e);t&&(t.hasAttribute("tabindex")||(t.tabIndex=-1),t.focus({preventScroll:!0}))}},Je={init:function(e,t,n,r=50){const o=ze(t);(o||document.documentElement).style.overflowAnchor="none";const a=document.createRange();h(n.parentElement)&&(t.style.display="table-row",n.style.display="table-row");const s=new IntersectionObserver((function(r){r.forEach((r=>{if(!r.isIntersecting)return;a.setStartAfter(t),a.setEndBefore(n);const o=a.getBoundingClientRect().height,s=r.rootBounds?.height;r.target===t?e.invokeMethodAsync("OnSpacerBeforeVisible",r.intersectionRect.top-r.boundingClientRect.top,o,s):r.target===n&&n.offsetHeight>0&&e.invokeMethodAsync("OnSpacerAfterVisible",r.boundingClientRect.bottom-r.intersectionRect.bottom,o,s)}))}),{root:o,rootMargin:`${r}px`});s.observe(t),s.observe(n);const i=d(t),c=d(n),{observersByDotNetObjectId:l,id:u}=$e(e);function d(e){const t={attributes:!0},n=new MutationObserver(((n,r)=>{h(e.parentElement)&&(r.disconnect(),e.style.display="table-row",r.observe(e,t)),s.unobserve(e),s.observe(e)}));return n.observe(e,t),n}function h(e){return null!==e&&(e instanceof HTMLTableElement&&""===e.style.display||"table"===e.style.display||e instanceof HTMLTableSectionElement&&""===e.style.display||"table-row-group"===e.style.display)}l[u]={intersectionObserver:s,mutationObserverBefore:i,mutationObserverAfter:c}},dispose:function(e){const{observersByDotNetObjectId:t,id:n}=$e(e),r=t[n];r&&(r.intersectionObserver.disconnect(),r.mutationObserverBefore.disconnect(),r.mutationObserverAfter.disconnect(),e.dispose(),delete t[n])}},Ue=Symbol();function ze(e){return e&&e!==document.body&&e!==document.documentElement?"visible"!==getComputedStyle(e).overflowY?e:ze(e.parentElement):null}function $e(e){const t=e._callDispatcher,n=e._id;return t[Ue]??={},{observersByDotNetObjectId:t[Ue],id:n}}const We={getAndRemoveExistingTitle:function(){const e=document.head?document.head.getElementsByTagName("title"):[];if(0===e.length)return null;let t=null;for(let n=e.length-1;n>=0;n--){const r=e[n],o=r.previousSibling;o instanceof Comment&&null!==z(o)||(null===t&&(t=r.textContent),r.parentNode?.removeChild(r))}return t}},Ke={init:function(e,t){t._blazorInputFileNextFileId=0,t.addEventListener("click",(function(){t.value=""})),t.addEventListener("change",(function(){t._blazorFilesById={};const n=Array.prototype.map.call(t.files,(function(e){const n={id:++t._blazorInputFileNextFileId,lastModified:new Date(e.lastModified).toISOString(),name:e.name,size:e.size,contentType:e.type,readPromise:void 0,arrayBuffer:void 0,blob:e};return t._blazorFilesById[n.id]=n,n}));e.invokeMethodAsync("NotifyChange",n)}))},toImageFile:async function(e,t,n,r,o){const a=Ve(e,t),s=await new Promise((function(e){const t=new Image;t.onload=function(){URL.revokeObjectURL(t.src),e(t)},t.onerror=function(){t.onerror=null,URL.revokeObjectURL(t.src)},t.src=URL.createObjectURL(a.blob)})),i=await new Promise((function(e){const t=Math.min(1,r/s.width),a=Math.min(1,o/s.height),i=Math.min(t,a),c=document.createElement("canvas");c.width=Math.round(s.width*i),c.height=Math.round(s.height*i),c.getContext("2d")?.drawImage(s,0,0,c.width,c.height),c.toBlob(e,n)})),c={id:++e._blazorInputFileNextFileId,lastModified:a.lastModified,name:a.name,size:i?.size||0,contentType:n,blob:i||a.blob};return e._blazorFilesById[c.id]=c,c},readFileData:async function(e,t){return Ve(e,t).blob}};function Ve(e,t){const n=e._blazorFilesById[t];if(!n)throw new Error(`There is no file with ID ${t}. The file list may have changed. See https://aka.ms/aspnet/blazor-input-file-multiple-selections.`);return n}const Xe=new Set,Ye={enableNavigationPrompt:function(e){0===Xe.size&&window.addEventListener("beforeunload",Ge),Xe.add(e)},disableNavigationPrompt:function(e){Xe.delete(e),0===Xe.size&&window.removeEventListener("beforeunload",Ge)}};function Ge(e){e.preventDefault(),e.returnValue=!0}const qe=new Map,Ze={navigateTo:function(e,t,n=!1){Oe(e,t instanceof Object?t:{forceLoad:t,replaceHistoryEntry:n})},registerCustomEventType:function(e,t){if(!t)throw new Error("The options parameter is required.");if(a.has(e))throw new Error(`The event '${e}' is already registered.`);if(t.browserEventName){const n=s.get(t.browserEventName);n?n.push(e):s.set(t.browserEventName,[e]),i.forEach((n=>n(e,t.browserEventName)))}a.set(e,t)},rootComponents:g,runtime:{},_internal:{navigationManager:ke,domWrapper:je,Virtualize:Je,PageTitle:We,InputFile:Ke,NavigationLock:Ye,getJSDataStreamChunk:async function(e,t,n){return e instanceof Blob?await async function(e,t,n){const r=e.slice(t,t+n),o=await r.arrayBuffer();return new Uint8Array(o)}(e,t,n):function(e,t,n){return new Uint8Array(e.buffer,e.byteOffset+t,n)}(e,t,n)},attachWebRendererInterop:function(e,n,r,o){if(S.has(e))throw new Error(`Interop methods are already registered for renderer ${e}`);S.set(e,n),r&&o&&Object.keys(r).length>0&&function(e,n,r){if(m)throw new Error("Dynamic root components have already been enabled.");m=e,b=n;for(const[e,o]of Object.entries(r)){const r=t.findJSFunction(e,0);for(const e of o)r(e,n[e])}}(N(e),r,o),I.get(e)?.[0]?.(),function(e){for(const t of C)t(e)}(e)}}};window.Blazor=Ze;let Qe=!1;const et="function"==typeof TextDecoder?new TextDecoder("utf-8"):null,tt=et?et.decode.bind(et):function(e){let t=0;const n=e.length,r=[],o=[];for(;t<n;){const n=e[t++];if(0===n)break;if(128&n){if(192==(224&n)){const o=63&e[t++];r.push((31&n)<<6|o)}else if(224==(240&n)){const o=63&e[t++],a=63&e[t++];r.push((31&n)<<12|o<<6|a)}else if(240==(248&n)){let o=(7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++];o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o)}}else r.push(n);r.length>1024&&(o.push(String.fromCharCode.apply(null,r)),r.length=0)}return o.push(String.fromCharCode.apply(null,r)),o.join("")},nt=Math.pow(2,32),rt=Math.pow(2,21)-1;function ot(e,t){return e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24}function at(e,t){return e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24>>>0)}function st(e,t){const n=at(e,t+4);if(n>rt)throw new Error(`Cannot read uint64 with high order part ${n}, because the result would exceed Number.MAX_SAFE_INTEGER.`);return n*nt+at(e,t)}class it{constructor(e){this.batchData=e;const t=new dt(e);this.arrayRangeReader=new ht(e),this.arrayBuilderSegmentReader=new ft(e),this.diffReader=new ct(e),this.editReader=new lt(e,t),this.frameReader=new ut(e,t)}updatedComponents(){return ot(this.batchData,this.batchData.length-20)}referenceFrames(){return ot(this.batchData,this.batchData.length-16)}disposedComponentIds(){return ot(this.batchData,this.batchData.length-12)}disposedEventHandlerIds(){return ot(this.batchData,this.batchData.length-8)}updatedComponentsEntry(e,t){const n=e+4*t;return ot(this.batchData,n)}referenceFramesEntry(e,t){return e+20*t}disposedComponentIdsEntry(e,t){const n=e+4*t;return ot(this.batchData,n)}disposedEventHandlerIdsEntry(e,t){const n=e+8*t;return st(this.batchData,n)}}class ct{constructor(e){this.batchDataUint8=e}componentId(e){return ot(this.batchDataUint8,e)}edits(e){return e+4}editsEntry(e,t){return e+16*t}}class lt{constructor(e,t){this.batchDataUint8=e,this.stringReader=t}editType(e){return ot(this.batchDataUint8,e)}siblingIndex(e){return ot(this.batchDataUint8,e+4)}newTreeIndex(e){return ot(this.batchDataUint8,e+8)}moveToSiblingIndex(e){return ot(this.batchDataUint8,e+8)}removedAttributeName(e){const t=ot(this.batchDataUint8,e+12);return this.stringReader.readString(t)}}class ut{constructor(e,t){this.batchDataUint8=e,this.stringReader=t}frameType(e){return ot(this.batchDataUint8,e)}subtreeLength(e){return ot(this.batchDataUint8,e+4)}elementReferenceCaptureId(e){const t=ot(this.batchDataUint8,e+4);return this.stringReader.readString(t)}componentId(e){return ot(this.batchDataUint8,e+8)}elementName(e){const t=ot(this.batchDataUint8,e+8);return this.stringReader.readString(t)}textContent(e){const t=ot(this.batchDataUint8,e+4);return this.stringReader.readString(t)}markupContent(e){const t=ot(this.batchDataUint8,e+4);return this.stringReader.readString(t)}attributeName(e){const t=ot(this.batchDataUint8,e+4);return this.stringReader.readString(t)}attributeValue(e){const t=ot(this.batchDataUint8,e+8);return this.stringReader.readString(t)}attributeEventHandlerId(e){return st(this.batchDataUint8,e+12)}}class dt{constructor(e){this.batchDataUint8=e,this.stringTableStartIndex=ot(e,e.length-4)}readString(e){if(-1===e)return null;{const n=ot(this.batchDataUint8,this.stringTableStartIndex+4*e),r=function(e,t){let n=0,r=0;for(let o=0;o<4;o++){const a=e[t+o];if(n|=(127&a)<<r,a<128)break;r+=7}return n}(this.batchDataUint8,n),o=n+((t=r)<128?1:t<16384?2:t<2097152?3:4),a=new Uint8Array(this.batchDataUint8.buffer,this.batchDataUint8.byteOffset+o,r);return tt(a)}var t}}class ht{constructor(e){this.batchDataUint8=e}count(e){return ot(this.batchDataUint8,e)}values(e){return e+4}}class ft{constructor(e){this.batchDataUint8=e}offset(e){return 0}count(e){return ot(this.batchDataUint8,e)}values(e){return e+4}}const pt="__bwv:";let mt=!1;function bt(e,t){St("OnRenderCompleted",e,t)}function vt(e,t,n,r,o){St("BeginInvokeDotNet",e?e.toString():null,t,n,r||0,o)}function gt(e,t,n){St("EndInvokeJS",e,t,n)}function yt(e,t){const n=function(e){const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=String.fromCharCode(e[n]);return btoa(t.join(""))}(t);St("ReceiveByteArrayFromJS",e,n)}function wt(e,t,n){return St("OnLocationChanged",e,t,n),Promise.resolve()}function Et(e,t,n,r){return St("OnLocationChanging",e,t,n,r),Promise.resolve()}function St(e,...t){const n=function(e,t){return mt?null:`${pt}${JSON.stringify([e,...t])}`}(e,t);n&&window.external.sendMessage(n)}var Ct,It;function Dt(t,n){const r=At(n);e.dispatcher.receiveByteArray(t,r)}function At(e){const t=atob(e),n=t.length,r=new Uint8Array(n);for(let e=0;e<n;e++)r[e]=t.charCodeAt(e);return r}!function(e){e[e.Default=0]="Default",e[e.Server=1]="Server",e[e.WebAssembly=2]="WebAssembly",e[e.WebView=3]="WebView"}(Ct||(Ct={})),function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None"}(It||(It={}));class Nt{constructor(e=!0,t,n,r=0){this.singleRuntime=e,this.logger=t,this.webRendererId=r,this.afterStartedCallbacks=[],n&&this.afterStartedCallbacks.push(...n)}async importInitializersAsync(e,t){await Promise.all(e.map((e=>async function(e,n){let r;var o;n.moduleExports||(o=n.name,r=new URL(o,document.baseURI).toString(),n.moduleExports=await import(r));const a=n.moduleExports;if(void 0!==a){if(e.singleRuntime){const{beforeStart:n,afterStarted:r,beforeWebAssemblyStart:o,afterWebAssemblyStarted:i,beforeServerStart:c,afterServerStarted:l}=a;let u=n;e.webRendererId===Ct.Server&&c&&(u=c),e.webRendererId===Ct.WebAssembly&&o&&(u=o);let d=r;return e.webRendererId===Ct.Server&&l&&(d=l),e.webRendererId===Ct.WebAssembly&&i&&(d=i),s(e,u,d,t)}return function(e,t,n){const o=n[0],{beforeStart:a,afterStarted:i,beforeWebStart:c,afterWebStarted:l,beforeWebAssemblyStart:u,afterWebAssemblyStarted:d,beforeServerStart:h,afterServerStarted:f}=t,p=!(c||l||u||d||h||f||!a&&!i),m=p&&o.enableClassicInitializers;if(p&&!o.enableClassicInitializers)e.logger?.log(It.Warning,`Initializer '${r}' will be ignored because multiple runtimes are available. Use 'before(Web|WebAssembly|Server)Start' and 'after(Web|WebAssembly|Server)Started' instead.`);else if(m)return s(e,a,i,n);if(function(e){e.webAssembly?e.webAssembly.initializers||(e.webAssembly.initializers={beforeStart:[],afterStarted:[]}):e.webAssembly={initializers:{beforeStart:[],afterStarted:[]}},e.circuit?e.circuit.initializers||(e.circuit.initializers={beforeStart:[],afterStarted:[]}):e.circuit={initializers:{beforeStart:[],afterStarted:[]}}}(o),u&&o.webAssembly.initializers.beforeStart.push(u),d&&o.webAssembly.initializers.afterStarted.push(d),h&&o.circuit.initializers.beforeStart.push(h),f&&o.circuit.initializers.afterStarted.push(f),l&&e.afterStartedCallbacks.push(l),c)return c(o)}(e,a,t)}function s(e,t,n,r){if(n&&e.afterStartedCallbacks.push(n),t)return t(...r)}}(this,e))))}async invokeAfterStartedCallbacks(e){const t=(n=this.webRendererId,I.get(n)?.[1]);var n;t&&await t,await Promise.all(this.afterStartedCallbacks.map((t=>t(e))))}}let Rt=!1;async function Tt(){if(Rt)throw new Error("Blazor has already started.");Rt=!0,e.dispatcher=t.attachDispatcher({beginInvokeDotNetFromJS:vt,endInvokeJSFromDotNet:gt,sendByteArray:yt});const n=await async function(){const e=await fetch("_framework/blazor.modules.json",{method:"GET",credentials:"include",cache:"no-cache"}),t=(await e.json()).map((e=>({name:e}))),n=new Nt;return await n.importInitializersAsync(t,[]),n}();(function(){const t={AttachToDocument:(e,t)=>{!function(e,t,n){const r="::before";let o=!1;if(e.endsWith("::after"))e=e.slice(0,-7),o=!0;else if(e.endsWith(r))throw new Error(`The '${r}' selector is not supported.`);const a=function(e){const t=p.get(e);if(t)return p.delete(e),t}(e)||document.querySelector(e);if(!a)throw new Error(`Could not find any element matching selector '${e}'.`);!function(e,t,n,r){let o=me[e];o||(o=new de(e),me[e]=o),o.attachRootComponentToLogicalElement(n,t,r)}(n,B(a,!0),t,o)}(t,e,Ct.WebView)},RenderBatch:(e,t)=>{try{const n=At(t);(function(e,t){const n=me[e];if(!n)throw new Error(`There is no browser renderer with ID ${e}.`);const r=t.arrayRangeReader,o=t.updatedComponents(),a=r.values(o),s=r.count(o),i=t.referenceFrames(),c=r.values(i),l=t.diffReader;for(let e=0;e<s;e++){const r=t.updatedComponentsEntry(a,e),o=l.componentId(r),s=l.edits(r);n.updateComponent(t,o,s,c)}const u=t.disposedComponentIds(),d=r.values(u),h=r.count(u);for(let e=0;e<h;e++){const r=t.disposedComponentIdsEntry(d,e);n.disposeComponent(r)}const f=t.disposedEventHandlerIds(),p=r.values(f),m=r.count(f);for(let e=0;e<m;e++){const r=t.disposedEventHandlerIdsEntry(p,e);n.disposeEventHandler(r)}ge&&(ge=!1,window.scrollTo&&window.scrollTo(0,0))})(Ct.WebView,new it(n)),bt(e,null)}catch(t){bt(e,t.toString())}},NotifyUnhandledException:(e,t)=>{mt=!0,console.error(`${e}\n${t}`),function(){const e=document.querySelector("#blazor-error-ui");e&&(e.style.display="block"),Qe||(Qe=!0,document.querySelectorAll("#blazor-error-ui .reload").forEach((e=>{e.onclick=function(e){location.reload(),e.preventDefault()}})),document.querySelectorAll("#blazor-error-ui .dismiss").forEach((e=>{e.onclick=function(e){const t=document.querySelector("#blazor-error-ui");t&&(t.style.display="none"),e.preventDefault()}})))}()},BeginInvokeJS:e.dispatcher.beginInvokeJSFromDotNet.bind(e.dispatcher),EndInvokeDotNet:e.dispatcher.endInvokeDotNetFromJS.bind(e.dispatcher),SendByteArrayToJS:Dt,Navigate:ke.navigateTo,Refresh:ke.refresh,SetHasLocationChangingListeners:e=>{ke.setHasLocationChangingListeners(Ct.WebView,e)},EndLocationChanging:ke.endLocationChanging};window.external.receiveMessage((e=>{const n=function(e){if(mt||!e||!e.startsWith(pt))return null;const t=e.substring(6),[n,...r]=JSON.parse(t);return{messageType:n,args:r}}(e);if(n){if(!Object.prototype.hasOwnProperty.call(t,n.messageType))throw new Error(`Unsupported IPC message type '${n.messageType}'`);t[n.messageType].apply(null,n.args)}}))})(),Ze._internal.receiveWebViewDotNetDataStream=kt,ke.enableNavigationInterception(Ct.WebView),ke.listenForNavigationEvents(Ct.WebView,wt,Et),St("AttachPage",ke.getBaseURI(),ke.getLocationHref()),await n.invokeAfterStartedCallbacks(Ze)}function kt(t,n,r,o){!function(e,t,n,r,o){let a=qe.get(t);if(!a){const n=new ReadableStream({start(e){qe.set(t,e),a=e}});e.supplyDotNetStream(t,n)}o?(a.error(o),qe.delete(t)):0===r?(a.close(),qe.delete(t)):a.enqueue(n.length===r?n:n.subarray(0,r))}(e.dispatcher,t,n,r,o)}e.dispatcher=void 0,Ze.start=Tt,window.DotNet=t,document&&document.currentScript&&"false"!==document.currentScript.getAttribute("autostart")&&Tt()}({});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmxhem9yLndlYnZpZXcuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL0pTSW50ZXJvcC9NaWNyb3NvZnQuSlNJbnRlcm9wLkpTL3NyYy9kaXN0L3NyYy9NaWNyb3NvZnQuSlNJbnRlcm9wLmpzIiwiLi4vLi4vc3JjL1JlbmRlcmluZy9SZW5kZXJCYXRjaC9SZW5kZXJCYXRjaC50cyIsIi4uLy4uL3NyYy9SZW5kZXJpbmcvRXZlbnRzL0V2ZW50RmllbGRJbmZvLnRzIiwiLi4vLi4vc3JjL1JlbmRlcmluZy9FdmVudHMvRXZlbnRUeXBlcy50cyIsIi4uLy4uL3NyYy9SZW5kZXJpbmcvSlNSb290Q29tcG9uZW50cy50cyIsIi4uLy4uL3NyYy9SZW5kZXJpbmcvV2ViUmVuZGVyZXJJbnRlcm9wTWV0aG9kcy50cyIsIi4uLy4uL3NyYy9SZW5kZXJpbmcvRXZlbnRzL0V2ZW50RGVsZWdhdG9yLnRzIiwiLi4vLi4vc3JjL1JlbmRlcmluZy9Mb2dpY2FsRWxlbWVudHMudHMiLCIuLi8uLi9zcmMvUmVuZGVyaW5nL0VsZW1lbnRSZWZlcmVuY2VDYXB0dXJlLnRzIiwiLi4vLi4vc3JjL1JlbmRlcmluZy9Eb21TcGVjaWFsUHJvcGVydHlVdGlsLnRzIiwiLi4vLi4vc3JjL1JlbmRlcmluZy9Ccm93c2VyUmVuZGVyZXIudHMiLCIuLi8uLi9zcmMvU2VydmljZXMvTmF2aWdhdGlvbk1hbmFnZXIudHMiLCIuLi8uLi9zcmMvU2VydmljZXMvTmF2aWdhdGlvblV0aWxzLnRzIiwiLi4vLi4vc3JjL1JlbmRlcmluZy9SZW5kZXJlci50cyIsIi4uLy4uL3NyYy9Eb21XcmFwcGVyLnRzIiwiLi4vLi4vc3JjL1ZpcnR1YWxpemUudHMiLCIuLi8uLi9zcmMvUGFnZVRpdGxlLnRzIiwiLi4vLi4vc3JjL0lucHV0RmlsZS50cyIsIi4uLy4uL3NyYy9OYXZpZ2F0aW9uTG9jay50cyIsIi4uLy4uL3NyYy9TdHJlYW1pbmdJbnRlcm9wLnRzIiwiLi4vLi4vc3JjL0dsb2JhbEV4cG9ydHMudHMiLCIuLi8uLi9zcmMvQm9vdEVycm9ycy50cyIsIi4uLy4uL3NyYy9VdGY4RGVjb2Rlci50cyIsIi4uLy4uL3NyYy9CaW5hcnlEZWNvZGVyLnRzIiwiLi4vLi4vc3JjL1JlbmRlcmluZy9SZW5kZXJCYXRjaC9PdXRPZlByb2Nlc3NSZW5kZXJCYXRjaC50cyIsIi4uLy4uL3NyYy9QbGF0Zm9ybS9XZWJWaWV3L1dlYlZpZXdJcGNDb21tb24udHMiLCIuLi8uLi9zcmMvUGxhdGZvcm0vV2ViVmlldy9XZWJWaWV3SXBjU2VuZGVyLnRzIiwiLi4vLi4vc3JjL1JlbmRlcmluZy9XZWJSZW5kZXJlcklkLnRzIiwiLi4vLi4vc3JjL1BsYXRmb3JtL0xvZ2dpbmcvTG9nZ2VyLnRzIiwiLi4vLi4vc3JjL1BsYXRmb3JtL1dlYlZpZXcvV2ViVmlld0lwY1JlY2VpdmVyLnRzIiwiLi4vLi4vc3JjL0pTSW5pdGlhbGl6ZXJzL0pTSW5pdGlhbGl6ZXJzLnRzIiwiLi4vLi4vc3JjL0Jvb3QuV2ViVmlldy50cyIsIi4uLy4uL3NyYy9KU0luaXRpYWxpemVycy9KU0luaXRpYWxpemVycy5XZWJWaWV3LnRzIiwiLi4vLi4vc3JjL0Jvb3RDb21tb24udHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbi8vIFRoaXMgaXMgYSBzaW5nbGUtZmlsZSBzZWxmLWNvbnRhaW5lZCBtb2R1bGUgdG8gYXZvaWQgdGhlIG5lZWQgZm9yIGEgV2VicGFjayBidWlsZFxuZXhwb3J0IHZhciBEb3ROZXQ7XG4oZnVuY3Rpb24gKERvdE5ldCkge1xuICAgIGNvbnN0IGpzb25SZXZpdmVycyA9IFtdO1xuICAgIGNvbnN0IGpzT2JqZWN0SWRLZXkgPSBcIl9fanNPYmplY3RJZFwiO1xuICAgIGNvbnN0IGRvdE5ldE9iamVjdFJlZktleSA9IFwiX19kb3ROZXRPYmplY3RcIjtcbiAgICBjb25zdCBieXRlQXJyYXlSZWZLZXkgPSBcIl9fYnl0ZVtdXCI7XG4gICAgY29uc3QgZG90TmV0U3RyZWFtUmVmS2V5ID0gXCJfX2RvdE5ldFN0cmVhbVwiO1xuICAgIGNvbnN0IGpzU3RyZWFtUmVmZXJlbmNlTGVuZ3RoS2V5ID0gXCJfX2pzU3RyZWFtUmVmZXJlbmNlTGVuZ3RoXCI7XG4gICAgLy8gSWYgdW5kZWZpbmVkLCBubyBkaXNwYXRjaGVyIGhhcyBiZWVuIGF0dGFjaGVkIHlldC5cbiAgICAvLyBJZiBudWxsLCB0aGlzIG1lYW5zIG1vcmUgdGhhbiBvbmUgZGlzcGF0Y2hlciB3YXMgYXR0YWNoZWQsIHNvIG5vIGRlZmF1bHQgY2FuIGJlIGRldGVybWluZWQuXG4gICAgLy8gT3RoZXJ3aXNlLCB0aGVyZSB3YXMgb25seSBvbmUgZGlzcGF0Y2hlciByZWdpc3RlcmVkLiBXZSBrZWVwIHRyYWNrIG9mIHRoaXMgaW5zdGFuY2UgdG8ga2VlcCBsZWdhY3kgQVBJcyB3b3JraW5nLlxuICAgIGxldCBkZWZhdWx0Q2FsbERpc3BhdGNoZXI7XG4gICAgLy8gUHJvdmlkZXMgYWNjZXNzIHRvIHRoZSBcImN1cnJlbnRcIiBjYWxsIGRpc3BhdGNoZXIgd2l0aG91dCBoYXZpbmcgdG8gZmxvdyBpdCB0aHJvdWdoIG5lc3RlZCBmdW5jdGlvbiBjYWxscy5cbiAgICBsZXQgY3VycmVudENhbGxEaXNwYXRjaGVyO1xuICAgIGNsYXNzIEpTT2JqZWN0IHtcbiAgICAgICAgO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICBjb25zdHJ1Y3RvcihfanNPYmplY3QpIHtcbiAgICAgICAgICAgIHRoaXMuX2pzT2JqZWN0ID0gX2pzT2JqZWN0O1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVkSGFuZGxlcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZUludm9jYXRpb25IYW5kbGVyKGlkZW50aWZpZXIsIGNhbGxUeXBlKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBjb25zdCBjYWNoZWRGdW5jdGlvbiA9IChfYSA9IHRoaXMuX2NhY2hlZEhhbmRsZXJzLmdldChpZGVudGlmaWVyKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hW2NhbGxUeXBlXTtcbiAgICAgICAgICAgIGlmIChjYWNoZWRGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZWRGdW5jdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IFtwYXJlbnQsIG1lbWJlck5hbWVdID0gZmluZE9iamVjdE1lbWJlcih0aGlzLl9qc09iamVjdCwgaWRlbnRpZmllcik7XG4gICAgICAgICAgICBjb25zdCBmdW5jID0gd3JhcEpTQ2FsbEFzRnVuY3Rpb24ocGFyZW50LCBtZW1iZXJOYW1lLCBjYWxsVHlwZSwgaWRlbnRpZmllcik7XG4gICAgICAgICAgICB0aGlzLmFkZEhhbmRsZXJUb0NhY2hlKGlkZW50aWZpZXIsIGZ1bmMsIGNhbGxUeXBlKTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jO1xuICAgICAgICB9XG4gICAgICAgIGdldFdyYXBwZWRPYmplY3QoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fanNPYmplY3Q7XG4gICAgICAgIH1cbiAgICAgICAgYWRkSGFuZGxlclRvQ2FjaGUoaWRlbnRpZmllciwgZnVuYywgY2FsbFR5cGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlZElkZW50aWZpZXIgPSB0aGlzLl9jYWNoZWRIYW5kbGVycy5nZXQoaWRlbnRpZmllcik7XG4gICAgICAgICAgICBpZiAoY2FjaGVkSWRlbnRpZmllcikge1xuICAgICAgICAgICAgICAgIGNhY2hlZElkZW50aWZpZXJbY2FsbFR5cGVdID0gZnVuYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlZEhhbmRsZXJzLnNldChpZGVudGlmaWVyLCB7IFtjYWxsVHlwZV06IGZ1bmMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgKiBSZXByZXNlbnRzIHRoZSB0eXBlIG9mIG9wZXJhdGlvbiB0aGF0IHNob3VsZCBiZSBwZXJmb3JtZWQgaW4gSlMuXG4gICAgKi9cbiAgICBsZXQgSlNDYWxsVHlwZTtcbiAgICAoZnVuY3Rpb24gKEpTQ2FsbFR5cGUpIHtcbiAgICAgICAgSlNDYWxsVHlwZVtKU0NhbGxUeXBlW1wiRnVuY3Rpb25DYWxsXCJdID0gMV0gPSBcIkZ1bmN0aW9uQ2FsbFwiO1xuICAgICAgICBKU0NhbGxUeXBlW0pTQ2FsbFR5cGVbXCJDb25zdHJ1Y3RvckNhbGxcIl0gPSAyXSA9IFwiQ29uc3RydWN0b3JDYWxsXCI7XG4gICAgICAgIEpTQ2FsbFR5cGVbSlNDYWxsVHlwZVtcIkdldFZhbHVlXCJdID0gM10gPSBcIkdldFZhbHVlXCI7XG4gICAgICAgIEpTQ2FsbFR5cGVbSlNDYWxsVHlwZVtcIlNldFZhbHVlXCJdID0gNF0gPSBcIlNldFZhbHVlXCI7XG4gICAgfSkoSlNDYWxsVHlwZSA9IERvdE5ldC5KU0NhbGxUeXBlIHx8IChEb3ROZXQuSlNDYWxsVHlwZSA9IHt9KSk7XG4gICAgY29uc3Qgd2luZG93SlNPYmplY3RJZCA9IDA7XG4gICAgY29uc3QgY2FjaGVkSlNPYmplY3RzQnlJZCA9IHtcbiAgICAgICAgW3dpbmRvd0pTT2JqZWN0SWRdOiBuZXcgSlNPYmplY3Qod2luZG93KVxuICAgIH07XG4gICAgY29uc3Qgd2luZG93T2JqZWN0ID0gY2FjaGVkSlNPYmplY3RzQnlJZFt3aW5kb3dKU09iamVjdElkXTtcbiAgICB3aW5kb3dPYmplY3QuX2NhY2hlZEhhbmRsZXJzLnNldChcImltcG9ydFwiLCB7IFtKU0NhbGxUeXBlLkZ1bmN0aW9uQ2FsbF06ICh1cmwpID0+IHtcbiAgICAgICAgICAgIC8vIEluIG1vc3QgY2FzZXMgZGV2ZWxvcGVycyB3aWxsIHdhbnQgdG8gcmVzb2x2ZSBkeW5hbWljIGltcG9ydHMgcmVsYXRpdmUgdG8gdGhlIGJhc2UgSFJFRi5cbiAgICAgICAgICAgIC8vIEhvd2V2ZXIgc2luY2Ugd2UncmUgdGhlIG9uZSBjYWxsaW5nIHRoZSBpbXBvcnQga2V5d29yZCwgdGhleSB3b3VsZCBiZSByZXNvbHZlZCByZWxhdGl2ZSB0b1xuICAgICAgICAgICAgLy8gdGhpcyBmcmFtZXdvcmsgYnVuZGxlIFVSTC4gRml4IHRoaXMgYnkgcHJvdmlkaW5nIGFuIGFic29sdXRlIFVSTC5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXJsID09PSBcInN0cmluZ1wiICYmIHVybC5zdGFydHNXaXRoKFwiLi9cIikpIHtcbiAgICAgICAgICAgICAgICB1cmwgPSBuZXcgVVJMKHVybC5zdWJzdHJpbmcoMiksIGRvY3VtZW50LmJhc2VVUkkpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaW1wb3J0KC8qIHdlYnBhY2tJZ25vcmU6IHRydWUgKi8gdXJsKTtcbiAgICAgICAgfSB9KTtcbiAgICBsZXQgbmV4dEpzT2JqZWN0SWQgPSAxOyAvLyBTdGFydCBhdCAxIGJlY2F1c2UgemVybyBpcyByZXNlcnZlZCBmb3IgXCJ3aW5kb3dcIlxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSAuTkVUIGNhbGwgZGlzcGF0Y2hlciB0byB1c2UgZm9yIGhhbmRsaW5nIGludm9jYXRpb25zIGJldHdlZW4gSmF2YVNjcmlwdCBhbmQgYSAuTkVUIHJ1bnRpbWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZG90TmV0Q2FsbERpc3BhdGNoZXIgQW4gb2JqZWN0IHRoYXQgY2FuIGRpc3BhdGNoIGNhbGxzIGZyb20gSmF2YVNjcmlwdCB0byBhIC5ORVQgcnVudGltZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhdHRhY2hEaXNwYXRjaGVyKGRvdE5ldENhbGxEaXNwYXRjaGVyKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBDYWxsRGlzcGF0Y2hlcihkb3ROZXRDYWxsRGlzcGF0Y2hlcik7XG4gICAgICAgIGlmIChkZWZhdWx0Q2FsbERpc3BhdGNoZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gVGhpcyB3YXMgdGhlIGZpcnN0IGRpc3BhdGNoZXIgcmVnaXN0ZXJlZCwgc28gaXQgYmVjb21lcyB0aGUgZGVmYXVsdC4gVGhpcyBleGlzdHMgcHVyZWx5IGZvclxuICAgICAgICAgICAgLy8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuXG4gICAgICAgICAgICBkZWZhdWx0Q2FsbERpc3BhdGNoZXIgPSByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGVmYXVsdENhbGxEaXNwYXRjaGVyKSB7XG4gICAgICAgICAgICAvLyBUaGVyZSBpcyBhbHJlYWR5IGEgZGVmYXVsdCBkaXNwYXRjaGVyLiBOb3cgdGhhdCB0aGVyZSBhcmUgbXVsdGlwbGUgdG8gY2hvb3NlIGZyb20sIHRoZXJlIGNhblxuICAgICAgICAgICAgLy8gYmUgbm8gYWNjZXB0YWJsZSBkZWZhdWx0LCBzbyB3ZSBudWxsaWZ5IHRoZSBkZWZhdWx0IGRpc3BhdGNoZXIuXG4gICAgICAgICAgICBkZWZhdWx0Q2FsbERpc3BhdGNoZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIERvdE5ldC5hdHRhY2hEaXNwYXRjaGVyID0gYXR0YWNoRGlzcGF0Y2hlcjtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgSlNPTiByZXZpdmVyIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSB1c2VkIHdoZW4gcGFyc2luZyBhcmd1bWVudHMgcmVjZWl2ZWQgZnJvbSAuTkVULlxuICAgICAqIEBwYXJhbSByZXZpdmVyIFRoZSByZXZpdmVyIHRvIGFkZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhdHRhY2hSZXZpdmVyKHJldml2ZXIpIHtcbiAgICAgICAganNvblJldml2ZXJzLnB1c2gocmV2aXZlcik7XG4gICAgfVxuICAgIERvdE5ldC5hdHRhY2hSZXZpdmVyID0gYXR0YWNoUmV2aXZlcjtcbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBzcGVjaWZpZWQgLk5FVCBwdWJsaWMgbWV0aG9kIHN5bmNocm9ub3VzbHkuIE5vdCBhbGwgaG9zdGluZyBzY2VuYXJpb3Mgc3VwcG9ydFxuICAgICAqIHN5bmNocm9ub3VzIGludm9jYXRpb24sIHNvIGlmIHBvc3NpYmxlIHVzZSBpbnZva2VNZXRob2RBc3luYyBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIERvdE5ldE9iamVjdCB0byBpbnZva2UgaW5zdGFuY2UgbWV0aG9kcyBpbnN0ZWFkLlxuICAgICAqIEBwYXJhbSBhc3NlbWJseU5hbWUgVGhlIHNob3J0IG5hbWUgKHdpdGhvdXQga2V5L3ZlcnNpb24gb3IgLmRsbCBleHRlbnNpb24pIG9mIHRoZSAuTkVUIGFzc2VtYmx5IGNvbnRhaW5pbmcgdGhlIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0gbWV0aG9kSWRlbnRpZmllciBUaGUgaWRlbnRpZmllciBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS4gVGhlIG1ldGhvZCBtdXN0IGhhdmUgYSBbSlNJbnZva2FibGVdIGF0dHJpYnV0ZSBzcGVjaWZ5aW5nIHRoaXMgaWRlbnRpZmllci5cbiAgICAgKiBAcGFyYW0gYXJncyBBcmd1bWVudHMgdG8gcGFzcyB0byB0aGUgbWV0aG9kLCBlYWNoIG9mIHdoaWNoIG11c3QgYmUgSlNPTi1zZXJpYWxpemFibGUuXG4gICAgICogQHJldHVybnMgVGhlIHJlc3VsdCBvZiB0aGUgb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGludm9rZU1ldGhvZChhc3NlbWJseU5hbWUsIG1ldGhvZElkZW50aWZpZXIsIC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3QgZGlzcGF0Y2hlciA9IGdldERlZmF1bHRDYWxsRGlzcGF0Y2hlcigpO1xuICAgICAgICByZXR1cm4gZGlzcGF0Y2hlci5pbnZva2VEb3ROZXRTdGF0aWNNZXRob2QoYXNzZW1ibHlOYW1lLCBtZXRob2RJZGVudGlmaWVyLCAuLi5hcmdzKTtcbiAgICB9XG4gICAgRG90TmV0Lmludm9rZU1ldGhvZCA9IGludm9rZU1ldGhvZDtcbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBzcGVjaWZpZWQgLk5FVCBwdWJsaWMgbWV0aG9kIGFzeW5jaHJvbm91c2x5LlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIERvdE5ldE9iamVjdCB0byBpbnZva2UgaW5zdGFuY2UgbWV0aG9kcyBpbnN0ZWFkLlxuICAgICAqIEBwYXJhbSBhc3NlbWJseU5hbWUgVGhlIHNob3J0IG5hbWUgKHdpdGhvdXQga2V5L3ZlcnNpb24gb3IgLmRsbCBleHRlbnNpb24pIG9mIHRoZSAuTkVUIGFzc2VtYmx5IGNvbnRhaW5pbmcgdGhlIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0gbWV0aG9kSWRlbnRpZmllciBUaGUgaWRlbnRpZmllciBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS4gVGhlIG1ldGhvZCBtdXN0IGhhdmUgYSBbSlNJbnZva2FibGVdIGF0dHJpYnV0ZSBzcGVjaWZ5aW5nIHRoaXMgaWRlbnRpZmllci5cbiAgICAgKiBAcGFyYW0gYXJncyBBcmd1bWVudHMgdG8gcGFzcyB0byB0aGUgbWV0aG9kLCBlYWNoIG9mIHdoaWNoIG11c3QgYmUgSlNPTi1zZXJpYWxpemFibGUuXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0IG9mIHRoZSBvcGVyYXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW52b2tlTWV0aG9kQXN5bmMoYXNzZW1ibHlOYW1lLCBtZXRob2RJZGVudGlmaWVyLCAuLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IGRpc3BhdGNoZXIgPSBnZXREZWZhdWx0Q2FsbERpc3BhdGNoZXIoKTtcbiAgICAgICAgcmV0dXJuIGRpc3BhdGNoZXIuaW52b2tlRG90TmV0U3RhdGljTWV0aG9kQXN5bmMoYXNzZW1ibHlOYW1lLCBtZXRob2RJZGVudGlmaWVyLCAuLi5hcmdzKTtcbiAgICB9XG4gICAgRG90TmV0Lmludm9rZU1ldGhvZEFzeW5jID0gaW52b2tlTWV0aG9kQXN5bmM7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIEphdmFTY3JpcHQgb2JqZWN0IHJlZmVyZW5jZSB0aGF0IGNhbiBiZSBwYXNzZWQgdG8gLk5FVCB2aWEgaW50ZXJvcCBjYWxscy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBqc09iamVjdCBUaGUgSmF2YVNjcmlwdCBPYmplY3QgdXNlZCB0byBjcmVhdGUgdGhlIEphdmFTY3JpcHQgb2JqZWN0IHJlZmVyZW5jZS5cbiAgICAgKiBAcmV0dXJucyBUaGUgSmF2YVNjcmlwdCBvYmplY3QgcmVmZXJlbmNlICh0aGlzIHdpbGwgYmUgdGhlIHNhbWUgaW5zdGFuY2UgYXMgdGhlIGdpdmVuIG9iamVjdCkuXG4gICAgICogQHRocm93cyBFcnJvciBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgbm90IGFuIE9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVKU09iamVjdFJlZmVyZW5jZShqc09iamVjdCkge1xuICAgICAgICBpZiAoanNPYmplY3QgPT09IG51bGwgfHwganNPYmplY3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBbanNPYmplY3RJZEtleV06IC0xXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChqc09iamVjdCAmJiAodHlwZW9mIGpzT2JqZWN0ID09PSBcIm9iamVjdFwiIHx8IGpzT2JqZWN0IGluc3RhbmNlb2YgRnVuY3Rpb24pKSB7XG4gICAgICAgICAgICBjYWNoZWRKU09iamVjdHNCeUlkW25leHRKc09iamVjdElkXSA9IG5ldyBKU09iamVjdChqc09iamVjdCk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgW2pzT2JqZWN0SWRLZXldOiBuZXh0SnNPYmplY3RJZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG5leHRKc09iamVjdElkKys7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGNyZWF0ZSBhIEpTT2JqZWN0UmVmZXJlbmNlIGZyb20gdGhlIHZhbHVlICcke2pzT2JqZWN0fScuYCk7XG4gICAgfVxuICAgIERvdE5ldC5jcmVhdGVKU09iamVjdFJlZmVyZW5jZSA9IGNyZWF0ZUpTT2JqZWN0UmVmZXJlbmNlO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBKYXZhU2NyaXB0IGRhdGEgcmVmZXJlbmNlIHRoYXQgY2FuIGJlIHBhc3NlZCB0byAuTkVUIHZpYSBpbnRlcm9wIGNhbGxzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHN0cmVhbVJlZmVyZW5jZSBUaGUgQXJyYXlCdWZmZXJWaWV3IG9yIEJsb2IgdXNlZCB0byBjcmVhdGUgdGhlIEphdmFTY3JpcHQgc3RyZWFtIHJlZmVyZW5jZS5cbiAgICAgKiBAcmV0dXJucyBUaGUgSmF2YVNjcmlwdCBkYXRhIHJlZmVyZW5jZSAodGhpcyB3aWxsIGJlIHRoZSBzYW1lIGluc3RhbmNlIGFzIHRoZSBnaXZlbiBvYmplY3QpLlxuICAgICAqIEB0aHJvd3MgRXJyb3IgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIG5vdCBhbiBPYmplY3Qgb3IgZG9lc24ndCBoYXZlIGEgdmFsaWQgYnl0ZUxlbmd0aC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVKU1N0cmVhbVJlZmVyZW5jZShzdHJlYW1SZWZlcmVuY2UpIHtcbiAgICAgICAgbGV0IGxlbmd0aCA9IC0xO1xuICAgICAgICAvLyBJZiB3ZSdyZSBnaXZlbiBhIHJhdyBBcnJheSBCdWZmZXIsIHdlIGludGVycHJldCBpdCBhcyBhIGBVaW50OEFycmF5YCBhc1xuICAgICAgICAvLyBBcnJheUJ1ZmZlcnMnIGFyZW4ndCBkaXJlY3RseSByZWFkYWJsZS5cbiAgICAgICAgaWYgKHN0cmVhbVJlZmVyZW5jZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgICBzdHJlYW1SZWZlcmVuY2UgPSBuZXcgVWludDhBcnJheShzdHJlYW1SZWZlcmVuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJlYW1SZWZlcmVuY2UgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgICAgICAgICBsZW5ndGggPSBzdHJlYW1SZWZlcmVuY2Uuc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdHJlYW1SZWZlcmVuY2UuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICAgIGlmIChzdHJlYW1SZWZlcmVuY2UuYnl0ZUxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY3JlYXRlIGEgSlNTdHJlYW1SZWZlcmVuY2UgZnJvbSB0aGUgdmFsdWUgJyR7c3RyZWFtUmVmZXJlbmNlfScgYXMgaXQgZG9lc24ndCBoYXZlIGEgYnl0ZUxlbmd0aC5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxlbmd0aCA9IHN0cmVhbVJlZmVyZW5jZS5ieXRlTGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU3VwcGxpZWQgdmFsdWUgaXMgbm90IGEgdHlwZWQgYXJyYXkgb3IgYmxvYi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgICAgW2pzU3RyZWFtUmVmZXJlbmNlTGVuZ3RoS2V5XTogbGVuZ3RoXG4gICAgICAgIH07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBqc09iamVjdFJlZmVyZW5jZSA9IGNyZWF0ZUpTT2JqZWN0UmVmZXJlbmNlKHN0cmVhbVJlZmVyZW5jZSk7XG4gICAgICAgICAgICByZXN1bHRbanNPYmplY3RJZEtleV0gPSBqc09iamVjdFJlZmVyZW5jZVtqc09iamVjdElkS2V5XTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGNyZWF0ZSBhIEpTU3RyZWFtUmVmZXJlbmNlIGZyb20gdGhlIHZhbHVlICcke3N0cmVhbVJlZmVyZW5jZX0nLmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIERvdE5ldC5jcmVhdGVKU1N0cmVhbVJlZmVyZW5jZSA9IGNyZWF0ZUpTU3RyZWFtUmVmZXJlbmNlO1xuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIHRoZSBnaXZlbiBKYXZhU2NyaXB0IG9iamVjdCByZWZlcmVuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ganNPYmplY3RSZWZlcmVuY2UgVGhlIEphdmFTY3JpcHQgT2JqZWN0IHJlZmVyZW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkaXNwb3NlSlNPYmplY3RSZWZlcmVuY2UoanNPYmplY3RSZWZlcmVuY2UpIHtcbiAgICAgICAgY29uc3QgaWQgPSBqc09iamVjdFJlZmVyZW5jZSAmJiBqc09iamVjdFJlZmVyZW5jZVtqc09iamVjdElkS2V5XTtcbiAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIiAmJiBpZCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGRpc3Bvc2VKU09iamVjdFJlZmVyZW5jZUJ5SWQoaWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIERvdE5ldC5kaXNwb3NlSlNPYmplY3RSZWZlcmVuY2UgPSBkaXNwb3NlSlNPYmplY3RSZWZlcmVuY2U7XG4gICAgZnVuY3Rpb24gcGFyc2VKc29uV2l0aFJldml2ZXJzKGNhbGxEaXNwYXRjaGVyLCBqc29uKSB7XG4gICAgICAgIGN1cnJlbnRDYWxsRGlzcGF0Y2hlciA9IGNhbGxEaXNwYXRjaGVyO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBqc29uID8gSlNPTi5wYXJzZShqc29uLCAoa2V5LCBpbml0aWFsVmFsdWUpID0+IHtcbiAgICAgICAgICAgIC8vIEludm9rZSBlYWNoIHJldml2ZXIgaW4gb3JkZXIsIHBhc3NpbmcgdGhlIG91dHB1dCBmcm9tIHRoZSBwcmV2aW91cyByZXZpdmVyLFxuICAgICAgICAgICAgLy8gc28gdGhhdCBlYWNoIG9uZSBnZXRzIGEgY2hhbmNlIHRvIHRyYW5zZm9ybSB0aGUgdmFsdWVcbiAgICAgICAgICAgIHJldHVybiBqc29uUmV2aXZlcnMucmVkdWNlKChsYXRlc3RWYWx1ZSwgcmV2aXZlcikgPT4gcmV2aXZlcihrZXksIGxhdGVzdFZhbHVlKSwgaW5pdGlhbFZhbHVlKTtcbiAgICAgICAgfSkgOiBudWxsO1xuICAgICAgICBjdXJyZW50Q2FsbERpc3BhdGNoZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldERlZmF1bHRDYWxsRGlzcGF0Y2hlcigpIHtcbiAgICAgICAgaWYgKGRlZmF1bHRDYWxsRGlzcGF0Y2hlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBjYWxsIGRpc3BhdGNoZXIgaGFzIGJlZW4gc2V0LlwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZWZhdWx0Q2FsbERpc3BhdGNoZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZXJlIGFyZSBtdWx0aXBsZSAuTkVUIHJ1bnRpbWVzIHByZXNlbnQsIHNvIGEgZGVmYXVsdCBkaXNwYXRjaGVyIGNvdWxkIG5vdCBiZSByZXNvbHZlZC4gVXNlIERvdE5ldE9iamVjdCB0byBpbnZva2UgLk5FVCBpbnN0YW5jZSBtZXRob2RzLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0Q2FsbERpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyB0aGUgdHlwZSBvZiByZXN1bHQgZXhwZWN0ZWQgZnJvbSBhIEpTIGludGVyb3AgY2FsbC5cbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2hhZG93XG4gICAgbGV0IEpTQ2FsbFJlc3VsdFR5cGU7XG4gICAgKGZ1bmN0aW9uIChKU0NhbGxSZXN1bHRUeXBlKSB7XG4gICAgICAgIEpTQ2FsbFJlc3VsdFR5cGVbSlNDYWxsUmVzdWx0VHlwZVtcIkRlZmF1bHRcIl0gPSAwXSA9IFwiRGVmYXVsdFwiO1xuICAgICAgICBKU0NhbGxSZXN1bHRUeXBlW0pTQ2FsbFJlc3VsdFR5cGVbXCJKU09iamVjdFJlZmVyZW5jZVwiXSA9IDFdID0gXCJKU09iamVjdFJlZmVyZW5jZVwiO1xuICAgICAgICBKU0NhbGxSZXN1bHRUeXBlW0pTQ2FsbFJlc3VsdFR5cGVbXCJKU1N0cmVhbVJlZmVyZW5jZVwiXSA9IDJdID0gXCJKU1N0cmVhbVJlZmVyZW5jZVwiO1xuICAgICAgICBKU0NhbGxSZXN1bHRUeXBlW0pTQ2FsbFJlc3VsdFR5cGVbXCJKU1ZvaWRSZXN1bHRcIl0gPSAzXSA9IFwiSlNWb2lkUmVzdWx0XCI7XG4gICAgfSkoSlNDYWxsUmVzdWx0VHlwZSA9IERvdE5ldC5KU0NhbGxSZXN1bHRUeXBlIHx8IChEb3ROZXQuSlNDYWxsUmVzdWx0VHlwZSA9IHt9KSk7XG4gICAgY2xhc3MgQ2FsbERpc3BhdGNoZXIge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHktZnVuY3Rpb25cbiAgICAgICAgY29uc3RydWN0b3IoX2RvdE5ldENhbGxEaXNwYXRjaGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9kb3ROZXRDYWxsRGlzcGF0Y2hlciA9IF9kb3ROZXRDYWxsRGlzcGF0Y2hlcjtcbiAgICAgICAgICAgIHRoaXMuX2J5dGVBcnJheXNUb0JlUmV2aXZlZCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdEb3ROZXRUb0pTU3RyZWFtcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdBc3luY0NhbGxzID0ge307XG4gICAgICAgICAgICB0aGlzLl9uZXh0QXN5bmNDYWxsSWQgPSAxOyAvLyBTdGFydCBhdCAxIGJlY2F1c2UgemVybyBzaWduYWxzIFwibm8gcmVzcG9uc2UgbmVlZGVkXCJcbiAgICAgICAgfVxuICAgICAgICBnZXREb3ROZXRDYWxsRGlzcGF0Y2hlcigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kb3ROZXRDYWxsRGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgICBpbnZva2VKU0Zyb21Eb3ROZXQoaWRlbnRpZmllciwgYXJnc0pzb24sIHJlc3VsdFR5cGUsIHRhcmdldEluc3RhbmNlSWQsIGNhbGxUeXBlKSB7XG4gICAgICAgICAgICBjb25zdCByZXR1cm5WYWx1ZSA9IHRoaXMucHJvY2Vzc0pTQ2FsbCh0YXJnZXRJbnN0YW5jZUlkLCBpZGVudGlmaWVyLCBjYWxsVHlwZSwgYXJnc0pzb24pO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlSlNDYWxsUmVzdWx0KHJldHVyblZhbHVlLCByZXN1bHRUeXBlKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQgPT09IG51bGwgfHwgcmVzdWx0ID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgICA6IHN0cmluZ2lmeUFyZ3ModGhpcywgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBhc3luYyBiZWdpbkludm9rZUpTRnJvbURvdE5ldChhc3luY0hhbmRsZSwgaWRlbnRpZmllciwgYXJnc0pzb24sIHJlc3VsdFR5cGUsIHRhcmdldEluc3RhbmNlSWQsIGNhbGxUeXBlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlT3JQcm9taXNlID0gdGhpcy5wcm9jZXNzSlNDYWxsKHRhcmdldEluc3RhbmNlSWQsIGlkZW50aWZpZXIsIGNhbGxUeXBlLCBhcmdzSnNvbik7XG4gICAgICAgICAgICAgICAgLy8gV2Ugb25seSBhd2FpdCB0aGUgcmVzdWx0IGlmIHRoZSBjYWxsZXIgd2FudHMgdG8gYmUgbm90aWZpZWQgYWJvdXQgaXRcbiAgICAgICAgICAgICAgICBpZiAoYXN5bmNIYW5kbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdmFsdWVPclByb21pc2U7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlcmlhbGl6ZWRSZXN1bHQgPSBzdHJpbmdpZnlBcmdzKHRoaXMsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzeW5jSGFuZGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUpTQ2FsbFJlc3VsdChyZXN1bHQsIHJlc3VsdFR5cGUpXG4gICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAvLyBPbiBzdWNjZXNzLCBkaXNwYXRjaCByZXN1bHQgYmFjayB0byAuTkVUXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RvdE5ldENhbGxEaXNwYXRjaGVyLmVuZEludm9rZUpTRnJvbURvdE5ldChhc3luY0hhbmRsZSwgdHJ1ZSwgc2VyaWFsaXplZFJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFzeW5jSGFuZGxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlcmlhbGl6ZWRFcnJvciA9IEpTT04uc3RyaW5naWZ5KFtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzeW5jSGFuZGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXRFcnJvcihlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIE9uIGZhaWx1cmUsIGRpc3BhdGNoIGVycm9yIGJhY2sgdG8gLk5FVFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kb3ROZXRDYWxsRGlzcGF0Y2hlci5lbmRJbnZva2VKU0Zyb21Eb3ROZXQoYXN5bmNIYW5kbGUsIGZhbHNlLCBzZXJpYWxpemVkRXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm9jZXNzSlNDYWxsKHRhcmdldEluc3RhbmNlSWQsIGlkZW50aWZpZXIsIGNhbGxUeXBlLCBhcmdzSnNvbikge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgYXJncyA9IChfYSA9IHBhcnNlSnNvbldpdGhSZXZpdmVycyh0aGlzLCBhcmdzSnNvbikpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xuICAgICAgICAgICAgY29uc3QgZnVuYyA9IGZpbmRKU0Z1bmN0aW9uKGlkZW50aWZpZXIsIHRhcmdldEluc3RhbmNlSWQsIGNhbGxUeXBlKTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jKC4uLmFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGVuZEludm9rZURvdE5ldEZyb21KUyhhc3luY0NhbGxJZCwgc3VjY2VzcywgcmVzdWx0SnNvbk9yRXhjZXB0aW9uTWVzc2FnZSkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0T3JFcnJvciA9IHN1Y2Nlc3NcbiAgICAgICAgICAgICAgICA/IHBhcnNlSnNvbldpdGhSZXZpdmVycyh0aGlzLCByZXN1bHRKc29uT3JFeGNlcHRpb25NZXNzYWdlKVxuICAgICAgICAgICAgICAgIDogbmV3IEVycm9yKHJlc3VsdEpzb25PckV4Y2VwdGlvbk1lc3NhZ2UpO1xuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZVBlbmRpbmdDYWxsKHBhcnNlSW50KGFzeW5jQ2FsbElkLCAxMCksIHN1Y2Nlc3MsIHJlc3VsdE9yRXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGludm9rZURvdE5ldFN0YXRpY01ldGhvZChhc3NlbWJseU5hbWUsIG1ldGhvZElkZW50aWZpZXIsIC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmludm9rZURvdE5ldE1ldGhvZChhc3NlbWJseU5hbWUsIG1ldGhvZElkZW50aWZpZXIsIG51bGwsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGludm9rZURvdE5ldFN0YXRpY01ldGhvZEFzeW5jKGFzc2VtYmx5TmFtZSwgbWV0aG9kSWRlbnRpZmllciwgLi4uYXJncykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW52b2tlRG90TmV0TWV0aG9kQXN5bmMoYXNzZW1ibHlOYW1lLCBtZXRob2RJZGVudGlmaWVyLCBudWxsLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBpbnZva2VEb3ROZXRNZXRob2QoYXNzZW1ibHlOYW1lLCBtZXRob2RJZGVudGlmaWVyLCBkb3ROZXRPYmplY3RJZCwgYXJncykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RvdE5ldENhbGxEaXNwYXRjaGVyLmludm9rZURvdE5ldEZyb21KUykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFyZ3NKc29uID0gc3RyaW5naWZ5QXJncyh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRKc29uID0gdGhpcy5fZG90TmV0Q2FsbERpc3BhdGNoZXIuaW52b2tlRG90TmV0RnJvbUpTKGFzc2VtYmx5TmFtZSwgbWV0aG9kSWRlbnRpZmllciwgZG90TmV0T2JqZWN0SWQsIGFyZ3NKc29uKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0SnNvbiA/IHBhcnNlSnNvbldpdGhSZXZpdmVycyh0aGlzLCByZXN1bHRKc29uKSA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgY3VycmVudCBkaXNwYXRjaGVyIGRvZXMgbm90IHN1cHBvcnQgc3luY2hyb25vdXMgY2FsbHMgZnJvbSBKUyB0byAuTkVULiBVc2UgaW52b2tlRG90TmV0TWV0aG9kQXN5bmMgaW5zdGVhZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaW52b2tlRG90TmV0TWV0aG9kQXN5bmMoYXNzZW1ibHlOYW1lLCBtZXRob2RJZGVudGlmaWVyLCBkb3ROZXRPYmplY3RJZCwgYXJncykge1xuICAgICAgICAgICAgaWYgKGFzc2VtYmx5TmFtZSAmJiBkb3ROZXRPYmplY3RJZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRm9yIGluc3RhbmNlIG1ldGhvZCBjYWxscywgYXNzZW1ibHlOYW1lIHNob3VsZCBiZSBudWxsLiBSZWNlaXZlZCAnJHthc3NlbWJseU5hbWV9Jy5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFzeW5jQ2FsbElkID0gdGhpcy5fbmV4dEFzeW5jQ2FsbElkKys7XG4gICAgICAgICAgICBjb25zdCByZXN1bHRQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdBc3luY0NhbGxzW2FzeW5jQ2FsbElkXSA9IHsgcmVzb2x2ZSwgcmVqZWN0IH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXJnc0pzb24gPSBzdHJpbmdpZnlBcmdzKHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2RvdE5ldENhbGxEaXNwYXRjaGVyLmJlZ2luSW52b2tlRG90TmV0RnJvbUpTKGFzeW5jQ2FsbElkLCBhc3NlbWJseU5hbWUsIG1ldGhvZElkZW50aWZpZXIsIGRvdE5ldE9iamVjdElkLCBhcmdzSnNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICAvLyBTeW5jaHJvbm91cyBmYWlsdXJlXG4gICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZVBlbmRpbmdDYWxsKGFzeW5jQ2FsbElkLCBmYWxzZSwgZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdFByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmVjZWl2ZUJ5dGVBcnJheShpZCwgZGF0YSkge1xuICAgICAgICAgICAgdGhpcy5fYnl0ZUFycmF5c1RvQmVSZXZpdmVkLnNldChpZCwgZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcHJvY2Vzc0J5dGVBcnJheShpZCkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fYnl0ZUFycmF5c1RvQmVSZXZpdmVkLmdldChpZCk7XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYnl0ZUFycmF5c1RvQmVSZXZpdmVkLmRlbGV0ZShpZCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHN1cHBseURvdE5ldFN0cmVhbShzdHJlYW1JZCwgc3RyZWFtKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcGVuZGluZ0RvdE5ldFRvSlNTdHJlYW1zLmhhcyhzdHJlYW1JZCkpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgcmVjZWl2ZXIgaXMgYWxyZWFkeSB3YWl0aW5nLCBzbyB3ZSBjYW4gcmVzb2x2ZSB0aGUgcHJvbWlzZSBub3cgYW5kIHN0b3AgdHJhY2tpbmcgdGhpc1xuICAgICAgICAgICAgICAgIGNvbnN0IHBlbmRpbmdTdHJlYW0gPSB0aGlzLl9wZW5kaW5nRG90TmV0VG9KU1N0cmVhbXMuZ2V0KHN0cmVhbUlkKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wZW5kaW5nRG90TmV0VG9KU1N0cmVhbXMuZGVsZXRlKHN0cmVhbUlkKTtcbiAgICAgICAgICAgICAgICBwZW5kaW5nU3RyZWFtLnJlc29sdmUoc3RyZWFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFRoZSByZWNlaXZlciBoYXNuJ3Qgc3RhcnRlZCB3YWl0aW5nIHlldCwgc28gdHJhY2sgYSBwcmUtY29tcGxldGVkIGVudHJ5IGl0IGNhbiBhdHRhY2ggdG8gbGF0ZXJcbiAgICAgICAgICAgICAgICBjb25zdCBwZW5kaW5nU3RyZWFtID0gbmV3IFBlbmRpbmdTdHJlYW0oKTtcbiAgICAgICAgICAgICAgICBwZW5kaW5nU3RyZWFtLnJlc29sdmUoc3RyZWFtKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wZW5kaW5nRG90TmV0VG9KU1N0cmVhbXMuc2V0KHN0cmVhbUlkLCBwZW5kaW5nU3RyZWFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBnZXREb3ROZXRTdHJlYW1Qcm9taXNlKHN0cmVhbUlkKSB7XG4gICAgICAgICAgICAvLyBXZSBtaWdodCBhbHJlYWR5IGhhdmUgc3RhcnRlZCByZWNlaXZpbmcgdGhlIHN0cmVhbSwgb3IgbWF5YmUgaXQgd2lsbCBjb21lIGxhdGVyLlxuICAgICAgICAgICAgLy8gV2UgaGF2ZSB0byBoYW5kbGUgYm90aCBwb3NzaWJsZSBvcmRlcmluZ3MsIGJ1dCB3ZSBjYW4gY291bnQgb24gaXQgY29taW5nIGV2ZW50dWFsbHkgYmVjYXVzZVxuICAgICAgICAgICAgLy8gaXQncyBub3Qgc29tZXRoaW5nIHRoZSBkZXZlbG9wZXIgZ2V0cyB0byBjb250cm9sLCBhbmQgaXQgd291bGQgYmUgYW4gZXJyb3IgaWYgaXQgZG9lc24ndC5cbiAgICAgICAgICAgIGxldCByZXN1bHQ7XG4gICAgICAgICAgICBpZiAodGhpcy5fcGVuZGluZ0RvdE5ldFRvSlNTdHJlYW1zLmhhcyhzdHJlYW1JZCkpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSd2ZSBhbHJlYWR5IHN0YXJ0ZWQgcmVjZWl2aW5nIHRoZSBzdHJlYW0sIHNvIG5vIGxvbmdlciBuZWVkIHRvIHRyYWNrIGl0IGFzIHBlbmRpbmdcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLl9wZW5kaW5nRG90TmV0VG9KU1N0cmVhbXMuZ2V0KHN0cmVhbUlkKS5zdHJlYW1Qcm9taXNlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdEb3ROZXRUb0pTU3RyZWFtcy5kZWxldGUoc3RyZWFtSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgaGF2ZW4ndCBzdGFydGVkIHJlY2VpdmluZyBpdCB5ZXQsIHNvIGFkZCBhbiBlbnRyeSB0byB0cmFjayBpdCBhcyBwZW5kaW5nXG4gICAgICAgICAgICAgICAgY29uc3QgcGVuZGluZ1N0cmVhbSA9IG5ldyBQZW5kaW5nU3RyZWFtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ0RvdE5ldFRvSlNTdHJlYW1zLnNldChzdHJlYW1JZCwgcGVuZGluZ1N0cmVhbSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcGVuZGluZ1N0cmVhbS5zdHJlYW1Qcm9taXNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBjb21wbGV0ZVBlbmRpbmdDYWxsKGFzeW5jQ2FsbElkLCBzdWNjZXNzLCByZXN1bHRPckVycm9yKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3BlbmRpbmdBc3luY0NhbGxzLmhhc093blByb3BlcnR5KGFzeW5jQ2FsbElkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlcmUgaXMgbm8gcGVuZGluZyBhc3luYyBjYWxsIHdpdGggSUQgJHthc3luY0NhbGxJZH0uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhc3luY0NhbGwgPSB0aGlzLl9wZW5kaW5nQXN5bmNDYWxsc1thc3luY0NhbGxJZF07XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fcGVuZGluZ0FzeW5jQ2FsbHNbYXN5bmNDYWxsSWRdO1xuICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICBhc3luY0NhbGwucmVzb2x2ZShyZXN1bHRPckVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFzeW5jQ2FsbC5yZWplY3QocmVzdWx0T3JFcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZm9ybWF0RXJyb3IoZXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBgJHtlcnJvci5tZXNzYWdlfVxcbiR7ZXJyb3Iuc3RhY2t9YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXJyb3IgPyBlcnJvci50b1N0cmluZygpIDogXCJudWxsXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmRKU0Z1bmN0aW9uKGlkZW50aWZpZXIsIHRhcmdldEluc3RhbmNlSWQsIGNhbGxUeXBlKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldEluc3RhbmNlID0gY2FjaGVkSlNPYmplY3RzQnlJZFt0YXJnZXRJbnN0YW5jZUlkXTtcbiAgICAgICAgaWYgKHRhcmdldEluc3RhbmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0SW5zdGFuY2UucmVzb2x2ZUludm9jYXRpb25IYW5kbGVyKGlkZW50aWZpZXIsIGNhbGxUeXBlICE9PSBudWxsICYmIGNhbGxUeXBlICE9PSB2b2lkIDAgPyBjYWxsVHlwZSA6IEpTQ2FsbFR5cGUuRnVuY3Rpb25DYWxsKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEpTIG9iamVjdCBpbnN0YW5jZSB3aXRoIElEICR7dGFyZ2V0SW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QgKGhhcyBpdCBiZWVuIGRpc3Bvc2VkPykuYCk7XG4gICAgfVxuICAgIERvdE5ldC5maW5kSlNGdW5jdGlvbiA9IGZpbmRKU0Z1bmN0aW9uO1xuICAgIGZ1bmN0aW9uIGRpc3Bvc2VKU09iamVjdFJlZmVyZW5jZUJ5SWQoaWQpIHtcbiAgICAgICAgZGVsZXRlIGNhY2hlZEpTT2JqZWN0c0J5SWRbaWRdO1xuICAgIH1cbiAgICBEb3ROZXQuZGlzcG9zZUpTT2JqZWN0UmVmZXJlbmNlQnlJZCA9IGRpc3Bvc2VKU09iamVjdFJlZmVyZW5jZUJ5SWQ7XG4gICAgLyoqIFRyYXZlcnNlcyB0aGUgb2JqZWN0IGhpZXJhcmNoeSB0byBmaW5kIGFuIG9iamVjdCBtZW1iZXIgc3BlY2lmaWVkIGJ5IHRoZSBpZGVudGlmaWVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9iaiBSb290IG9iamVjdCB0byBzZWFyY2ggaW4uXG4gICAgICogQHBhcmFtIGlkZW50aWZpZXIgQ29tcGxldGUgaWRlbnRpZmllciBvZiB0aGUgbWVtYmVyIHRvIGZpbmQsIGUuZy4gXCJkb2N1bWVudC5sb2NhdGlvbi5ocmVmXCIuXG4gICAgICogQHJldHVybnMgQSB0dXBsZSBjb250YWluaW5nIHRoZSBpbW1lZGlhdGUgcGFyZW50IG9mIHRoZSBtZW1iZXIgYW5kIHRoZSBtZW1iZXIgbmFtZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kT2JqZWN0TWVtYmVyKG9iaiwgaWRlbnRpZmllcikge1xuICAgICAgICBjb25zdCBrZXlzID0gaWRlbnRpZmllci5zcGxpdChcIi5cIik7XG4gICAgICAgIGxldCBjdXJyZW50ID0gb2JqO1xuICAgICAgICAvLyBGaXJzdCwgd2UgaXRlcmF0ZSBvdmVyIGFsbCBidXQgdGhlIGxhc3Qga2V5LiBXZSB0aHJvdyBlcnJvciBmb3IgbWlzc2luZyBpbnRlcm1lZGlhdGUga2V5cy5cbiAgICAgICAgLy8gRXJyb3IgaGFuZGxpbmcgaW4gY2FzZSBvZiB1bmRlZmluZWQgbGFzdCBrZXkgZGVwZW5kcyBvbiB0aGUgdHlwZSBvZiBvcGVyYXRpb24uXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICBpZiAoY3VycmVudCAmJiB0eXBlb2YgY3VycmVudCA9PT0gJ29iamVjdCcgJiYga2V5IGluIGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudFtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCAnJHtpZGVudGlmaWVyfScgKCcke2tleX0nIHdhcyB1bmRlZmluZWQpLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbY3VycmVudCwga2V5c1trZXlzLmxlbmd0aCAtIDFdXTtcbiAgICB9XG4gICAgRG90TmV0LmZpbmRPYmplY3RNZW1iZXIgPSBmaW5kT2JqZWN0TWVtYmVyO1xuICAgIC8qKiBUYWtlcyBhbiBvYmplY3QgbWVtYmVyIGFuZCBhIGNhbGwgdHlwZSBhbmQgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgdGhlIG9wZXJhdGlvbiBzcGVjaWZpZWQgYnkgdGhlIGNhbGwgdHlwZSBvbiB0aGUgbWVtYmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhcmVudCBJbW1lZGlhdGUgcGFyZW50IG9mIHRoZSBhY2Nlc3NlZCBvYmplY3QgbWVtYmVyLlxuICAgICAqIEBwYXJhbSBtZW1iZXJOYW1lIE5hbWUgKGtleSkgb2YgdGhlIGFjY2Vzc2VkIG1lbWJlci5cbiAgICAgKiBAcGFyYW0gY2FsbFR5cGUgVGhlIHR5cGUgb2YgdGhlIG9wZXJhdGlvbiB0byBwZXJmb3JtIG9uIHRoZSBtZW1iZXIuXG4gICAgICogQHBhcmFtIGlkZW50aWZpZXIgVGhlIGZ1bGwgbWVtYmVyIGlkZW50aWZpZXIuIE9ubHkgdXNlZCBmb3IgZXJyb3IgbWVzc2FnZXMuXG4gICAgICogQHJldHVybnMgQSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIHRoZSBvcGVyYXRpb24gb24gdGhlIG1lbWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwSlNDYWxsQXNGdW5jdGlvbihwYXJlbnQsIG1lbWJlck5hbWUsIGNhbGxUeXBlLCBpZGVudGlmaWVyKSB7XG4gICAgICAgIHN3aXRjaCAoY2FsbFR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgSlNDYWxsVHlwZS5GdW5jdGlvbkNhbGw6XG4gICAgICAgICAgICAgICAgY29uc3QgZnVuYyA9IHBhcmVudFttZW1iZXJOYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAoZnVuYyBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jLmJpbmQocGFyZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIHZhbHVlICcke2lkZW50aWZpZXJ9JyBpcyBub3QgYSBmdW5jdGlvbi5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEpTQ2FsbFR5cGUuQ29uc3RydWN0b3JDYWxsOlxuICAgICAgICAgICAgICAgIGNvbnN0IGN0b3IgPSBwYXJlbnRbbWVtYmVyTmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKGN0b3IgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBib3VuZCA9IGN0b3IuYmluZChwYXJlbnQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IG5ldyBib3VuZCguLi5hcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIHZhbHVlICcke2lkZW50aWZpZXJ9JyBpcyBub3QgYSBmdW5jdGlvbi5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEpTQ2FsbFR5cGUuR2V0VmFsdWU6XG4gICAgICAgICAgICAgICAgaWYgKCFpc1JlYWRhYmxlUHJvcGVydHkocGFyZW50LCBtZW1iZXJOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBwcm9wZXJ0eSAnJHtpZGVudGlmaWVyfScgaXMgbm90IGRlZmluZWQgb3IgaXMgbm90IHJlYWRhYmxlLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4gcGFyZW50W21lbWJlck5hbWVdO1xuICAgICAgICAgICAgY2FzZSBKU0NhbGxUeXBlLlNldFZhbHVlOlxuICAgICAgICAgICAgICAgIGlmICghaXNXcml0YWJsZVByb3BlcnR5KHBhcmVudCwgbWVtYmVyTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgcHJvcGVydHkgJyR7aWRlbnRpZmllcn0nIGlzIG5vdCB3cml0YWJsZS5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiBwYXJlbnRbbWVtYmVyTmFtZV0gPSBhcmdzWzBdO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzUmVhZGFibGVQcm9wZXJ0eShvYmosIHByb3BOYW1lKSB7XG4gICAgICAgIC8vIFJldHVybiBmYWxzZSBmb3IgbWlzc2luZyBwcm9wZXJ0eS5cbiAgICAgICAgaWYgKCEocHJvcE5hbWUgaW4gb2JqKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSBwcm9wZXJ0eSBpcyBwcmVzZW50IHdlIGV4YW1pbmUgaXRzIGRlc2NyaXB0b3IsIHBvdGVudGlhbGx5IG5lZWRpbmcgdG8gd2FsayB1cCB0aGUgcHJvdG90eXBlIGNoYWluLlxuICAgICAgICB3aGlsZSAob2JqICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwgcHJvcE5hbWUpO1xuICAgICAgICAgICAgaWYgKGRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdHJ1ZSBmb3IgZGF0YSBwcm9wZXJ0eVxuICAgICAgICAgICAgICAgIGlmIChkZXNjcmlwdG9yLmhhc093blByb3BlcnR5KCd2YWx1ZScpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdHJ1ZSBmb3IgYWNjZXNzb3IgcHJvcGVydHkgd2l0aCBkZWZpbmVkIGdldHRlci5cbiAgICAgICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRvci5oYXNPd25Qcm9wZXJ0eSgnZ2V0JykgJiYgdHlwZW9mIGRlc2NyaXB0b3IuZ2V0ID09PSAnZnVuY3Rpb24nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2JqID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1dyaXRhYmxlUHJvcGVydHkob2JqLCBwcm9wTmFtZSkge1xuICAgICAgICAvLyBSZXR1cm4gdHJ1ZSBmb3IgbWlzc2luZyBwcm9wZXJ0eSBpZiB0aGUgcHJvcGVydHkgY2FuIGJlIGFkZGVkLlxuICAgICAgICBpZiAoIShwcm9wTmFtZSBpbiBvYmopKSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmlzRXh0ZW5zaWJsZShvYmopO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSBwcm9wZXJ0eSBpcyBwcmVzZW50IHdlIGV4YW1pbmUgaXRzIGRlc2NyaXB0b3IsIHBvdGVudGlhbGx5IG5lZWRpbmcgdG8gd2FsayB1cCB0aGUgcHJvdG90eXBlIGNoYWluLlxuICAgICAgICB3aGlsZSAob2JqICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwgcHJvcE5hbWUpO1xuICAgICAgICAgICAgaWYgKGRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdHJ1ZSBmb3Igd3JpdGFibGUgZGF0YSBwcm9wZXJ0eS5cbiAgICAgICAgICAgICAgICBpZiAoZGVzY3JpcHRvci5oYXNPd25Qcm9wZXJ0eSgndmFsdWUnKSAmJiBkZXNjcmlwdG9yLndyaXRhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdHJ1ZSBmb3IgYWNjZXNzb3IgcHJvcGVydHkgd2l0aCBkZWZpbmVkIHNldHRlci5cbiAgICAgICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRvci5oYXNPd25Qcm9wZXJ0eSgnc2V0JykgJiYgdHlwZW9mIGRlc2NyaXB0b3Iuc2V0ID09PSAnZnVuY3Rpb24nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2JqID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjbGFzcyBEb3ROZXRPYmplY3Qge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHktZnVuY3Rpb25cbiAgICAgICAgY29uc3RydWN0b3IoX2lkLCBfY2FsbERpc3BhdGNoZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2lkID0gX2lkO1xuICAgICAgICAgICAgdGhpcy5fY2FsbERpc3BhdGNoZXIgPSBfY2FsbERpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgICAgaW52b2tlTWV0aG9kKG1ldGhvZElkZW50aWZpZXIsIC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWxsRGlzcGF0Y2hlci5pbnZva2VEb3ROZXRNZXRob2QobnVsbCwgbWV0aG9kSWRlbnRpZmllciwgdGhpcy5faWQsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGludm9rZU1ldGhvZEFzeW5jKG1ldGhvZElkZW50aWZpZXIsIC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWxsRGlzcGF0Y2hlci5pbnZva2VEb3ROZXRNZXRob2RBc3luYyhudWxsLCBtZXRob2RJZGVudGlmaWVyLCB0aGlzLl9pZCwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgZGlzcG9zZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLl9jYWxsRGlzcGF0Y2hlci5pbnZva2VEb3ROZXRNZXRob2RBc3luYyhudWxsLCBcIl9fRGlzcG9zZVwiLCB0aGlzLl9pZCwgbnVsbCk7XG4gICAgICAgICAgICBwcm9taXNlLmNhdGNoKGVycm9yID0+IGNvbnNvbGUuZXJyb3IoZXJyb3IpKTtcbiAgICAgICAgfVxuICAgICAgICBzZXJpYWxpemVBc0FyZygpIHtcbiAgICAgICAgICAgIHJldHVybiB7IFtkb3ROZXRPYmplY3RSZWZLZXldOiB0aGlzLl9pZCB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIERvdE5ldC5Eb3ROZXRPYmplY3QgPSBEb3ROZXRPYmplY3Q7XG4gICAgYXR0YWNoUmV2aXZlcihmdW5jdGlvbiByZXZpdmVSZWZlcmVuY2Uoa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoZG90TmV0T2JqZWN0UmVmS2V5KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRG90TmV0T2JqZWN0KHZhbHVlW2RvdE5ldE9iamVjdFJlZktleV0sIGN1cnJlbnRDYWxsRGlzcGF0Y2hlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eShqc09iamVjdElkS2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gdmFsdWVbanNPYmplY3RJZEtleV07XG4gICAgICAgICAgICAgICAgY29uc3QganNPYmplY3QgPSBjYWNoZWRKU09iamVjdHNCeUlkW2lkXTtcbiAgICAgICAgICAgICAgICBpZiAoanNPYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGpzT2JqZWN0LmdldFdyYXBwZWRPYmplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBKUyBvYmplY3QgaW5zdGFuY2Ugd2l0aCBJZCAnJHtpZH0nIGRvZXMgbm90IGV4aXN0LiBJdCBtYXkgaGF2ZSBiZWVuIGRpc3Bvc2VkLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoYnl0ZUFycmF5UmVmS2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdmFsdWVbYnl0ZUFycmF5UmVmS2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCBieXRlQXJyYXkgPSBjdXJyZW50Q2FsbERpc3BhdGNoZXIucHJvY2Vzc0J5dGVBcnJheShpbmRleCk7XG4gICAgICAgICAgICAgICAgaWYgKGJ5dGVBcnJheSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQnl0ZSBhcnJheSBpbmRleCAnJHtpbmRleH0nIGRvZXMgbm90IGV4aXN0LmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYnl0ZUFycmF5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoZG90TmV0U3RyZWFtUmVmS2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0cmVhbUlkID0gdmFsdWVbZG90TmV0U3RyZWFtUmVmS2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW1Qcm9taXNlID0gY3VycmVudENhbGxEaXNwYXRjaGVyLmdldERvdE5ldFN0cmVhbVByb21pc2Uoc3RyZWFtSWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRG90TmV0U3RyZWFtKHN0cmVhbVByb21pc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFVucmVjb2duaXplZCAtIGxldCBhbm90aGVyIHJldml2ZXIgaGFuZGxlIGl0XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9KTtcbiAgICBjbGFzcyBEb3ROZXRTdHJlYW0ge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHktZnVuY3Rpb25cbiAgICAgICAgY29uc3RydWN0b3IoX3N0cmVhbVByb21pc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0cmVhbVByb21pc2UgPSBfc3RyZWFtUHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogU3VwcGxpZXMgYSByZWFkYWJsZSBzdHJlYW0gb2YgZGF0YSBiZWluZyBzZW50IGZyb20gLk5FVC5cbiAgICAgICAgICovXG4gICAgICAgIHN0cmVhbSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdHJlYW1Qcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdXBwbGllcyBhIGFycmF5IGJ1ZmZlciBvZiBkYXRhIGJlaW5nIHNlbnQgZnJvbSAuTkVULlxuICAgICAgICAgKiBOb3RlIHRoZXJlIGlzIGEgSmF2YVNjcmlwdCBsaW1pdCBvbiB0aGUgc2l6ZSBvZiB0aGUgQXJyYXlCdWZmZXIgZXF1YWwgdG8gYXBwcm94aW1hdGVseSAyR0IuXG4gICAgICAgICAqL1xuICAgICAgICBhc3luYyBhcnJheUJ1ZmZlcigpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoYXdhaXQgdGhpcy5zdHJlYW0oKSkuYXJyYXlCdWZmZXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjbGFzcyBQZW5kaW5nU3RyZWFtIHtcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICB0aGlzLnN0cmVhbVByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlamVjdCA9IHJlamVjdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUpTQ2FsbFJlc3VsdChyZXR1cm5WYWx1ZSwgcmVzdWx0VHlwZSkge1xuICAgICAgICBzd2l0Y2ggKHJlc3VsdFR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgSlNDYWxsUmVzdWx0VHlwZS5EZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICAgICAgICAgIGNhc2UgSlNDYWxsUmVzdWx0VHlwZS5KU09iamVjdFJlZmVyZW5jZTpcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlSlNPYmplY3RSZWZlcmVuY2UocmV0dXJuVmFsdWUpO1xuICAgICAgICAgICAgY2FzZSBKU0NhbGxSZXN1bHRUeXBlLkpTU3RyZWFtUmVmZXJlbmNlOlxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVKU1N0cmVhbVJlZmVyZW5jZShyZXR1cm5WYWx1ZSk7XG4gICAgICAgICAgICBjYXNlIEpTQ2FsbFJlc3VsdFR5cGUuSlNWb2lkUmVzdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgSlMgY2FsbCByZXN1bHQgdHlwZSAnJHtyZXN1bHRUeXBlfScuYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IG5leHRCeXRlQXJyYXlJbmRleCA9IDA7XG4gICAgZnVuY3Rpb24gc3RyaW5naWZ5QXJncyhjYWxsRGlzcGF0Y2hlciwgYXJncykge1xuICAgICAgICBuZXh0Qnl0ZUFycmF5SW5kZXggPSAwO1xuICAgICAgICBjdXJyZW50Q2FsbERpc3BhdGNoZXIgPSBjYWxsRGlzcGF0Y2hlcjtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gSlNPTi5zdHJpbmdpZnkoYXJncywgYXJnUmVwbGFjZXIpO1xuICAgICAgICBjdXJyZW50Q2FsbERpc3BhdGNoZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFyZ1JlcGxhY2VyKGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRG90TmV0T2JqZWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUuc2VyaWFsaXplQXNBcmcoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRvdE5ldENhbGxEaXNwYXRjaGVyID0gY3VycmVudENhbGxEaXNwYXRjaGVyLmdldERvdE5ldENhbGxEaXNwYXRjaGVyKCk7XG4gICAgICAgICAgICBkb3ROZXRDYWxsRGlzcGF0Y2hlci5zZW5kQnl0ZUFycmF5KG5leHRCeXRlQXJyYXlJbmRleCwgdmFsdWUpO1xuICAgICAgICAgICAgY29uc3QganNvblZhbHVlID0geyBbYnl0ZUFycmF5UmVmS2V5XTogbmV4dEJ5dGVBcnJheUluZGV4IH07XG4gICAgICAgICAgICBuZXh0Qnl0ZUFycmF5SW5kZXgrKztcbiAgICAgICAgICAgIHJldHVybiBqc29uVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbn0pKERvdE5ldCB8fCAoRG90TmV0ID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1pY3Jvc29mdC5KU0ludGVyb3AuanMubWFwIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxyXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBSZW5kZXJCYXRjaCB7XHJcbiAgdXBkYXRlZENvbXBvbmVudHMoKTogQXJyYXlSYW5nZTxSZW5kZXJUcmVlRGlmZj47XHJcbiAgcmVmZXJlbmNlRnJhbWVzKCk6IEFycmF5UmFuZ2U8UmVuZGVyVHJlZUZyYW1lPjtcclxuICBkaXNwb3NlZENvbXBvbmVudElkcygpOiBBcnJheVJhbmdlPG51bWJlcj47XHJcbiAgZGlzcG9zZWRFdmVudEhhbmRsZXJJZHMoKTogQXJyYXlSYW5nZTxudW1iZXI+O1xyXG5cclxuICB1cGRhdGVkQ29tcG9uZW50c0VudHJ5KHZhbHVlczogQXJyYXlWYWx1ZXM8UmVuZGVyVHJlZURpZmY+LCBpbmRleDogbnVtYmVyKTogUmVuZGVyVHJlZURpZmY7XHJcbiAgcmVmZXJlbmNlRnJhbWVzRW50cnkodmFsdWVzOiBBcnJheVZhbHVlczxSZW5kZXJUcmVlRnJhbWU+LCBpbmRleDogbnVtYmVyKTogUmVuZGVyVHJlZUZyYW1lO1xyXG4gIGRpc3Bvc2VkQ29tcG9uZW50SWRzRW50cnkodmFsdWVzOiBBcnJheVZhbHVlczxudW1iZXI+LCBpbmRleDogbnVtYmVyKTogbnVtYmVyO1xyXG4gIGRpc3Bvc2VkRXZlbnRIYW5kbGVySWRzRW50cnkodmFsdWVzOiBBcnJheVZhbHVlczxudW1iZXI+LCBpbmRleDogbnVtYmVyKTogbnVtYmVyO1xyXG5cclxuICBkaWZmUmVhZGVyOiBSZW5kZXJUcmVlRGlmZlJlYWRlcjtcclxuICBlZGl0UmVhZGVyOiBSZW5kZXJUcmVlRWRpdFJlYWRlcjtcclxuICBmcmFtZVJlYWRlcjogUmVuZGVyVHJlZUZyYW1lUmVhZGVyO1xyXG4gIGFycmF5UmFuZ2VSZWFkZXI6IEFycmF5UmFuZ2VSZWFkZXI7XHJcbiAgYXJyYXlCdWlsZGVyU2VnbWVudFJlYWRlcjogQXJyYXlCdWlsZGVyU2VnbWVudFJlYWRlcjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBcnJheVJhbmdlUmVhZGVyIHtcclxuICBjb3VudDxUPihhcnJheVJhbmdlOiBBcnJheVJhbmdlPFQ+KTogbnVtYmVyO1xyXG4gIHZhbHVlczxUPihhcnJheVJhbmdlOiBBcnJheVJhbmdlPFQ+KTogQXJyYXlWYWx1ZXM8VD47XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQXJyYXlCdWlsZGVyU2VnbWVudFJlYWRlciB7XHJcbiAgb2Zmc2V0PFQ+KGFycmF5QnVpbGRlclNlZ21lbnQ6IEFycmF5QnVpbGRlclNlZ21lbnQ8VD4pOiBudW1iZXI7XHJcbiAgY291bnQ8VD4oYXJyYXlCdWlsZGVyU2VnbWVudDogQXJyYXlCdWlsZGVyU2VnbWVudDxUPik6IG51bWJlcjtcclxuICB2YWx1ZXM8VD4oYXJyYXlCdWlsZGVyU2VnbWVudDogQXJyYXlCdWlsZGVyU2VnbWVudDxUPik6IEFycmF5VmFsdWVzPFQ+O1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFJlbmRlclRyZWVEaWZmUmVhZGVyIHtcclxuICBjb21wb25lbnRJZChkaWZmOiBSZW5kZXJUcmVlRGlmZik6IG51bWJlcjtcclxuICBlZGl0cyhkaWZmOiBSZW5kZXJUcmVlRGlmZik6IEFycmF5QnVpbGRlclNlZ21lbnQ8UmVuZGVyVHJlZUVkaXQ+O1xyXG4gIGVkaXRzRW50cnkodmFsdWVzOiBBcnJheVZhbHVlczxSZW5kZXJUcmVlRWRpdD4sIGluZGV4OiBudW1iZXIpOiBSZW5kZXJUcmVlRWRpdDtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBSZW5kZXJUcmVlRWRpdFJlYWRlciB7XHJcbiAgZWRpdFR5cGUoZWRpdDogUmVuZGVyVHJlZUVkaXQpOiBFZGl0VHlwZTtcclxuICBzaWJsaW5nSW5kZXgoZWRpdDogUmVuZGVyVHJlZUVkaXQpOiBudW1iZXI7XHJcbiAgbmV3VHJlZUluZGV4KGVkaXQ6IFJlbmRlclRyZWVFZGl0KTogbnVtYmVyO1xyXG4gIG1vdmVUb1NpYmxpbmdJbmRleChlZGl0OiBSZW5kZXJUcmVlRWRpdCk6IG51bWJlcjtcclxuICByZW1vdmVkQXR0cmlidXRlTmFtZShlZGl0OiBSZW5kZXJUcmVlRWRpdCk6IHN0cmluZyB8IG51bGw7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyVHJlZUZyYW1lUmVhZGVyIHtcclxuICBmcmFtZVR5cGUoZnJhbWU6IFJlbmRlclRyZWVGcmFtZSk6IEZyYW1lVHlwZTtcclxuICBzdWJ0cmVlTGVuZ3RoKGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpOiBudW1iZXI7XHJcbiAgZWxlbWVudFJlZmVyZW5jZUNhcHR1cmVJZChmcmFtZTogUmVuZGVyVHJlZUZyYW1lKTogc3RyaW5nIHwgbnVsbDtcclxuICBjb21wb25lbnRJZChmcmFtZTogUmVuZGVyVHJlZUZyYW1lKTogbnVtYmVyO1xyXG4gIGVsZW1lbnROYW1lKGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpOiBzdHJpbmcgfCBudWxsO1xyXG4gIHRleHRDb250ZW50KGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpOiBzdHJpbmcgfCBudWxsO1xyXG4gIG1hcmt1cENvbnRlbnQoZnJhbWU6IFJlbmRlclRyZWVGcmFtZSk6IHN0cmluZztcclxuICBhdHRyaWJ1dGVOYW1lKGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpOiBzdHJpbmcgfCBudWxsO1xyXG4gIGF0dHJpYnV0ZVZhbHVlKGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpOiBzdHJpbmcgfCBudWxsO1xyXG4gIGF0dHJpYnV0ZUV2ZW50SGFuZGxlcklkKGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpOiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQXJyYXlSYW5nZTxUPiB7IEFycmF5UmFuZ2VfX0RPX05PVF9JTVBMRU1FTlQ6IHVua25vd24gfVxyXG5leHBvcnQgaW50ZXJmYWNlIEFycmF5QnVpbGRlclNlZ21lbnQ8VD4geyBBcnJheUJ1aWxkZXJTZWdtZW50X19ET19OT1RfSU1QTEVNRU5UOiB1bmtub3duIH1cclxuZXhwb3J0IGludGVyZmFjZSBBcnJheVZhbHVlczxUPiB7IEFycmF5VmFsdWVzX19ET19OT1RfSU1QTEVNRU5UOiB1bmtub3duIH1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyVHJlZURpZmYgeyBSZW5kZXJUcmVlRGlmZl9fRE9fTk9UX0lNUExFTUVOVDogdW5rbm93biB9XHJcbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyVHJlZUZyYW1lIHsgUmVuZGVyVHJlZUZyYW1lX19ET19OT1RfSU1QTEVNRU5UOiB1bmtub3duIH1cclxuZXhwb3J0IGludGVyZmFjZSBSZW5kZXJUcmVlRWRpdCB7IFJlbmRlclRyZWVFZGl0X19ET19OT1RfSU1QTEVNRU5UOiB1bmtub3duIH1cclxuXHJcbmV4cG9ydCBlbnVtIEVkaXRUeXBlIHtcclxuICAvLyBUaGUgdmFsdWVzIG11c3QgYmUga2VwdCBpbiBzeW5jIHdpdGggdGhlIC5ORVQgZXF1aXZhbGVudCBpbiBSZW5kZXJUcmVlRWRpdFR5cGUuY3NcclxuICBwcmVwZW5kRnJhbWUgPSAxLFxyXG4gIHJlbW92ZUZyYW1lID0gMixcclxuICBzZXRBdHRyaWJ1dGUgPSAzLFxyXG4gIHJlbW92ZUF0dHJpYnV0ZSA9IDQsXHJcbiAgdXBkYXRlVGV4dCA9IDUsXHJcbiAgc3RlcEluID0gNixcclxuICBzdGVwT3V0ID0gNyxcclxuICB1cGRhdGVNYXJrdXAgPSA4LFxyXG4gIHBlcm11dGF0aW9uTGlzdEVudHJ5ID0gOSxcclxuICBwZXJtdXRhdGlvbkxpc3RFbmQgPSAxMCxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gRnJhbWVUeXBlIHtcclxuICAvLyBUaGUgdmFsdWVzIG11c3QgYmUga2VwdCBpbiBzeW5jIHdpdGggdGhlIC5ORVQgZXF1aXZhbGVudCBpbiBSZW5kZXJUcmVlRnJhbWVUeXBlLmNzXHJcbiAgZWxlbWVudCA9IDEsXHJcbiAgdGV4dCA9IDIsXHJcbiAgYXR0cmlidXRlID0gMyxcclxuICBjb21wb25lbnQgPSA0LFxyXG4gIHJlZ2lvbiA9IDUsXHJcbiAgZWxlbWVudFJlZmVyZW5jZUNhcHR1cmUgPSA2LFxyXG4gIG1hcmt1cCA9IDgsXHJcbiAgbmFtZWRFdmVudCA9IDEwLFxyXG59XHJcbiIsIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cclxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuXHJcbmV4cG9ydCBjbGFzcyBFdmVudEZpZWxkSW5mbyB7XHJcbiAgY29uc3RydWN0b3IocHVibGljIGNvbXBvbmVudElkOiBudW1iZXIsIHB1YmxpYyBmaWVsZFZhbHVlOiBzdHJpbmcgfCBib29sZWFuKSB7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3RhdGljIGZyb21FdmVudChjb21wb25lbnRJZDogbnVtYmVyLCBldmVudDogRXZlbnQpOiBFdmVudEZpZWxkSW5mbyB8IG51bGwge1xyXG4gICAgY29uc3QgZWxlbSA9IGV2ZW50LnRhcmdldDtcclxuICAgIGlmIChlbGVtIGluc3RhbmNlb2YgRWxlbWVudCkge1xyXG4gICAgICBjb25zdCBmaWVsZERhdGEgPSBnZXRGb3JtRmllbGREYXRhKGVsZW0pO1xyXG4gICAgICBpZiAoZmllbGREYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBFdmVudEZpZWxkSW5mbyhjb21wb25lbnRJZCwgZmllbGREYXRhLnZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFRoaXMgZXZlbnQgaXNuJ3QgaGFwcGVuaW5nIG9uIGEgZm9ybSBmaWVsZCB0aGF0IHdlIGNhbiByZXZlcnNlLW1hcCBiYWNrIHRvIHNvbWUgaW5jb21pbmcgYXR0cmlidXRlXHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEZvcm1GaWVsZERhdGEoZWxlbTogRWxlbWVudCkge1xyXG4gIC8vIFRoZSBsb2dpYyBpbiBoZXJlIHNob3VsZCBiZSB0aGUgaW52ZXJzZSBvZiB0aGUgbG9naWMgaW4gQnJvd3NlclJlbmRlcmVyJ3MgdHJ5QXBwbHlTcGVjaWFsUHJvcGVydHkuXHJcbiAgLy8gVGhhdCBpcywgd2UncmUgZG9pbmcgdGhlIHJldmVyc2UgbWFwcGluZywgc3RhcnRpbmcgZnJvbSBhbiBIVE1MIHByb3BlcnR5IGFuZCByZWNvbnN0cnVjdGluZyB3aGljaFxyXG4gIC8vIFwic3BlY2lhbFwiIGF0dHJpYnV0ZSB3b3VsZCBoYXZlIGJlZW4gbWFwcGVkIHRvIHRoYXQgcHJvcGVydHkuXHJcbiAgaWYgKGVsZW0gaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSB7XHJcbiAgICByZXR1cm4gKGVsZW0udHlwZSAmJiBlbGVtLnR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ2NoZWNrYm94JylcclxuICAgICAgPyB7IHZhbHVlOiBlbGVtLmNoZWNrZWQgfVxyXG4gICAgICA6IHsgdmFsdWU6IGVsZW0udmFsdWUgfTtcclxuICB9XHJcblxyXG4gIGlmIChlbGVtIGluc3RhbmNlb2YgSFRNTFNlbGVjdEVsZW1lbnQgfHwgZWxlbSBpbnN0YW5jZW9mIEhUTUxUZXh0QXJlYUVsZW1lbnQpIHtcclxuICAgIHJldHVybiB7IHZhbHVlOiBlbGVtLnZhbHVlIH07XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbnVsbDtcclxufVxyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEV2ZW50VHlwZU9wdGlvbnMge1xyXG4gIGJyb3dzZXJFdmVudE5hbWU/OiBzdHJpbmc7XHJcbiAgY3JlYXRlRXZlbnRBcmdzPzogKGV2ZW50OiBFdmVudCkgPT4gdW5rbm93bjtcclxufVxyXG5cclxuY29uc3QgZXZlbnRUeXBlUmVnaXN0cnk6IE1hcDxzdHJpbmcsIEV2ZW50VHlwZU9wdGlvbnM+ID0gbmV3IE1hcCgpO1xyXG5jb25zdCBicm93c2VyRXZlbnROYW1lc1RvQWxpYXNlczogTWFwPHN0cmluZywgc3RyaW5nW10+ID0gbmV3IE1hcCgpO1xyXG5jb25zdCBjcmVhdGVCbGFua0V2ZW50QXJnc09wdGlvbnM6IEV2ZW50VHlwZU9wdGlvbnMgPSB7IGNyZWF0ZUV2ZW50QXJnczogKCkgPT4gKHt9KSB9O1xyXG5cclxuZXhwb3J0IGNvbnN0IGV2ZW50TmFtZUFsaWFzUmVnaXN0ZXJlZENhbGxiYWNrczogKChhbGlhc0V2ZW50TmFtZTogc3RyaW5nLCBicm93c2VyRXZlbnROYW1lKSA9PiB2b2lkKVtdID0gW107XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJDdXN0b21FdmVudFR5cGUoZXZlbnROYW1lOiBzdHJpbmcsIG9wdGlvbnM6IEV2ZW50VHlwZU9wdGlvbnMpOiB2b2lkIHtcclxuICBpZiAoIW9wdGlvbnMpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignVGhlIG9wdGlvbnMgcGFyYW1ldGVyIGlzIHJlcXVpcmVkLicpO1xyXG4gIH1cclxuXHJcbiAgLy8gVGhlcmUgY2FuJ3QgYmUgbW9yZSB0aGFuIG9uZSByZWdpc3RyYXRpb24gZm9yIHRoZSBzYW1lIGV2ZW50IG5hbWUgYmVjYXVzZSB0aGVuIHdlIHdvdWxkbid0XHJcbiAgLy8ga25vdyB3aGljaCBldmVudGFyZ3MgZGF0YSB0byBzdXBwbHkuXHJcbiAgaWYgKGV2ZW50VHlwZVJlZ2lzdHJ5LmhhcyhldmVudE5hbWUpKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBldmVudCAnJHtldmVudE5hbWV9JyBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuYCk7XHJcbiAgfVxyXG5cclxuICAvLyBJZiBhcHBsaWNhYmxlLCByZWdpc3RlciB0aGlzIGFzIGFuIGFsaWFzIG9mIHRoZSBnaXZlbiBicm93c2VyRXZlbnROYW1lXHJcbiAgaWYgKG9wdGlvbnMuYnJvd3NlckV2ZW50TmFtZSkge1xyXG4gICAgY29uc3QgYWxpYXNHcm91cCA9IGJyb3dzZXJFdmVudE5hbWVzVG9BbGlhc2VzLmdldChvcHRpb25zLmJyb3dzZXJFdmVudE5hbWUpO1xyXG4gICAgaWYgKGFsaWFzR3JvdXApIHtcclxuICAgICAgYWxpYXNHcm91cC5wdXNoKGV2ZW50TmFtZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBicm93c2VyRXZlbnROYW1lc1RvQWxpYXNlcy5zZXQob3B0aW9ucy5icm93c2VyRXZlbnROYW1lLCBbZXZlbnROYW1lXSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRm9yIGRldmVsb3BlciBjb252ZW5pZW5jZSwgaXQncyBhbGxvd2VkIHRvIHJlZ2lzdGVyIHRoZSBjdXN0b20gZXZlbnQgdHlwZSAqYWZ0ZXIqXHJcbiAgICAvLyBzb21lIGxpc3RlbmVycyBmb3IgaXQgYXJlIGFscmVhZHkgcHJlc2VudC4gT25jZSB0aGUgZXZlbnQgbmFtZSBhbGlhcyBnZXRzIHJlZ2lzdGVyZWQsXHJcbiAgICAvLyB3ZSBoYXZlIHRvIG5vdGlmeSBhbnkgZXhpc3RpbmcgZXZlbnQgZGVsZWdhdG9ycyBzbyB0aGV5IGNhbiB1cGRhdGUgdGhlaXIgZGVsZWdhdGVkXHJcbiAgICAvLyBldmVudHMgbGlzdC5cclxuICAgIGV2ZW50TmFtZUFsaWFzUmVnaXN0ZXJlZENhbGxiYWNrcy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKGV2ZW50TmFtZSwgb3B0aW9ucy5icm93c2VyRXZlbnROYW1lKSk7XHJcbiAgfVxyXG5cclxuICBldmVudFR5cGVSZWdpc3RyeS5zZXQoZXZlbnROYW1lLCBvcHRpb25zKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEV2ZW50VHlwZU9wdGlvbnMoZXZlbnROYW1lOiBzdHJpbmcpOiBFdmVudFR5cGVPcHRpb25zIHwgdW5kZWZpbmVkIHtcclxuICByZXR1cm4gZXZlbnRUeXBlUmVnaXN0cnkuZ2V0KGV2ZW50TmFtZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRFdmVudE5hbWVBbGlhc2VzKGV2ZW50TmFtZTogc3RyaW5nKTogc3RyaW5nW10gfCB1bmRlZmluZWQge1xyXG4gIHJldHVybiBicm93c2VyRXZlbnROYW1lc1RvQWxpYXNlcy5nZXQoZXZlbnROYW1lKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEJyb3dzZXJFdmVudE5hbWUocG9zc2libGVBbGlhc0V2ZW50TmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICBjb25zdCBldmVudE9wdGlvbnMgPSBldmVudFR5cGVSZWdpc3RyeS5nZXQocG9zc2libGVBbGlhc0V2ZW50TmFtZSk7XHJcbiAgcmV0dXJuIGV2ZW50T3B0aW9ucz8uYnJvd3NlckV2ZW50TmFtZSB8fCBwb3NzaWJsZUFsaWFzRXZlbnROYW1lO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZWdpc3RlckJ1aWx0SW5FdmVudFR5cGUoZXZlbnROYW1lczogc3RyaW5nW10sIG9wdGlvbnM6IEV2ZW50VHlwZU9wdGlvbnMpIHtcclxuICBldmVudE5hbWVzLmZvckVhY2goZXZlbnROYW1lID0+IGV2ZW50VHlwZVJlZ2lzdHJ5LnNldChldmVudE5hbWUsIG9wdGlvbnMpKTtcclxufVxyXG5cclxucmVnaXN0ZXJCdWlsdEluRXZlbnRUeXBlKFsnaW5wdXQnLCAnY2hhbmdlJ10sIHtcclxuICBjcmVhdGVFdmVudEFyZ3M6IHBhcnNlQ2hhbmdlRXZlbnQsXHJcbn0pO1xyXG5cclxucmVnaXN0ZXJCdWlsdEluRXZlbnRUeXBlKFtcclxuICAnY29weScsXHJcbiAgJ2N1dCcsXHJcbiAgJ3Bhc3RlJyxcclxuXSwge1xyXG4gIGNyZWF0ZUV2ZW50QXJnczogZSA9PiBwYXJzZUNsaXBib2FyZEV2ZW50KGUgYXMgQ2xpcGJvYXJkRXZlbnQpLFxyXG59KTtcclxuXHJcbnJlZ2lzdGVyQnVpbHRJbkV2ZW50VHlwZShbXHJcbiAgJ2RyYWcnLFxyXG4gICdkcmFnZW5kJyxcclxuICAnZHJhZ2VudGVyJyxcclxuICAnZHJhZ2xlYXZlJyxcclxuICAnZHJhZ292ZXInLFxyXG4gICdkcmFnc3RhcnQnLFxyXG4gICdkcm9wJyxcclxuXSwge1xyXG4gIGNyZWF0ZUV2ZW50QXJnczogZSA9PiBwYXJzZURyYWdFdmVudChlIGFzIERyYWdFdmVudCksXHJcbn0pO1xyXG5cclxucmVnaXN0ZXJCdWlsdEluRXZlbnRUeXBlKFtcclxuICAnZm9jdXMnLFxyXG4gICdibHVyJyxcclxuICAnZm9jdXNpbicsXHJcbiAgJ2ZvY3Vzb3V0JyxcclxuXSwge1xyXG4gIGNyZWF0ZUV2ZW50QXJnczogZSA9PiBwYXJzZUZvY3VzRXZlbnQoZSBhcyBGb2N1c0V2ZW50KSxcclxufSk7XHJcblxyXG5yZWdpc3RlckJ1aWx0SW5FdmVudFR5cGUoW1xyXG4gICdrZXlkb3duJyxcclxuICAna2V5dXAnLFxyXG4gICdrZXlwcmVzcycsXHJcbl0sIHtcclxuICBjcmVhdGVFdmVudEFyZ3M6IGUgPT4gcGFyc2VLZXlib2FyZEV2ZW50KGUgYXMgS2V5Ym9hcmRFdmVudCksXHJcbn0pO1xyXG5cclxucmVnaXN0ZXJCdWlsdEluRXZlbnRUeXBlKFtcclxuICAnY29udGV4dG1lbnUnLFxyXG4gICdjbGljaycsXHJcbiAgJ21vdXNlb3ZlcicsXHJcbiAgJ21vdXNlb3V0JyxcclxuICAnbW91c2Vtb3ZlJyxcclxuICAnbW91c2Vkb3duJyxcclxuICAnbW91c2V1cCcsXHJcbiAgJ21vdXNlbGVhdmUnLFxyXG4gICdtb3VzZWVudGVyJyxcclxuICAnZGJsY2xpY2snLFxyXG5dLCB7XHJcbiAgY3JlYXRlRXZlbnRBcmdzOiBlID0+IHBhcnNlTW91c2VFdmVudChlIGFzIE1vdXNlRXZlbnQpLFxyXG59KTtcclxuXHJcbnJlZ2lzdGVyQnVpbHRJbkV2ZW50VHlwZShbJ2Vycm9yJ10sIHtcclxuICBjcmVhdGVFdmVudEFyZ3M6IGUgPT4gcGFyc2VFcnJvckV2ZW50KGUgYXMgRXJyb3JFdmVudCksXHJcbn0pO1xyXG5cclxucmVnaXN0ZXJCdWlsdEluRXZlbnRUeXBlKFtcclxuICAnbG9hZHN0YXJ0JyxcclxuICAndGltZW91dCcsXHJcbiAgJ2Fib3J0JyxcclxuICAnbG9hZCcsXHJcbiAgJ2xvYWRlbmQnLFxyXG4gICdwcm9ncmVzcycsXHJcbl0sIHtcclxuICBjcmVhdGVFdmVudEFyZ3M6IGUgPT4gcGFyc2VQcm9ncmVzc0V2ZW50KGUgYXMgUHJvZ3Jlc3NFdmVudCksXHJcbn0pO1xyXG5cclxucmVnaXN0ZXJCdWlsdEluRXZlbnRUeXBlKFtcclxuICAndG91Y2hjYW5jZWwnLFxyXG4gICd0b3VjaGVuZCcsXHJcbiAgJ3RvdWNobW92ZScsXHJcbiAgJ3RvdWNoZW50ZXInLFxyXG4gICd0b3VjaGxlYXZlJyxcclxuICAndG91Y2hzdGFydCcsXHJcbl0sIHtcclxuICBjcmVhdGVFdmVudEFyZ3M6IGUgPT4gcGFyc2VUb3VjaEV2ZW50KGUgYXMgVG91Y2hFdmVudCksXHJcbn0pO1xyXG5cclxucmVnaXN0ZXJCdWlsdEluRXZlbnRUeXBlKFtcclxuICAnZ290cG9pbnRlcmNhcHR1cmUnLFxyXG4gICdsb3N0cG9pbnRlcmNhcHR1cmUnLFxyXG4gICdwb2ludGVyY2FuY2VsJyxcclxuICAncG9pbnRlcmRvd24nLFxyXG4gICdwb2ludGVyZW50ZXInLFxyXG4gICdwb2ludGVybGVhdmUnLFxyXG4gICdwb2ludGVybW92ZScsXHJcbiAgJ3BvaW50ZXJvdXQnLFxyXG4gICdwb2ludGVyb3ZlcicsXHJcbiAgJ3BvaW50ZXJ1cCcsXHJcbl0sIHtcclxuICBjcmVhdGVFdmVudEFyZ3M6IGUgPT4gcGFyc2VQb2ludGVyRXZlbnQoZSBhcyBQb2ludGVyRXZlbnQpLFxyXG59KTtcclxuXHJcbnJlZ2lzdGVyQnVpbHRJbkV2ZW50VHlwZShbJ3doZWVsJywgJ21vdXNld2hlZWwnXSwge1xyXG4gIGNyZWF0ZUV2ZW50QXJnczogZSA9PiBwYXJzZVdoZWVsRXZlbnQoZSBhcyBXaGVlbEV2ZW50KSxcclxufSk7XHJcblxyXG5yZWdpc3RlckJ1aWx0SW5FdmVudFR5cGUoWydjYW5jZWwnLCAnY2xvc2UnLCAndG9nZ2xlJ10sIGNyZWF0ZUJsYW5rRXZlbnRBcmdzT3B0aW9ucyk7XHJcblxyXG5mdW5jdGlvbiBwYXJzZUNoYW5nZUV2ZW50KGV2ZW50OiBFdmVudCk6IENoYW5nZUV2ZW50QXJncyB7XHJcbiAgY29uc3QgZWxlbWVudCA9IGV2ZW50LnRhcmdldCBhcyBFbGVtZW50O1xyXG4gIGlmIChpc1RpbWVCYXNlZElucHV0KGVsZW1lbnQpKSB7XHJcbiAgICBjb25zdCBub3JtYWxpemVkVmFsdWUgPSBub3JtYWxpemVUaW1lQmFzZWRWYWx1ZShlbGVtZW50KTtcclxuICAgIHJldHVybiB7IHZhbHVlOiBub3JtYWxpemVkVmFsdWUgfTtcclxuICB9IGVsc2UgaWYgKGlzTXVsdGlwbGVTZWxlY3RJbnB1dChlbGVtZW50KSkge1xyXG4gICAgY29uc3Qgc2VsZWN0RWxlbWVudCA9IGVsZW1lbnQgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XHJcbiAgICBjb25zdCBzZWxlY3RlZFZhbHVlcyA9IEFycmF5LmZyb20oc2VsZWN0RWxlbWVudC5vcHRpb25zKVxyXG4gICAgICAuZmlsdGVyKG9wdGlvbiA9PiBvcHRpb24uc2VsZWN0ZWQpXHJcbiAgICAgIC5tYXAob3B0aW9uID0+IG9wdGlvbi52YWx1ZSk7XHJcbiAgICByZXR1cm4geyB2YWx1ZTogc2VsZWN0ZWRWYWx1ZXMgfTtcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc3QgdGFyZ2V0SXNDaGVja2JveCA9IGlzQ2hlY2tib3goZWxlbWVudCk7XHJcbiAgICBjb25zdCBuZXdWYWx1ZSA9IHRhcmdldElzQ2hlY2tib3ggPyAhIWVsZW1lbnRbJ2NoZWNrZWQnXSA6IGVsZW1lbnRbJ3ZhbHVlJ107XHJcbiAgICByZXR1cm4geyB2YWx1ZTogbmV3VmFsdWUgfTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhcnNlV2hlZWxFdmVudChldmVudDogV2hlZWxFdmVudCk6IFdoZWVsRXZlbnRBcmdzIHtcclxuICByZXR1cm4ge1xyXG4gICAgLi4ucGFyc2VNb3VzZUV2ZW50KGV2ZW50KSxcclxuICAgIGRlbHRhWDogZXZlbnQuZGVsdGFYLFxyXG4gICAgZGVsdGFZOiBldmVudC5kZWx0YVksXHJcbiAgICBkZWx0YVo6IGV2ZW50LmRlbHRhWixcclxuICAgIGRlbHRhTW9kZTogZXZlbnQuZGVsdGFNb2RlLFxyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhcnNlUG9pbnRlckV2ZW50KGV2ZW50OiBQb2ludGVyRXZlbnQpOiBQb2ludGVyRXZlbnRBcmdzIHtcclxuICByZXR1cm4ge1xyXG4gICAgLi4ucGFyc2VNb3VzZUV2ZW50KGV2ZW50KSxcclxuICAgIHBvaW50ZXJJZDogZXZlbnQucG9pbnRlcklkLFxyXG4gICAgd2lkdGg6IGV2ZW50LndpZHRoLFxyXG4gICAgaGVpZ2h0OiBldmVudC5oZWlnaHQsXHJcbiAgICBwcmVzc3VyZTogZXZlbnQucHJlc3N1cmUsXHJcbiAgICB0aWx0WDogZXZlbnQudGlsdFgsXHJcbiAgICB0aWx0WTogZXZlbnQudGlsdFksXHJcbiAgICBwb2ludGVyVHlwZTogZXZlbnQucG9pbnRlclR5cGUsXHJcbiAgICBpc1ByaW1hcnk6IGV2ZW50LmlzUHJpbWFyeSxcclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYXJzZVRvdWNoRXZlbnQoZXZlbnQ6IFRvdWNoRXZlbnQpOiBUb3VjaEV2ZW50QXJncyB7XHJcbiAgcmV0dXJuIHtcclxuICAgIGRldGFpbDogZXZlbnQuZGV0YWlsLFxyXG4gICAgdG91Y2hlczogcGFyc2VUb3VjaChldmVudC50b3VjaGVzKSxcclxuICAgIHRhcmdldFRvdWNoZXM6IHBhcnNlVG91Y2goZXZlbnQudGFyZ2V0VG91Y2hlcyksXHJcbiAgICBjaGFuZ2VkVG91Y2hlczogcGFyc2VUb3VjaChldmVudC5jaGFuZ2VkVG91Y2hlcyksXHJcbiAgICBjdHJsS2V5OiBldmVudC5jdHJsS2V5LFxyXG4gICAgc2hpZnRLZXk6IGV2ZW50LnNoaWZ0S2V5LFxyXG4gICAgYWx0S2V5OiBldmVudC5hbHRLZXksXHJcbiAgICBtZXRhS2V5OiBldmVudC5tZXRhS2V5LFxyXG4gICAgdHlwZTogZXZlbnQudHlwZSxcclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYXJzZUZvY3VzRXZlbnQoZXZlbnQ6IEZvY3VzRXZlbnQpOiBGb2N1c0V2ZW50QXJncyB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHR5cGU6IGV2ZW50LnR5cGUsXHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFyc2VDbGlwYm9hcmRFdmVudChldmVudDogQ2xpcGJvYXJkRXZlbnQpOiBDbGlwYm9hcmRFdmVudEFyZ3Mge1xyXG4gIHJldHVybiB7XHJcbiAgICB0eXBlOiBldmVudC50eXBlLFxyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhcnNlUHJvZ3Jlc3NFdmVudChldmVudDogUHJvZ3Jlc3NFdmVudDxFdmVudFRhcmdldD4pOiBQcm9ncmVzc0V2ZW50QXJncyB7XHJcbiAgcmV0dXJuIHtcclxuICAgIGxlbmd0aENvbXB1dGFibGU6IGV2ZW50Lmxlbmd0aENvbXB1dGFibGUsXHJcbiAgICBsb2FkZWQ6IGV2ZW50LmxvYWRlZCxcclxuICAgIHRvdGFsOiBldmVudC50b3RhbCxcclxuICAgIHR5cGU6IGV2ZW50LnR5cGUsXHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFyc2VFcnJvckV2ZW50KGV2ZW50OiBFcnJvckV2ZW50KTogRXJyb3JFdmVudEFyZ3Mge1xyXG4gIHJldHVybiB7XHJcbiAgICBtZXNzYWdlOiBldmVudC5tZXNzYWdlLFxyXG4gICAgZmlsZW5hbWU6IGV2ZW50LmZpbGVuYW1lLFxyXG4gICAgbGluZW5vOiBldmVudC5saW5lbm8sXHJcbiAgICBjb2xubzogZXZlbnQuY29sbm8sXHJcbiAgICB0eXBlOiBldmVudC50eXBlLFxyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhcnNlS2V5Ym9hcmRFdmVudChldmVudDogS2V5Ym9hcmRFdmVudCk6IEtleWJvYXJkRXZlbnRBcmdzIHtcclxuICByZXR1cm4ge1xyXG4gICAga2V5OiBldmVudC5rZXksXHJcbiAgICBjb2RlOiBldmVudC5jb2RlLFxyXG4gICAgbG9jYXRpb246IGV2ZW50LmxvY2F0aW9uLFxyXG4gICAgcmVwZWF0OiBldmVudC5yZXBlYXQsXHJcbiAgICBjdHJsS2V5OiBldmVudC5jdHJsS2V5LFxyXG4gICAgc2hpZnRLZXk6IGV2ZW50LnNoaWZ0S2V5LFxyXG4gICAgYWx0S2V5OiBldmVudC5hbHRLZXksXHJcbiAgICBtZXRhS2V5OiBldmVudC5tZXRhS2V5LFxyXG4gICAgdHlwZTogZXZlbnQudHlwZSxcclxuICAgIGlzQ29tcG9zaW5nOiBldmVudC5pc0NvbXBvc2luZyxcclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYXJzZURyYWdFdmVudChldmVudDogRHJhZ0V2ZW50KTogRHJhZ0V2ZW50QXJncyB7XHJcbiAgcmV0dXJuIHtcclxuICAgIC4uLnBhcnNlTW91c2VFdmVudChldmVudCksXHJcbiAgICBkYXRhVHJhbnNmZXI6IGV2ZW50LmRhdGFUcmFuc2ZlciA/IHtcclxuICAgICAgZHJvcEVmZmVjdDogZXZlbnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QsXHJcbiAgICAgIGVmZmVjdEFsbG93ZWQ6IGV2ZW50LmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkLFxyXG4gICAgICBmaWxlczogQXJyYXkuZnJvbShldmVudC5kYXRhVHJhbnNmZXIuZmlsZXMpLm1hcChmID0+IGYubmFtZSksXHJcbiAgICAgIGl0ZW1zOiBBcnJheS5mcm9tKGV2ZW50LmRhdGFUcmFuc2Zlci5pdGVtcykubWFwKGkgPT4gKHsga2luZDogaS5raW5kLCB0eXBlOiBpLnR5cGUgfSkpLFxyXG4gICAgICB0eXBlczogZXZlbnQuZGF0YVRyYW5zZmVyLnR5cGVzLFxyXG4gICAgfSA6IG51bGwsXHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFyc2VUb3VjaCh0b3VjaExpc3Q6IFRvdWNoTGlzdCk6IFRvdWNoUG9pbnRbXSB7XHJcbiAgY29uc3QgdG91Y2hlczogVG91Y2hQb2ludFtdID0gW107XHJcblxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdG91Y2hMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICBjb25zdCB0b3VjaCA9IHRvdWNoTGlzdFtpXTtcclxuICAgIHRvdWNoZXMucHVzaCh7XHJcbiAgICAgIGlkZW50aWZpZXI6IHRvdWNoLmlkZW50aWZpZXIsXHJcbiAgICAgIGNsaWVudFg6IHRvdWNoLmNsaWVudFgsXHJcbiAgICAgIGNsaWVudFk6IHRvdWNoLmNsaWVudFksXHJcbiAgICAgIHNjcmVlblg6IHRvdWNoLnNjcmVlblgsXHJcbiAgICAgIHNjcmVlblk6IHRvdWNoLnNjcmVlblksXHJcbiAgICAgIHBhZ2VYOiB0b3VjaC5wYWdlWCxcclxuICAgICAgcGFnZVk6IHRvdWNoLnBhZ2VZLFxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHJldHVybiB0b3VjaGVzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYXJzZU1vdXNlRXZlbnQoZXZlbnQ6IE1vdXNlRXZlbnQpOiBNb3VzZUV2ZW50QXJncyB7XHJcbiAgcmV0dXJuIHtcclxuICAgIGRldGFpbDogZXZlbnQuZGV0YWlsLFxyXG4gICAgc2NyZWVuWDogZXZlbnQuc2NyZWVuWCxcclxuICAgIHNjcmVlblk6IGV2ZW50LnNjcmVlblksXHJcbiAgICBjbGllbnRYOiBldmVudC5jbGllbnRYLFxyXG4gICAgY2xpZW50WTogZXZlbnQuY2xpZW50WSxcclxuICAgIG9mZnNldFg6IGV2ZW50Lm9mZnNldFgsXHJcbiAgICBvZmZzZXRZOiBldmVudC5vZmZzZXRZLFxyXG4gICAgcGFnZVg6IGV2ZW50LnBhZ2VYLFxyXG4gICAgcGFnZVk6IGV2ZW50LnBhZ2VZLFxyXG4gICAgbW92ZW1lbnRYOiBldmVudC5tb3ZlbWVudFgsXHJcbiAgICBtb3ZlbWVudFk6IGV2ZW50Lm1vdmVtZW50WSxcclxuICAgIGJ1dHRvbjogZXZlbnQuYnV0dG9uLFxyXG4gICAgYnV0dG9uczogZXZlbnQuYnV0dG9ucyxcclxuICAgIGN0cmxLZXk6IGV2ZW50LmN0cmxLZXksXHJcbiAgICBzaGlmdEtleTogZXZlbnQuc2hpZnRLZXksXHJcbiAgICBhbHRLZXk6IGV2ZW50LmFsdEtleSxcclxuICAgIG1ldGFLZXk6IGV2ZW50Lm1ldGFLZXksXHJcbiAgICB0eXBlOiBldmVudC50eXBlLFxyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzQ2hlY2tib3goZWxlbWVudDogRWxlbWVudCB8IG51bGwpOiBib29sZWFuIHtcclxuICByZXR1cm4gISFlbGVtZW50ICYmIGVsZW1lbnQudGFnTmFtZSA9PT0gJ0lOUFVUJyAmJiBlbGVtZW50LmdldEF0dHJpYnV0ZSgndHlwZScpID09PSAnY2hlY2tib3gnO1xyXG59XHJcblxyXG5jb25zdCB0aW1lQmFzZWRJbnB1dHMgPSBbXHJcbiAgJ2RhdGUnLFxyXG4gICdkYXRldGltZS1sb2NhbCcsXHJcbiAgJ21vbnRoJyxcclxuICAndGltZScsXHJcbiAgJ3dlZWsnLFxyXG5dO1xyXG5cclxuZnVuY3Rpb24gaXNUaW1lQmFzZWRJbnB1dChlbGVtZW50OiBFbGVtZW50KTogZWxlbWVudCBpcyBIVE1MSW5wdXRFbGVtZW50IHtcclxuICByZXR1cm4gdGltZUJhc2VkSW5wdXRzLmluZGV4T2YoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSEpICE9PSAtMTtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNNdWx0aXBsZVNlbGVjdElucHV0KGVsZW1lbnQ6IEVsZW1lbnQpOiBlbGVtZW50IGlzIEhUTUxTZWxlY3RFbGVtZW50IHtcclxuICByZXR1cm4gZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxTZWxlY3RFbGVtZW50ICYmIGVsZW1lbnQudHlwZSA9PT0gJ3NlbGVjdC1tdWx0aXBsZSc7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVRpbWVCYXNlZFZhbHVlKGVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQpOiBzdHJpbmcge1xyXG4gIGNvbnN0IHZhbHVlID0gZWxlbWVudC52YWx1ZTtcclxuICBjb25zdCB0eXBlID0gZWxlbWVudC50eXBlO1xyXG4gIHN3aXRjaCAodHlwZSkge1xyXG4gICAgY2FzZSAnZGF0ZSc6XHJcbiAgICBjYXNlICdtb250aCc6XHJcbiAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIGNhc2UgJ2RhdGV0aW1lLWxvY2FsJzpcclxuICAgICAgcmV0dXJuIHZhbHVlLmxlbmd0aCA9PT0gMTYgPyB2YWx1ZSArICc6MDAnIDogdmFsdWU7IC8vIENvbnZlcnQgeXl5eS1NTS1kZFRISDptbSB0byB5eXl5LU1NLWRkVEhIOm1tOjAwXHJcbiAgICBjYXNlICd0aW1lJzpcclxuICAgICAgcmV0dXJuIHZhbHVlLmxlbmd0aCA9PT0gNSA/IHZhbHVlICsgJzowMCcgOiB2YWx1ZTsgLy8gQ29udmVydCBoaDptbSB0byBoaDptbTowMFxyXG4gICAgY2FzZSAnd2Vlayc6XHJcbiAgICAgIC8vIEZvciBub3cgd2UgYXJlIG5vdCBnb2luZyB0byBub3JtYWxpemUgaW5wdXQgdHlwZSB3ZWVrIGFzIGl0IGlzIG5vdCB0cml2aWFsXHJcbiAgICAgIHJldHVybiB2YWx1ZTtcclxuICB9XHJcblxyXG4gIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBlbGVtZW50IHR5cGUgJyR7dHlwZX0nLmApO1xyXG59XHJcblxyXG4vLyBUaGUgZm9sbG93aW5nIGludGVyZmFjZXMgbXVzdCBiZSBrZXB0IGluIHN5bmMgd2l0aCB0aGUgRXZlbnRBcmdzIEMjIGNsYXNzZXNcclxuXHJcbmludGVyZmFjZSBDaGFuZ2VFdmVudEFyZ3Mge1xyXG4gIHZhbHVlOiBzdHJpbmcgfCBib29sZWFuIHwgc3RyaW5nW107XHJcbn1cclxuXHJcbmludGVyZmFjZSBEcmFnRXZlbnRBcmdzIHtcclxuICBkZXRhaWw6IG51bWJlcjtcclxuICBkYXRhVHJhbnNmZXI6IERhdGFUcmFuc2ZlckV2ZW50QXJncyB8IG51bGw7XHJcbiAgc2NyZWVuWDogbnVtYmVyO1xyXG4gIHNjcmVlblk6IG51bWJlcjtcclxuICBjbGllbnRYOiBudW1iZXI7XHJcbiAgY2xpZW50WTogbnVtYmVyO1xyXG4gIGJ1dHRvbjogbnVtYmVyO1xyXG4gIGJ1dHRvbnM6IG51bWJlcjtcclxuICBjdHJsS2V5OiBib29sZWFuO1xyXG4gIHNoaWZ0S2V5OiBib29sZWFuO1xyXG4gIGFsdEtleTogYm9vbGVhbjtcclxuICBtZXRhS2V5OiBib29sZWFuO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRGF0YVRyYW5zZmVyRXZlbnRBcmdzIHtcclxuICBkcm9wRWZmZWN0OiBzdHJpbmc7XHJcbiAgZWZmZWN0QWxsb3dlZDogc3RyaW5nO1xyXG4gIGZpbGVzOiByZWFkb25seSBzdHJpbmdbXTtcclxuICBpdGVtczogcmVhZG9ubHkgRGF0YVRyYW5zZmVySXRlbVtdO1xyXG4gIHR5cGVzOiByZWFkb25seSBzdHJpbmdbXTtcclxufVxyXG5cclxuaW50ZXJmYWNlIERhdGFUcmFuc2Zlckl0ZW0ge1xyXG4gIGtpbmQ6IHN0cmluZztcclxuICB0eXBlOiBzdHJpbmc7XHJcbn1cclxuXHJcbmludGVyZmFjZSBFcnJvckV2ZW50QXJncyB7XHJcbiAgbWVzc2FnZTogc3RyaW5nO1xyXG4gIGZpbGVuYW1lOiBzdHJpbmc7XHJcbiAgbGluZW5vOiBudW1iZXI7XHJcbiAgY29sbm86IG51bWJlcjtcclxuICB0eXBlOiBzdHJpbmc7XHJcblxyXG4gIC8vIG9taXR0aW5nICdlcnJvcicgaGVyZSBzaW5jZSB3ZSdkIGhhdmUgdG8gc2VyaWFsaXplIGl0LCBhbmQgaXQncyBub3QgY2xlYXIgd2Ugd2lsbCB3YW50IHRvXHJcbiAgLy8gZG8gdGhhdC4gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0Vycm9yRXZlbnRcclxufVxyXG5cclxuaW50ZXJmYWNlIEtleWJvYXJkRXZlbnRBcmdzIHtcclxuICBrZXk6IHN0cmluZztcclxuICBjb2RlOiBzdHJpbmc7XHJcbiAgbG9jYXRpb246IG51bWJlcjtcclxuICByZXBlYXQ6IGJvb2xlYW47XHJcbiAgY3RybEtleTogYm9vbGVhbjtcclxuICBzaGlmdEtleTogYm9vbGVhbjtcclxuICBhbHRLZXk6IGJvb2xlYW47XHJcbiAgbWV0YUtleTogYm9vbGVhbjtcclxuICB0eXBlOiBzdHJpbmc7XHJcbiAgaXNDb21wb3Npbmc6IGJvb2xlYW47XHJcbn1cclxuXHJcbmludGVyZmFjZSBNb3VzZUV2ZW50QXJncyB7XHJcbiAgZGV0YWlsOiBudW1iZXI7XHJcbiAgc2NyZWVuWDogbnVtYmVyO1xyXG4gIHNjcmVlblk6IG51bWJlcjtcclxuICBjbGllbnRYOiBudW1iZXI7XHJcbiAgY2xpZW50WTogbnVtYmVyO1xyXG4gIG9mZnNldFg6IG51bWJlcjtcclxuICBvZmZzZXRZOiBudW1iZXI7XHJcbiAgcGFnZVg6IG51bWJlcjtcclxuICBwYWdlWTogbnVtYmVyO1xyXG4gIG1vdmVtZW50WDogbnVtYmVyO1xyXG4gIG1vdmVtZW50WTogbnVtYmVyO1xyXG4gIGJ1dHRvbjogbnVtYmVyO1xyXG4gIGJ1dHRvbnM6IG51bWJlcjtcclxuICBjdHJsS2V5OiBib29sZWFuO1xyXG4gIHNoaWZ0S2V5OiBib29sZWFuO1xyXG4gIGFsdEtleTogYm9vbGVhbjtcclxuICBtZXRhS2V5OiBib29sZWFuO1xyXG4gIHR5cGU6IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIFBvaW50ZXJFdmVudEFyZ3MgZXh0ZW5kcyBNb3VzZUV2ZW50QXJncyB7XHJcbiAgcG9pbnRlcklkOiBudW1iZXI7XHJcbiAgd2lkdGg6IG51bWJlcjtcclxuICBoZWlnaHQ6IG51bWJlcjtcclxuICBwcmVzc3VyZTogbnVtYmVyO1xyXG4gIHRpbHRYOiBudW1iZXI7XHJcbiAgdGlsdFk6IG51bWJlcjtcclxuICBwb2ludGVyVHlwZTogc3RyaW5nO1xyXG4gIGlzUHJpbWFyeTogYm9vbGVhbjtcclxufVxyXG5cclxuaW50ZXJmYWNlIFByb2dyZXNzRXZlbnRBcmdzIHtcclxuICBsZW5ndGhDb21wdXRhYmxlOiBib29sZWFuO1xyXG4gIGxvYWRlZDogbnVtYmVyO1xyXG4gIHRvdGFsOiBudW1iZXI7XHJcbiAgdHlwZTogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgVG91Y2hFdmVudEFyZ3Mge1xyXG4gIGRldGFpbDogbnVtYmVyO1xyXG4gIHRvdWNoZXM6IFRvdWNoUG9pbnRbXTtcclxuICB0YXJnZXRUb3VjaGVzOiBUb3VjaFBvaW50W107XHJcbiAgY2hhbmdlZFRvdWNoZXM6IFRvdWNoUG9pbnRbXTtcclxuICBjdHJsS2V5OiBib29sZWFuO1xyXG4gIHNoaWZ0S2V5OiBib29sZWFuO1xyXG4gIGFsdEtleTogYm9vbGVhbjtcclxuICBtZXRhS2V5OiBib29sZWFuO1xyXG4gIHR5cGU6IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIFRvdWNoUG9pbnQge1xyXG4gIGlkZW50aWZpZXI6IG51bWJlcjtcclxuICBzY3JlZW5YOiBudW1iZXI7XHJcbiAgc2NyZWVuWTogbnVtYmVyO1xyXG4gIGNsaWVudFg6IG51bWJlcjtcclxuICBjbGllbnRZOiBudW1iZXI7XHJcbiAgcGFnZVg6IG51bWJlcjtcclxuICBwYWdlWTogbnVtYmVyO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgV2hlZWxFdmVudEFyZ3MgZXh0ZW5kcyBNb3VzZUV2ZW50QXJncyB7XHJcbiAgZGVsdGFYOiBudW1iZXI7XHJcbiAgZGVsdGFZOiBudW1iZXI7XHJcbiAgZGVsdGFaOiBudW1iZXI7XHJcbiAgZGVsdGFNb2RlOiBudW1iZXI7XHJcbn1cclxuXHJcbmludGVyZmFjZSBGb2N1c0V2ZW50QXJncyB7XHJcbiAgdHlwZTogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgQ2xpcGJvYXJkRXZlbnRBcmdzIHtcclxuICB0eXBlOiBzdHJpbmc7XHJcbn1cclxuIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxyXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG5cclxuaW1wb3J0IHsgRG90TmV0IH0gZnJvbSAnQG1pY3Jvc29mdC9kb3RuZXQtanMtaW50ZXJvcCc7XHJcblxyXG5jb25zdCBwZW5kaW5nUm9vdENvbXBvbmVudENvbnRhaW5lck5hbWVQcmVmaXggPSAnX19ibC1keW5hbWljLXJvb3Q6JztcclxuY29uc3QgcGVuZGluZ1Jvb3RDb21wb25lbnRDb250YWluZXJzID0gbmV3IE1hcDxzdHJpbmcsIEVsZW1lbnQ+KCk7XHJcbmxldCBuZXh0UGVuZGluZ0R5bmFtaWNSb290Q29tcG9uZW50SWRlbnRpZmllciA9IDA7XHJcblxyXG50eXBlIENvbXBvbmVudFBhcmFtZXRlcnMgPSBvYmplY3QgfCBudWxsIHwgdW5kZWZpbmVkO1xyXG5cclxubGV0IG1hbmFnZXI6IERvdE5ldC5Eb3ROZXRPYmplY3QgfCB1bmRlZmluZWQ7XHJcbmxldCBqc0NvbXBvbmVudFBhcmFtZXRlcnNCeUlkZW50aWZpZXI6IEpTQ29tcG9uZW50UGFyYW1ldGVyc0J5SWRlbnRpZmllcjtcclxuXHJcbi8vIFRoZXNlIGFyZSB0aGUgcHVibGljIEFQSXMgYXQgQmxhem9yLnJvb3RDb21wb25lbnRzLipcclxuZXhwb3J0IGNvbnN0IFJvb3RDb21wb25lbnRzRnVuY3Rpb25zID0ge1xyXG4gIGFzeW5jIGFkZCh0b0VsZW1lbnQ6IEVsZW1lbnQsIGNvbXBvbmVudElkZW50aWZpZXI6IHN0cmluZywgaW5pdGlhbFBhcmFtZXRlcnM6IENvbXBvbmVudFBhcmFtZXRlcnMpOiBQcm9taXNlPER5bmFtaWNSb290Q29tcG9uZW50PiB7XHJcbiAgICBpZiAoIWluaXRpYWxQYXJhbWV0ZXJzKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW5pdGlhbFBhcmFtZXRlcnMgbXVzdCBiZSBhbiBvYmplY3QsIGV2ZW4gaWYgZW1wdHkuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVHJhY2sgdGhlIGNvbnRhaW5lciBzbyB3ZSBjYW4gdXNlIGl0IHdoZW4gdGhlIGNvbXBvbmVudCBnZXRzIGF0dGFjaGVkIHRvIHRoZSBkb2N1bWVudCB2aWEgYSBzZWxlY3RvclxyXG4gICAgY29uc3QgY29udGFpbmVySWRlbnRpZmllciA9IHBlbmRpbmdSb290Q29tcG9uZW50Q29udGFpbmVyTmFtZVByZWZpeCArICgrK25leHRQZW5kaW5nRHluYW1pY1Jvb3RDb21wb25lbnRJZGVudGlmaWVyKS50b1N0cmluZygpO1xyXG4gICAgcGVuZGluZ1Jvb3RDb21wb25lbnRDb250YWluZXJzLnNldChjb250YWluZXJJZGVudGlmaWVyLCB0b0VsZW1lbnQpO1xyXG5cclxuICAgIC8vIEluc3RydWN0IC5ORVQgdG8gYWRkIGFuZCByZW5kZXIgdGhlIG5ldyByb290IGNvbXBvbmVudFxyXG4gICAgY29uc3QgY29tcG9uZW50SWQgPSBhd2FpdCBnZXRSZXF1aXJlZE1hbmFnZXIoKS5pbnZva2VNZXRob2RBc3luYzxudW1iZXI+KCdBZGRSb290Q29tcG9uZW50JywgY29tcG9uZW50SWRlbnRpZmllciwgY29udGFpbmVySWRlbnRpZmllcik7XHJcbiAgICBjb25zdCBjb21wb25lbnQgPSBuZXcgRHluYW1pY1Jvb3RDb21wb25lbnQoY29tcG9uZW50SWQsIGpzQ29tcG9uZW50UGFyYW1ldGVyc0J5SWRlbnRpZmllcltjb21wb25lbnRJZGVudGlmaWVyXSk7XHJcbiAgICBhd2FpdCBjb21wb25lbnQuc2V0UGFyYW1ldGVycyhpbml0aWFsUGFyYW1ldGVycyk7XHJcbiAgICByZXR1cm4gY29tcG9uZW50O1xyXG4gIH0sXHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0QW5kUmVtb3ZlUGVuZGluZ1Jvb3RDb21wb25lbnRDb250YWluZXIoY29udGFpbmVySWRlbnRpZmllcjogc3RyaW5nKTogRWxlbWVudCB8IHVuZGVmaW5lZCB7XHJcbiAgY29uc3QgY29udGFpbmVyID0gcGVuZGluZ1Jvb3RDb21wb25lbnRDb250YWluZXJzLmdldChjb250YWluZXJJZGVudGlmaWVyKTtcclxuICBpZiAoY29udGFpbmVyKSB7XHJcbiAgICBwZW5kaW5nUm9vdENvbXBvbmVudENvbnRhaW5lcnMuZGVsZXRlKGNvbnRhaW5lcklkZW50aWZpZXIpO1xyXG4gICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIEV2ZW50Q2FsbGJhY2tXcmFwcGVyIHtcclxuICBwcml2YXRlIF9jYWxsYmFjazogYW55O1xyXG5cclxuICBwcml2YXRlIF9zZWxmSlNPYmplY3RSZWZlcmVuY2U6IHVua25vd247XHJcblxyXG4gIGludm9rZShhcmc6IHVua25vd24pIHtcclxuICAgIHJldHVybiB0aGlzLl9jYWxsYmFjayhhcmcpO1xyXG4gIH1cclxuXHJcbiAgc2V0Q2FsbGJhY2soY2FsbGJhY2s6IHVua25vd24pOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5fc2VsZkpTT2JqZWN0UmVmZXJlbmNlKSB7XHJcbiAgICAgIHRoaXMuX3NlbGZKU09iamVjdFJlZmVyZW5jZSA9IERvdE5ldC5jcmVhdGVKU09iamVjdFJlZmVyZW5jZSh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gIH1cclxuXHJcbiAgZ2V0SlNPYmplY3RSZWZlcmVuY2UoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fc2VsZkpTT2JqZWN0UmVmZXJlbmNlO1xyXG4gIH1cclxuXHJcbiAgZGlzcG9zZSgpIHtcclxuICAgIGlmICh0aGlzLl9zZWxmSlNPYmplY3RSZWZlcmVuY2UpIHtcclxuICAgICAgRG90TmV0LmRpc3Bvc2VKU09iamVjdFJlZmVyZW5jZSh0aGlzLl9zZWxmSlNPYmplY3RSZWZlcmVuY2UpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgRHluYW1pY1Jvb3RDb21wb25lbnQge1xyXG4gIHByaXZhdGUgX2NvbXBvbmVudElkOiBudW1iZXIgfCBudWxsO1xyXG5cclxuICBwcml2YXRlIHJlYWRvbmx5IF9qc0V2ZW50Q2FsbGJhY2tXcmFwcGVycyA9IG5ldyBNYXA8c3RyaW5nLCBFdmVudENhbGxiYWNrV3JhcHBlcj4oKTtcclxuXHJcbiAgY29uc3RydWN0b3IoY29tcG9uZW50SWQ6IG51bWJlciwgcGFyYW1ldGVyczogSlNDb21wb25lbnRQYXJhbWV0ZXJbXSkge1xyXG4gICAgdGhpcy5fY29tcG9uZW50SWQgPSBjb21wb25lbnRJZDtcclxuXHJcbiAgICBmb3IgKGNvbnN0IHBhcmFtZXRlciBvZiBwYXJhbWV0ZXJzKSB7XHJcbiAgICAgIGlmIChwYXJhbWV0ZXIudHlwZSA9PT0gJ2V2ZW50Y2FsbGJhY2snKSB7XHJcbiAgICAgICAgdGhpcy5fanNFdmVudENhbGxiYWNrV3JhcHBlcnMuc2V0KHBhcmFtZXRlci5uYW1lLnRvTG93ZXJDYXNlKCksIG5ldyBFdmVudENhbGxiYWNrV3JhcHBlcigpKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0UGFyYW1ldGVycyhwYXJhbWV0ZXJzOiBDb21wb25lbnRQYXJhbWV0ZXJzKSB7XHJcbiAgICBjb25zdCBtYXBwZWRQYXJhbWV0ZXJzID0ge307XHJcbiAgICBjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMocGFyYW1ldGVycyB8fCB7fSk7XHJcbiAgICBjb25zdCBwYXJhbWV0ZXJDb3VudCA9IGVudHJpZXMubGVuZ3RoO1xyXG5cclxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIGVudHJpZXMpIHtcclxuICAgICAgY29uc3QgY2FsbGJhY2tXcmFwcGVyID0gdGhpcy5fanNFdmVudENhbGxiYWNrV3JhcHBlcnMuZ2V0KGtleS50b0xvd2VyQ2FzZSgpKTtcclxuXHJcbiAgICAgIGlmICghY2FsbGJhY2tXcmFwcGVyIHx8ICF2YWx1ZSkge1xyXG4gICAgICAgIG1hcHBlZFBhcmFtZXRlcnNba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjYWxsYmFja1dyYXBwZXIuc2V0Q2FsbGJhY2sodmFsdWUpO1xyXG4gICAgICBtYXBwZWRQYXJhbWV0ZXJzW2tleV0gPSBjYWxsYmFja1dyYXBwZXIuZ2V0SlNPYmplY3RSZWZlcmVuY2UoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZ2V0UmVxdWlyZWRNYW5hZ2VyKCkuaW52b2tlTWV0aG9kQXN5bmMoJ1NldFJvb3RDb21wb25lbnRQYXJhbWV0ZXJzJywgdGhpcy5fY29tcG9uZW50SWQsIHBhcmFtZXRlckNvdW50LCBtYXBwZWRQYXJhbWV0ZXJzKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGRpc3Bvc2UoKSB7XHJcbiAgICBpZiAodGhpcy5fY29tcG9uZW50SWQgIT09IG51bGwpIHtcclxuICAgICAgYXdhaXQgZ2V0UmVxdWlyZWRNYW5hZ2VyKCkuaW52b2tlTWV0aG9kQXN5bmMoJ1JlbW92ZVJvb3RDb21wb25lbnQnLCB0aGlzLl9jb21wb25lbnRJZCk7XHJcbiAgICAgIHRoaXMuX2NvbXBvbmVudElkID0gbnVsbDsgLy8gRW5zdXJlIGl0IGNhbid0IGJlIHVzZWQgYWdhaW5cclxuXHJcbiAgICAgIGZvciAoY29uc3QganNFdmVudENhbGxiYWNrV3JhcHBlciBvZiB0aGlzLl9qc0V2ZW50Q2FsbGJhY2tXcmFwcGVycy52YWx1ZXMoKSkge1xyXG4gICAgICAgIGpzRXZlbnRDYWxsYmFja1dyYXBwZXIuZGlzcG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyBDYWxsZWQgYnkgdGhlIGZyYW1ld29ya1xyXG5leHBvcnQgZnVuY3Rpb24gZW5hYmxlSlNSb290Q29tcG9uZW50cyhcclxuICBtYW5hZ2VySW5zdGFuY2U6IERvdE5ldC5Eb3ROZXRPYmplY3QsXHJcbiAganNDb21wb25lbnRQYXJhbWV0ZXJzOiBKU0NvbXBvbmVudFBhcmFtZXRlcnNCeUlkZW50aWZpZXIsXHJcbiAganNDb21wb25lbnRJbml0aWFsaXplcnM6IEpTQ29tcG9uZW50SWRlbnRpZmllcnNCeUluaXRpYWxpemVyXHJcbik6IHZvaWQge1xyXG4gIGlmIChtYW5hZ2VyKSB7XHJcbiAgICAvLyBUaGlzIHdpbGwgb25seSBoYXBwZW4gaW4gdmVyeSBub25zdGFuZGFyZCBjYXNlcyB3aGVyZSBzb21lb25lIGhhcyBtdWx0aXBsZSBob3N0cy5cclxuICAgIC8vIEl0J3MgdXAgdG8gdGhlIGRldmVsb3BlciB0byBlbnN1cmUgdGhhdCBvbmx5IG9uZSBvZiB0aGVtIGVuYWJsZXMgZHluYW1pYyByb290IGNvbXBvbmVudHMuXHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0R5bmFtaWMgcm9vdCBjb21wb25lbnRzIGhhdmUgYWxyZWFkeSBiZWVuIGVuYWJsZWQuJyk7XHJcbiAgfVxyXG5cclxuICBtYW5hZ2VyID0gbWFuYWdlckluc3RhbmNlO1xyXG4gIGpzQ29tcG9uZW50UGFyYW1ldGVyc0J5SWRlbnRpZmllciA9IGpzQ29tcG9uZW50UGFyYW1ldGVycztcclxuXHJcbiAgLy8gQ2FsbCB0aGUgcmVnaXN0ZXJlZCBpbml0aWFsaXplcnMuIFRoaXMgaXMgYW4gYXJiaXRyYXJ5IHN1YnNldCBvZiB0aGUgSlMgY29tcG9uZW50IHR5cGVzIHRoYXQgYXJlIHJlZ2lzdGVyZWRcclxuICAvLyBvbiB0aGUgLk5FVCBzaWRlIC0ganVzdCB0aG9zZSBvZiB0aGVtIHRoYXQgcmVxdWlyZSBzb21lIEpTLXNpZGUgaW5pdGlhbGl6YXRpb24gKGUuZy4sIHRvIHJlZ2lzdGVyIHRoZW1cclxuICAvLyBhcyBjdXN0b20gZWxlbWVudHMpLlxyXG4gIGZvciAoY29uc3QgW2luaXRpYWxpemVySWRlbnRpZmllciwgY29tcG9uZW50SWRlbnRpZmllcnNdIG9mIE9iamVjdC5lbnRyaWVzKGpzQ29tcG9uZW50SW5pdGlhbGl6ZXJzKSkge1xyXG4gICAgY29uc3QgaW5pdGlhbGl6ZXJGdW5jID0gRG90TmV0LmZpbmRKU0Z1bmN0aW9uKGluaXRpYWxpemVySWRlbnRpZmllciwgMCkgYXMgSlNDb21wb25lbnRJbml0aWFsaXplckNhbGxiYWNrO1xyXG4gICAgZm9yIChjb25zdCBjb21wb25lbnRJZGVudGlmaWVyIG9mIGNvbXBvbmVudElkZW50aWZpZXJzKSB7XHJcbiAgICAgIGNvbnN0IHBhcmFtZXRlcnMgPSBqc0NvbXBvbmVudFBhcmFtZXRlcnNbY29tcG9uZW50SWRlbnRpZmllcl07XHJcbiAgICAgIGluaXRpYWxpemVyRnVuYyhjb21wb25lbnRJZGVudGlmaWVyLCBwYXJhbWV0ZXJzKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFJlcXVpcmVkTWFuYWdlcigpOiBEb3ROZXQuRG90TmV0T2JqZWN0IHtcclxuICBpZiAoIW1hbmFnZXIpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignRHluYW1pYyByb290IGNvbXBvbmVudHMgaGF2ZSBub3QgYmVlbiBlbmFibGVkIGluIHRoaXMgYXBwbGljYXRpb24uJyk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbWFuYWdlcjtcclxufVxyXG5cclxuLy8gS2VlcCBpbiBzeW5jIHdpdGggZXF1aXZhbGVudCBpbiBKU0NvbXBvbmVudENvbmZpZ3VyYXRpb25TdG9yZS5jc1xyXG4vLyBUaGVzZSBhcmUgYW4gaW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsIG5vdCBleHBvc2VkIGluIHRoZSByZWdpc3RyYXRpb24gQVBJcy5cclxuZXhwb3J0IHR5cGUgSlNDb21wb25lbnRQYXJhbWV0ZXJzQnlJZGVudGlmaWVyID0geyBbaWRlbnRpZmllcjogc3RyaW5nXTogSlNDb21wb25lbnRQYXJhbWV0ZXJbXSB9O1xyXG5leHBvcnQgdHlwZSBKU0NvbXBvbmVudElkZW50aWZpZXJzQnlJbml0aWFsaXplciA9IHsgW2luaXRpYWxpemVyOiBzdHJpbmddOiBzdHJpbmdbXSB9O1xyXG5cclxuLy8gVGhlIGZvbGxvd2luZyBpcyBwdWJsaWMgQVBJXHJcbmV4cG9ydCBpbnRlcmZhY2UgSlNDb21wb25lbnRJbml0aWFsaXplckNhbGxiYWNrIHtcclxuICAoaWRlbnRpZmllcjogc3RyaW5nLCBwYXJhbWV0ZXJzOiBKU0NvbXBvbmVudFBhcmFtZXRlcltdKTogdm9pZDtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBKU0NvbXBvbmVudFBhcmFtZXRlciB7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIHR5cGU6IEpTQ29tcG9uZW50UGFyYW1ldGVyVHlwZTtcclxufVxyXG5cclxuLy8gSlNPTi1wcmltaXRpdmUgdHlwZXMsIHBsdXMgZm9yIHRob3NlIHdob3NlIC5ORVQgZXF1aXZhbGVudCBpc24ndCBudWxsYWJsZSwgYSAnPycgdG8gaW5kaWNhdGUgbnVsbGFiaWxpdHlcclxuLy8gVGhpcyBhbGxvd3MgY3VzdG9tIGVsZW1lbnQgYXV0aG9ycyB0byBjb2VyY2UgYXR0cmlidXRlIHN0cmluZ3MgaW50byB0aGUgYXBwcm9wcmlhdGUgdHlwZVxyXG5leHBvcnQgdHlwZSBKU0NvbXBvbmVudFBhcmFtZXRlclR5cGUgPSAnc3RyaW5nJyB8ICdib29sZWFuJyB8ICdib29sZWFuPycgfCAnbnVtYmVyJyB8ICdudW1iZXI/JyB8ICdvYmplY3QnIHwgJ2V2ZW50Y2FsbGJhY2snO1xyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG5pbXBvcnQgeyBEb3ROZXQgfSBmcm9tICdAbWljcm9zb2Z0L2RvdG5ldC1qcy1pbnRlcm9wJztcclxuaW1wb3J0IHsgRXZlbnREZXNjcmlwdG9yIH0gZnJvbSAnLi9FdmVudHMvRXZlbnREZWxlZ2F0b3InO1xyXG5pbXBvcnQgeyBlbmFibGVKU1Jvb3RDb21wb25lbnRzLCBKU0NvbXBvbmVudFBhcmFtZXRlcnNCeUlkZW50aWZpZXIsIEpTQ29tcG9uZW50SWRlbnRpZmllcnNCeUluaXRpYWxpemVyIH0gZnJvbSAnLi9KU1Jvb3RDb21wb25lbnRzJztcclxuXHJcbmNvbnN0IGludGVyb3BNZXRob2RzQnlSZW5kZXJlciA9IG5ldyBNYXA8bnVtYmVyLCBEb3ROZXQuRG90TmV0T2JqZWN0PigpO1xyXG5jb25zdCByZW5kZXJlckF0dGFjaGVkTGlzdGVuZXJzOiAoKGJyb3dzZXJSZW5kZXJlcklkOiBudW1iZXIpID0+IHZvaWQpW10gPSBbXTtcclxuY29uc3QgcmVuZGVyZXJCeUlkUmVzb2x2ZXJNYXA6IE1hcDxudW1iZXIsIFsoKSA9PiB2b2lkIHwgdW5kZWZpbmVkLCBQcm9taXNlPHZvaWQ+IHwgdW5kZWZpbmVkXT4gPSBuZXcgTWFwKCk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYXR0YWNoUmVuZGVyZXJJZFJlc29sdmVyKHJlbmRlcmVySWQ6IG51bWJlciwgcmVzb2x2ZXI6ICgpID0+IHZvaWQgfCB1bmRlZmluZWQsIHByb21pc2U6IFByb21pc2U8dm9pZD4gfCB1bmRlZmluZWQpIHtcclxuICByZW5kZXJlckJ5SWRSZXNvbHZlck1hcC5zZXQocmVuZGVyZXJJZCwgW3Jlc29sdmVyLCBwcm9taXNlXSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSZW5kZXJlckF0dGFjaGVkUHJvbWlzZShyZW5kZXJlcklkOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHwgdW5kZWZpbmVkIHtcclxuICByZXR1cm4gcmVuZGVyZXJCeUlkUmVzb2x2ZXJNYXAuZ2V0KHJlbmRlcmVySWQpPy5bMV07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhdHRhY2hXZWJSZW5kZXJlckludGVyb3AoXHJcbiAgcmVuZGVyZXJJZDogbnVtYmVyLFxyXG4gIGludGVyb3BNZXRob2RzOiBEb3ROZXQuRG90TmV0T2JqZWN0LFxyXG4gIGpzQ29tcG9uZW50UGFyYW1ldGVycz86IEpTQ29tcG9uZW50UGFyYW1ldGVyc0J5SWRlbnRpZmllcixcclxuICBqc0NvbXBvbmVudEluaXRpYWxpemVycz86IEpTQ29tcG9uZW50SWRlbnRpZmllcnNCeUluaXRpYWxpemVyLFxyXG4pOiB2b2lkIHtcclxuICBpZiAoaW50ZXJvcE1ldGhvZHNCeVJlbmRlcmVyLmhhcyhyZW5kZXJlcklkKSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnRlcm9wIG1ldGhvZHMgYXJlIGFscmVhZHkgcmVnaXN0ZXJlZCBmb3IgcmVuZGVyZXIgJHtyZW5kZXJlcklkfWApO1xyXG4gIH1cclxuXHJcbiAgaW50ZXJvcE1ldGhvZHNCeVJlbmRlcmVyLnNldChyZW5kZXJlcklkLCBpbnRlcm9wTWV0aG9kcyk7XHJcblxyXG4gIGlmIChqc0NvbXBvbmVudFBhcmFtZXRlcnMgJiYganNDb21wb25lbnRJbml0aWFsaXplcnMgJiYgT2JqZWN0LmtleXMoanNDb21wb25lbnRQYXJhbWV0ZXJzKS5sZW5ndGggPiAwKSB7XHJcbiAgICBjb25zdCBtYW5hZ2VyID0gZ2V0SW50ZXJvcE1ldGhvZHMocmVuZGVyZXJJZCk7XHJcbiAgICBlbmFibGVKU1Jvb3RDb21wb25lbnRzKG1hbmFnZXIsIGpzQ29tcG9uZW50UGFyYW1ldGVycywganNDb21wb25lbnRJbml0aWFsaXplcnMpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyZXJCeUlkUmVzb2x2ZXJNYXAuZ2V0KHJlbmRlcmVySWQpPy5bMF0/LigpO1xyXG5cclxuICBpbnZva2VSZW5kZXJlckF0dGFjaGVkTGlzdGVuZXJzKHJlbmRlcmVySWQpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGV0YWNoV2ViUmVuZGVyZXJJbnRlcm9wKHJlbmRlcmVySWQ6IG51bWJlcik6IERvdE5ldC5Eb3ROZXRPYmplY3Qge1xyXG4gIGNvbnN0IGludGVyb3BNZXRob2RzID0gaW50ZXJvcE1ldGhvZHNCeVJlbmRlcmVyLmdldChyZW5kZXJlcklkKTtcclxuICBpZiAoIWludGVyb3BNZXRob2RzKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludGVyb3AgbWV0aG9kcyBhcmUgbm90IHJlZ2lzdGVyZWQgZm9yIHJlbmRlcmVyICR7cmVuZGVyZXJJZH1gKTtcclxuICB9XHJcblxyXG4gIGludGVyb3BNZXRob2RzQnlSZW5kZXJlci5kZWxldGUocmVuZGVyZXJJZCk7XHJcbiAgcmV0dXJuIGludGVyb3BNZXRob2RzO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNSZW5kZXJlckF0dGFjaGVkKGJyb3dzZXJSZW5kZXJlcklkOiBudW1iZXIpOiBib29sZWFuIHtcclxuICByZXR1cm4gaW50ZXJvcE1ldGhvZHNCeVJlbmRlcmVyLmhhcyhicm93c2VyUmVuZGVyZXJJZCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlclJlbmRlcmVyQXR0YWNoZWRMaXN0ZW5lcihsaXN0ZW5lcjogKGJyb3dzZXJSZW5kZXJlcklkOiBudW1iZXIpID0+IHZvaWQpIHtcclxuICByZW5kZXJlckF0dGFjaGVkTGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbnZva2VSZW5kZXJlckF0dGFjaGVkTGlzdGVuZXJzKGJyb3dzZXJSZW5kZXJlcklkOiBudW1iZXIpIHtcclxuICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHJlbmRlcmVyQXR0YWNoZWRMaXN0ZW5lcnMpIHtcclxuICAgIGxpc3RlbmVyKGJyb3dzZXJSZW5kZXJlcklkKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50KGJyb3dzZXJSZW5kZXJlcklkOiBudW1iZXIsIGV2ZW50RGVzY3JpcHRvcjogRXZlbnREZXNjcmlwdG9yLCBldmVudEFyZ3M6IGFueSk6IHZvaWQge1xyXG4gIHJldHVybiBkaXNwYXRjaEV2ZW50TWlkZGxld2FyZShicm93c2VyUmVuZGVyZXJJZCwgZXZlbnREZXNjcmlwdG9yLmV2ZW50SGFuZGxlcklkLCAoKSA9PiB7XHJcbiAgICBjb25zdCBpbnRlcm9wTWV0aG9kcyA9IGdldEludGVyb3BNZXRob2RzKGJyb3dzZXJSZW5kZXJlcklkKTtcclxuICAgIHJldHVybiBpbnRlcm9wTWV0aG9kcy5pbnZva2VNZXRob2RBc3luYygnRGlzcGF0Y2hFdmVudEFzeW5jJywgZXZlbnREZXNjcmlwdG9yLCBldmVudEFyZ3MpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlUm9vdENvbXBvbmVudHMoYnJvd3NlclJlbmRlcmVySWQ6IG51bWJlciwgb3BlcmF0aW9uc0pzb246IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gIGNvbnN0IGludGVyb3BNZXRob2RzID0gZ2V0SW50ZXJvcE1ldGhvZHMoYnJvd3NlclJlbmRlcmVySWQpO1xyXG4gIHJldHVybiBpbnRlcm9wTWV0aG9kcy5pbnZva2VNZXRob2RBc3luYygnVXBkYXRlUm9vdENvbXBvbmVudHMnLCBvcGVyYXRpb25zSnNvbik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEludGVyb3BNZXRob2RzKHJlbmRlcmVySWQ6IG51bWJlcik6IERvdE5ldC5Eb3ROZXRPYmplY3Qge1xyXG4gIGNvbnN0IGludGVyb3BNZXRob2RzID0gaW50ZXJvcE1ldGhvZHNCeVJlbmRlcmVyLmdldChyZW5kZXJlcklkKTtcclxuICBpZiAoIWludGVyb3BNZXRob2RzKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGludGVyb3AgbWV0aG9kcyBhcmUgcmVnaXN0ZXJlZCBmb3IgcmVuZGVyZXIgJHtyZW5kZXJlcklkfWApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGludGVyb3BNZXRob2RzO1xyXG59XHJcblxyXG4vLyBPbiBzb21lIGhvc3RpbmcgcGxhdGZvcm1zLCB3ZSBtYXkgbmVlZCB0byBkZWZlciB0aGUgZXZlbnQgZGlzcGF0Y2gsIHNvIHRoZXkgY2FuIHJlZ2lzdGVyIHRoaXMgbWlkZGxld2FyZSB0byBkbyBzb1xyXG50eXBlIERpc3BhdGNoRXZlbnRNaWRkbHdhcmUgPSAoYnJvd3NlclJlbmRlcmVySWQ6IG51bWJlciwgZXZlbnRIYW5kbGVySWQ6IG51bWJlciwgY29udGludWF0aW9uOiAoKSA9PiB2b2lkKSA9PiB2b2lkO1xyXG5cclxubGV0IGRpc3BhdGNoRXZlbnRNaWRkbGV3YXJlOiBEaXNwYXRjaEV2ZW50TWlkZGx3YXJlID0gKGJyb3dzZXJSZW5kZXJlcklkLCBldmVudEhhbmRsZXJJZCwgY29udGludWF0aW9uKSA9PiBjb250aW51YXRpb24oKTtcclxuZXhwb3J0IGZ1bmN0aW9uIGFkZERpc3BhdGNoRXZlbnRNaWRkbGV3YXJlKG1pZGRsZXdhcmU6IERpc3BhdGNoRXZlbnRNaWRkbHdhcmUpOiB2b2lkIHtcclxuICBjb25zdCBuZXh0ID0gZGlzcGF0Y2hFdmVudE1pZGRsZXdhcmU7XHJcbiAgZGlzcGF0Y2hFdmVudE1pZGRsZXdhcmUgPSAoYnJvd3NlclJlbmRlcmVySWQsIGV2ZW50SGFuZGxlcklkLCBjb250aW51YXRpb24pID0+IHtcclxuICAgIG1pZGRsZXdhcmUoYnJvd3NlclJlbmRlcmVySWQsIGV2ZW50SGFuZGxlcklkLCAoKSA9PiBuZXh0KGJyb3dzZXJSZW5kZXJlcklkLCBldmVudEhhbmRsZXJJZCwgY29udGludWF0aW9uKSk7XHJcbiAgfTtcclxufVxyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG5pbXBvcnQgeyBFdmVudEZpZWxkSW5mbyB9IGZyb20gJy4vRXZlbnRGaWVsZEluZm8nO1xyXG5pbXBvcnQgeyBldmVudE5hbWVBbGlhc1JlZ2lzdGVyZWRDYWxsYmFja3MsIGdldEJyb3dzZXJFdmVudE5hbWUsIGdldEV2ZW50TmFtZUFsaWFzZXMsIGdldEV2ZW50VHlwZU9wdGlvbnMgfSBmcm9tICcuL0V2ZW50VHlwZXMnO1xyXG5pbXBvcnQgeyBpc1JlbmRlcmVyQXR0YWNoZWQsIGRpc3BhdGNoRXZlbnQgfSBmcm9tICcuLi9XZWJSZW5kZXJlckludGVyb3BNZXRob2RzJztcclxuXHJcbmNvbnN0IG5vbkJ1YmJsaW5nRXZlbnRzID0gdG9Mb29rdXAoW1xyXG4gICdhYm9ydCcsXHJcbiAgJ2JsdXInLFxyXG4gICdjYW5jZWwnLFxyXG4gICdjYW5wbGF5JyxcclxuICAnY2FucGxheXRocm91Z2gnLFxyXG4gICdjaGFuZ2UnLFxyXG4gICdjbG9zZScsXHJcbiAgJ2N1ZWNoYW5nZScsXHJcbiAgJ2R1cmF0aW9uY2hhbmdlJyxcclxuICAnZW1wdGllZCcsXHJcbiAgJ2VuZGVkJyxcclxuICAnZXJyb3InLFxyXG4gICdmb2N1cycsXHJcbiAgJ2xvYWQnLFxyXG4gICdsb2FkZWRkYXRhJyxcclxuICAnbG9hZGVkbWV0YWRhdGEnLFxyXG4gICdsb2FkZW5kJyxcclxuICAnbG9hZHN0YXJ0JyxcclxuICAnbW91c2VlbnRlcicsXHJcbiAgJ21vdXNlbGVhdmUnLFxyXG4gICdwb2ludGVyZW50ZXInLFxyXG4gICdwb2ludGVybGVhdmUnLFxyXG4gICdwYXVzZScsXHJcbiAgJ3BsYXknLFxyXG4gICdwbGF5aW5nJyxcclxuICAncHJvZ3Jlc3MnLFxyXG4gICdyYXRlY2hhbmdlJyxcclxuICAncmVzZXQnLFxyXG4gICdzY3JvbGwnLFxyXG4gICdzZWVrZWQnLFxyXG4gICdzZWVraW5nJyxcclxuICAnc3RhbGxlZCcsXHJcbiAgJ3N1Ym1pdCcsXHJcbiAgJ3N1c3BlbmQnLFxyXG4gICd0aW1ldXBkYXRlJyxcclxuICAndG9nZ2xlJyxcclxuICAndW5sb2FkJyxcclxuICAndm9sdW1lY2hhbmdlJyxcclxuICAnd2FpdGluZycsXHJcbiAgJ0RPTU5vZGVJbnNlcnRlZEludG9Eb2N1bWVudCcsXHJcbiAgJ0RPTU5vZGVSZW1vdmVkRnJvbURvY3VtZW50JyxcclxuXSk7XHJcblxyXG5jb25zdCBhbHdheXNQcmV2ZW50RGVmYXVsdEV2ZW50czogeyBbZXZlbnRUeXBlOiBzdHJpbmddOiBib29sZWFuIH0gPSB7IHN1Ym1pdDogdHJ1ZSB9O1xyXG5cclxuY29uc3QgZGlzYWJsZWFibGVFdmVudE5hbWVzID0gdG9Mb29rdXAoW1xyXG4gICdjbGljaycsXHJcbiAgJ2RibGNsaWNrJyxcclxuICAnbW91c2Vkb3duJyxcclxuICAnbW91c2Vtb3ZlJyxcclxuICAnbW91c2V1cCcsXHJcbl0pO1xyXG5cclxuLy8gUmVzcG9uc2libGUgZm9yIGFkZGluZy9yZW1vdmluZyB0aGUgZXZlbnRJbmZvIG9uIGFuIGV4cGFuZG8gcHJvcGVydHkgb24gRE9NIGVsZW1lbnRzLCBhbmRcclxuLy8gY2FsbGluZyBhbiBFdmVudEluZm9TdG9yZSB0aGF0IGRlYWxzIHdpdGggcmVnaXN0ZXJpbmcvdW5yZWdpc3RlcmluZyB0aGUgdW5kZXJseWluZyBkZWxlZ2F0ZWRcclxuLy8gZXZlbnQgbGlzdGVuZXJzIGFzIHJlcXVpcmVkIChhbmQgYWxzbyBtYXBzIGFjdHVhbCBldmVudHMgYmFjayB0byB0aGUgZ2l2ZW4gY2FsbGJhY2spLlxyXG5leHBvcnQgY2xhc3MgRXZlbnREZWxlZ2F0b3Ige1xyXG4gIHByaXZhdGUgc3RhdGljIG5leHRFdmVudERlbGVnYXRvcklkID0gMDtcclxuXHJcbiAgcHJpdmF0ZSByZWFkb25seSBldmVudHNDb2xsZWN0aW9uS2V5OiBzdHJpbmc7XHJcblxyXG4gIHByaXZhdGUgcmVhZG9ubHkgYWZ0ZXJDbGlja0NhbGxiYWNrczogKChldmVudDogTW91c2VFdmVudCkgPT4gdm9pZClbXSA9IFtdO1xyXG5cclxuICBwcml2YXRlIGV2ZW50SW5mb1N0b3JlOiBFdmVudEluZm9TdG9yZTtcclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBicm93c2VyUmVuZGVyZXJJZDogbnVtYmVyKSB7XHJcbiAgICBjb25zdCBldmVudERlbGVnYXRvcklkID0gKytFdmVudERlbGVnYXRvci5uZXh0RXZlbnREZWxlZ2F0b3JJZDtcclxuICAgIHRoaXMuZXZlbnRzQ29sbGVjdGlvbktleSA9IGBfYmxhem9yRXZlbnRzXyR7ZXZlbnREZWxlZ2F0b3JJZH1gO1xyXG4gICAgdGhpcy5ldmVudEluZm9TdG9yZSA9IG5ldyBFdmVudEluZm9TdG9yZSh0aGlzLm9uR2xvYmFsRXZlbnQuYmluZCh0aGlzKSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0TGlzdGVuZXIoZWxlbWVudDogRWxlbWVudCwgZXZlbnROYW1lOiBzdHJpbmcsIGV2ZW50SGFuZGxlcklkOiBudW1iZXIsIHJlbmRlcmluZ0NvbXBvbmVudElkOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIGNvbnN0IGluZm9Gb3JFbGVtZW50ID0gdGhpcy5nZXRFdmVudEhhbmRsZXJJbmZvc0ZvckVsZW1lbnQoZWxlbWVudCwgdHJ1ZSkhO1xyXG4gICAgY29uc3QgZXhpc3RpbmdIYW5kbGVyID0gaW5mb0ZvckVsZW1lbnQuZ2V0SGFuZGxlcihldmVudE5hbWUpO1xyXG5cclxuICAgIGlmIChleGlzdGluZ0hhbmRsZXIpIHtcclxuICAgICAgLy8gV2UgY2FuIGNoZWFwbHkgdXBkYXRlIHRoZSBpbmZvIG9uIHRoZSBleGlzdGluZyBvYmplY3QgYW5kIGRvbid0IG5lZWQgYW55IG90aGVyIGhvdXNla2VlcGluZ1xyXG4gICAgICAvLyBOb3RlIHRoYXQgdGhpcyBhbHNvIHRha2VzIGNhcmUgb2YgdXBkYXRpbmcgdGhlIGV2ZW50SGFuZGxlcklkIG9uIHRoZSBleGlzdGluZyBoYW5kbGVyIG9iamVjdFxyXG4gICAgICB0aGlzLmV2ZW50SW5mb1N0b3JlLnVwZGF0ZShleGlzdGluZ0hhbmRsZXIuZXZlbnRIYW5kbGVySWQsIGV2ZW50SGFuZGxlcklkKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIEdvIHRocm91Z2ggdGhlIHdob2xlIGZsb3cgd2hpY2ggbWlnaHQgaW52b2x2ZSByZWdpc3RlcmluZyBhIG5ldyBnbG9iYWwgaGFuZGxlclxyXG4gICAgICBjb25zdCBuZXdJbmZvID0geyBlbGVtZW50LCBldmVudE5hbWUsIGV2ZW50SGFuZGxlcklkLCByZW5kZXJpbmdDb21wb25lbnRJZCB9O1xyXG4gICAgICB0aGlzLmV2ZW50SW5mb1N0b3JlLmFkZChuZXdJbmZvKTtcclxuICAgICAgaW5mb0ZvckVsZW1lbnQuc2V0SGFuZGxlcihldmVudE5hbWUsIG5ld0luZm8pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldEhhbmRsZXIoZXZlbnRIYW5kbGVySWQ6IG51bWJlcik6IEV2ZW50SGFuZGxlckluZm8ge1xyXG4gICAgcmV0dXJuIHRoaXMuZXZlbnRJbmZvU3RvcmUuZ2V0KGV2ZW50SGFuZGxlcklkKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyByZW1vdmVMaXN0ZW5lcihldmVudEhhbmRsZXJJZDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAvLyBUaGlzIG1ldGhvZCBnZXRzIGNhbGxlZCB3aGVuZXZlciB0aGUgLk5FVC1zaWRlIGNvZGUgcmVwb3J0cyB0aGF0IGEgY2VydGFpbiBldmVudCBoYW5kbGVyXHJcbiAgICAvLyBoYXMgYmVlbiBkaXNwb3NlZC4gSG93ZXZlciB3ZSB3aWxsIGFscmVhZHkgaGF2ZSBkaXNwb3NlZCB0aGUgaW5mbyBhYm91dCB0aGF0IGhhbmRsZXIgaWZcclxuICAgIC8vIHRoZSBldmVudEhhbmRsZXJJZCBmb3IgdGhlIChlbGVtZW50LGV2ZW50TmFtZSkgcGFpciB3YXMgcmVwbGFjZWQgZHVyaW5nIGRpZmYgYXBwbGljYXRpb24uXHJcbiAgICBjb25zdCBpbmZvID0gdGhpcy5ldmVudEluZm9TdG9yZS5yZW1vdmUoZXZlbnRIYW5kbGVySWQpO1xyXG4gICAgaWYgKGluZm8pIHtcclxuICAgICAgLy8gTG9va3MgbGlrZSB0aGlzIGV2ZW50IGhhbmRsZXIgd2Fzbid0IGFscmVhZHkgZGlzcG9zZWRcclxuICAgICAgLy8gUmVtb3ZlIHRoZSBhc3NvY2lhdGVkIGRhdGEgZnJvbSB0aGUgRE9NIGVsZW1lbnRcclxuICAgICAgY29uc3QgZWxlbWVudCA9IGluZm8uZWxlbWVudDtcclxuICAgICAgY29uc3QgZWxlbWVudEV2ZW50SW5mb3MgPSB0aGlzLmdldEV2ZW50SGFuZGxlckluZm9zRm9yRWxlbWVudChlbGVtZW50LCBmYWxzZSk7XHJcbiAgICAgIGlmIChlbGVtZW50RXZlbnRJbmZvcykge1xyXG4gICAgICAgIGVsZW1lbnRFdmVudEluZm9zLnJlbW92ZUhhbmRsZXIoaW5mby5ldmVudE5hbWUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcmVtb3ZlTGlzdGVuZXJzRm9yRWxlbWVudChlbGVtZW50OiBFbGVtZW50KTogdm9pZCB7XHJcbiAgICAvLyBUaGlzIG1ldGhvZCBnZXRzIGNhbGxlZCB3aGVuZXZlciB0aGUgLk5FVC1zaWRlIGNvZGUgcmVwb3J0cyB0aGF0IGEgY2VydGFpbiBlbGVtZW50XHJcbiAgICAvLyBoYXMgYmVlbiBkaXNwb3NlZC4gV2UgcmVtb3ZlIGFsbCBldmVudCBoYW5kbGVycyBmb3IgdGhhdCBlbGVtZW50LlxyXG4gICAgY29uc3QgaW5mb3NGb3JFbGVtZW50ID0gdGhpcy5nZXRFdmVudEhhbmRsZXJJbmZvc0ZvckVsZW1lbnQoZWxlbWVudCwgZmFsc2UpO1xyXG4gICAgaWYgKGluZm9zRm9yRWxlbWVudCkge1xyXG4gICAgICBmb3IgKGNvbnN0IGhhbmRsZXJJbmZvIG9mIGluZm9zRm9yRWxlbWVudC5lbnVtZXJhdGVIYW5kbGVycygpKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudEluZm9TdG9yZS5yZW1vdmUoaGFuZGxlckluZm8uZXZlbnRIYW5kbGVySWQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBkZWxldGUgZWxlbWVudFt0aGlzLmV2ZW50c0NvbGxlY3Rpb25LZXldO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIG5vdGlmeUFmdGVyQ2xpY2soY2FsbGJhY2s6IChldmVudDogTW91c2VFdmVudCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgLy8gVGhpcyBpcyBleHRyZW1lbHkgc3BlY2lhbC1jYXNlLiBJdCdzIG5lZWRlZCBzbyB0aGF0IG5hdmlnYXRpb24gbGluayBjbGljayBpbnRlcmNlcHRpb25cclxuICAgIC8vIGNhbiBiZSBzdXJlIHRvIHJ1biAqYWZ0ZXIqIG91ciBzeW50aGV0aWMgYnViYmxpbmcgcHJvY2Vzcy4gSWYgYSBuZWVkIGFyaXNlcywgd2UgY2FuXHJcbiAgICAvLyBnZW5lcmFsaXNlIHRoaXMsIGJ1dCByaWdodCBub3cgaXQncyBhIHB1cmVseSBpbnRlcm5hbCBkZXRhaWwuXHJcbiAgICB0aGlzLmFmdGVyQ2xpY2tDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XHJcbiAgICB0aGlzLmV2ZW50SW5mb1N0b3JlLmFkZEdsb2JhbExpc3RlbmVyKCdjbGljaycpOyAvLyBFbnN1cmUgd2UgYWx3YXlzIGxpc3RlbiBmb3IgdGhpc1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldFN0b3BQcm9wYWdhdGlvbihlbGVtZW50OiBFbGVtZW50LCBldmVudE5hbWU6IHN0cmluZywgdmFsdWU6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgIGNvbnN0IGluZm9Gb3JFbGVtZW50ID0gdGhpcy5nZXRFdmVudEhhbmRsZXJJbmZvc0ZvckVsZW1lbnQoZWxlbWVudCwgdHJ1ZSkhO1xyXG4gICAgY29uc3QgY3VycmVudFZhbHVlID0gaW5mb0ZvckVsZW1lbnQuc3RvcFByb3BhZ2F0aW9uKGV2ZW50TmFtZSk7XHJcbiAgICBpbmZvRm9yRWxlbWVudC5zdG9wUHJvcGFnYXRpb24oZXZlbnROYW1lLCB2YWx1ZSk7XHJcblxyXG4gICAgaWYgKCFjdXJyZW50VmFsdWUgJiYgdmFsdWUpIHtcclxuICAgICAgdGhpcy5ldmVudEluZm9TdG9yZS5hZGRHbG9iYWxMaXN0ZW5lcihldmVudE5hbWUpO1xyXG4gICAgfSBlbHNlIGlmIChjdXJyZW50VmFsdWUgJiYgIXZhbHVlKSB7XHJcbiAgICAgIHRoaXMuZXZlbnRJbmZvU3RvcmUuZGVjcmVtZW50Q291bnRCeUV2ZW50TmFtZShldmVudE5hbWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldFByZXZlbnREZWZhdWx0KGVsZW1lbnQ6IEVsZW1lbnQsIGV2ZW50TmFtZTogc3RyaW5nLCB2YWx1ZTogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgY29uc3QgaW5mb0ZvckVsZW1lbnQgPSB0aGlzLmdldEV2ZW50SGFuZGxlckluZm9zRm9yRWxlbWVudChlbGVtZW50LCB0cnVlKSE7XHJcbiAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBpbmZvRm9yRWxlbWVudC5wcmV2ZW50RGVmYXVsdChldmVudE5hbWUpO1xyXG4gICAgaW5mb0ZvckVsZW1lbnQucHJldmVudERlZmF1bHQoZXZlbnROYW1lLCB2YWx1ZSk7XHJcblxyXG4gICAgaWYgKCFjdXJyZW50VmFsdWUgJiYgdmFsdWUpIHtcclxuICAgICAgLy8gVG8gZW5zdXJlIHRoYXQgcHJldmVudERlZmF1bHQgd29ya3MgZm9yIHdoZWVsIGFuZCB0b3VjaCBldmVudHMsLFxyXG4gICAgICAvLyB3ZSBuZWVkIHRvIHJlZ2lzdGVyIGEgbGlzdGVuZXIgd2l0aCB0aGUgcGFzc2l2ZSBtb2RlIGV4cGxpY2l0bHkgZGlzYWJsZWQuXHJcbiAgICAgIC8vIE5vdGUgdGhhdCB0aGlzIGRvZXMgbm90IGNoYW5nZSBiZWhhdmlvciBmb3Igb3RoZXIgZXZlbnRzIGFzIHRob3NlXHJcbiAgICAgIC8vIHVzZSBhY3RpdmUgbW9kZSBieSBkZWZhdWx0LlxyXG4gICAgICB0aGlzLmV2ZW50SW5mb1N0b3JlLmFkZEFjdGl2ZUdsb2JhbExpc3RlbmVyKGV2ZW50TmFtZSk7XHJcbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRWYWx1ZSAmJiAhdmFsdWUpIHtcclxuICAgICAgdGhpcy5ldmVudEluZm9TdG9yZS5kZWNyZW1lbnRDb3VudEJ5RXZlbnROYW1lKGV2ZW50TmFtZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uR2xvYmFsRXZlbnQoZXZ0OiBFdmVudCkge1xyXG4gICAgaWYgKCEoZXZ0LnRhcmdldCBpbnN0YW5jZW9mIEVsZW1lbnQpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzUmVuZGVyZXJBdHRhY2hlZCh0aGlzLmJyb3dzZXJSZW5kZXJlcklkKSkge1xyXG4gICAgICAvLyB3aGVuIGNvbm5lY3Rpb24gY2xvc2VkLCBpdCB3aWxsIGRldGFjaFdlYlJlbmRlcmVySW50ZXJvcCwgc28gd2UgbmVlZCB0byBjaGVjayBpZiB0aGUgcmVuZGVyZXIgaXMgc3RpbGwgYXR0YWNoZWRcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFsd2F5cyBkaXNwYXRjaCB0byBhbnkgbGlzdGVuZXJzIGZvciB0aGUgb3JpZ2luYWwgdW5kZXJseWluZyBicm93c2VyIGV2ZW50IG5hbWVcclxuICAgIHRoaXMuZGlzcGF0Y2hHbG9iYWxFdmVudFRvQWxsRWxlbWVudHMoZXZ0LnR5cGUsIGV2dCk7XHJcblxyXG4gICAgLy8gSWYgdGhpcyBldmVudCBuYW1lIGhhcyBhbGlhc2VzLCBkaXNwYXRjaCBmb3IgdGhvc2UgbGlzdGVuZXJzIHRvb1xyXG4gICAgY29uc3QgZXZlbnROYW1lQWxpYXNlcyA9IGdldEV2ZW50TmFtZUFsaWFzZXMoZXZ0LnR5cGUpO1xyXG4gICAgZXZlbnROYW1lQWxpYXNlcyAmJiBldmVudE5hbWVBbGlhc2VzLmZvckVhY2goYWxpYXMgPT5cclxuICAgICAgdGhpcy5kaXNwYXRjaEdsb2JhbEV2ZW50VG9BbGxFbGVtZW50cyhhbGlhcywgZXZ0KSk7XHJcblxyXG4gICAgLy8gU3BlY2lhbCBjYXNlIGZvciBuYXZpZ2F0aW9uIGludGVyY2VwdGlvblxyXG4gICAgaWYgKGV2dC50eXBlID09PSAnY2xpY2snKSB7XHJcbiAgICAgIHRoaXMuYWZ0ZXJDbGlja0NhbGxiYWNrcy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKGV2dCBhcyBNb3VzZUV2ZW50KSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGRpc3BhdGNoR2xvYmFsRXZlbnRUb0FsbEVsZW1lbnRzKGV2ZW50TmFtZTogc3RyaW5nLCBicm93c2VyRXZlbnQ6IEV2ZW50KSB7XHJcbiAgICAvLyBOb3RlIHRoYXQgJ2V2ZW50TmFtZScgY2FuIGJlIGFuIGFsaWFzLiBGb3IgZXhhbXBsZSwgZXZlbnROYW1lIG1heSBiZSAnY2xpY2suc3BlY2lhbCdcclxuICAgIC8vIHdoaWxlIGJyb3dzZXJFdmVudC50eXBlIG1heSBiZSAnY2xpY2snLlxyXG5cclxuICAgIC8vIFVzZSB0aGUgZXZlbnQncyAncGF0aCcgcmF0aGVyIHRoYW4gdGhlIGNoYWluIG9mIHBhcmVudCBub2Rlcywgc2luY2UgdGhlIHBhdGggZ2l2ZXNcclxuICAgIC8vIHZpc2liaWxpdHkgaW50byBzaGFkb3cgcm9vdHMuXHJcbiAgICBjb25zdCBwYXRoID0gYnJvd3NlckV2ZW50LmNvbXBvc2VkUGF0aCgpO1xyXG5cclxuICAgIC8vIFNjYW4gdXAgdGhlIGVsZW1lbnQgaGllcmFyY2h5LCBsb29raW5nIGZvciBhbnkgbWF0Y2hpbmcgcmVnaXN0ZXJlZCBldmVudCBoYW5kbGVyc1xyXG4gICAgbGV0IGNhbmRpZGF0ZUV2ZW50VGFyZ2V0ID0gcGF0aC5zaGlmdCgpO1xyXG4gICAgbGV0IGV2ZW50QXJnczogdW5rbm93biA9IG51bGw7IC8vIFBvcHVsYXRlIGxhemlseVxyXG4gICAgbGV0IGV2ZW50QXJnc0lzUG9wdWxhdGVkID0gZmFsc2U7XHJcbiAgICBjb25zdCBldmVudElzTm9uQnViYmxpbmcgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobm9uQnViYmxpbmdFdmVudHMsIGV2ZW50TmFtZSk7XHJcbiAgICBsZXQgc3RvcFByb3BhZ2F0aW9uV2FzUmVxdWVzdGVkID0gZmFsc2U7XHJcbiAgICB3aGlsZSAoY2FuZGlkYXRlRXZlbnRUYXJnZXQpIHtcclxuICAgICAgY29uc3QgY2FuZGlkYXRlRWxlbWVudCA9IGNhbmRpZGF0ZUV2ZW50VGFyZ2V0IGFzIEVsZW1lbnQ7XHJcbiAgICAgIGNvbnN0IGhhbmRsZXJJbmZvcyA9IHRoaXMuZ2V0RXZlbnRIYW5kbGVySW5mb3NGb3JFbGVtZW50KGNhbmRpZGF0ZUVsZW1lbnQsIGZhbHNlKTtcclxuICAgICAgaWYgKGhhbmRsZXJJbmZvcykge1xyXG4gICAgICAgIGNvbnN0IGhhbmRsZXJJbmZvID0gaGFuZGxlckluZm9zLmdldEhhbmRsZXIoZXZlbnROYW1lKTtcclxuICAgICAgICBpZiAoaGFuZGxlckluZm8gJiYgIWV2ZW50SXNEaXNhYmxlZE9uRWxlbWVudChjYW5kaWRhdGVFbGVtZW50LCBicm93c2VyRXZlbnQudHlwZSkpIHtcclxuICAgICAgICAgIC8vIFdlIGFyZSBnb2luZyB0byByYWlzZSBhbiBldmVudCBmb3IgdGhpcyBlbGVtZW50LCBzbyBwcmVwYXJlIGluZm8gbmVlZGVkIGJ5IHRoZSAuTkVUIGNvZGVcclxuICAgICAgICAgIGlmICghZXZlbnRBcmdzSXNQb3B1bGF0ZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgZXZlbnRPcHRpb25zSWZSZWdpc3RlcmVkID0gZ2V0RXZlbnRUeXBlT3B0aW9ucyhldmVudE5hbWUpO1xyXG4gICAgICAgICAgICAvLyBGb3IgYmFjay1jb21wYXQsIGlmIHRoZXJlJ3Mgbm8gcmVnaXN0ZXJlZCBjcmVhdGVFdmVudEFyZ3MsIHdlIHN1cHBseSBlbXB0eSBldmVudCBhcmdzIChub3QgbnVsbCkuXHJcbiAgICAgICAgICAgIC8vIEJ1dCBpZiB0aGVyZSBpcyBhIHJlZ2lzdGVyZWQgY3JlYXRlRXZlbnRBcmdzLCBpdCBjYW4gc3VwcGx5IGFueXRoaW5nIChpbmNsdWRpbmcgbnVsbCkuXHJcbiAgICAgICAgICAgIGV2ZW50QXJncyA9IGV2ZW50T3B0aW9uc0lmUmVnaXN0ZXJlZD8uY3JlYXRlRXZlbnRBcmdzXHJcbiAgICAgICAgICAgICAgPyBldmVudE9wdGlvbnNJZlJlZ2lzdGVyZWQuY3JlYXRlRXZlbnRBcmdzKGJyb3dzZXJFdmVudClcclxuICAgICAgICAgICAgICA6IHt9O1xyXG4gICAgICAgICAgICBldmVudEFyZ3NJc1BvcHVsYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gRm9yIGNlcnRhaW4gYnVpbHQtaW4gZXZlbnRzLCBoYXZpbmcgYW55IC5ORVQgaGFuZGxlciBpbXBsaWNpdGx5IG1lYW5zIHdlIHdpbGwgcHJldmVudFxyXG4gICAgICAgICAgLy8gdGhlIGJyb3dzZXIncyBkZWZhdWx0IGJlaGF2aW9yLiBUaGlzIGhhcyB0byBiZSBiYXNlZCBvbiB0aGUgb3JpZ2luYWwgYnJvd3NlciBldmVudCB0eXBlIG5hbWUsXHJcbiAgICAgICAgICAvLyBub3QgYW55IGFsaWFzIChlLmcuLCBpZiB5b3UgY3JlYXRlIGEgY3VzdG9tICdzdWJtaXQnIHZhcmlhbnQsIGl0IHNob3VsZCBzdGlsbCBwcmV2ZW50RGVmYXVsdCkuXHJcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFsd2F5c1ByZXZlbnREZWZhdWx0RXZlbnRzLCBicm93c2VyRXZlbnQudHlwZSkpIHtcclxuICAgICAgICAgICAgYnJvd3NlckV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZGlzcGF0Y2hFdmVudCh0aGlzLmJyb3dzZXJSZW5kZXJlcklkLCB7XHJcbiAgICAgICAgICAgIGV2ZW50SGFuZGxlcklkOiBoYW5kbGVySW5mby5ldmVudEhhbmRsZXJJZCxcclxuICAgICAgICAgICAgZXZlbnROYW1lOiBldmVudE5hbWUsXHJcbiAgICAgICAgICAgIGV2ZW50RmllbGRJbmZvOiBFdmVudEZpZWxkSW5mby5mcm9tRXZlbnQoaGFuZGxlckluZm8ucmVuZGVyaW5nQ29tcG9uZW50SWQsIGJyb3dzZXJFdmVudCksXHJcbiAgICAgICAgICB9LCBldmVudEFyZ3MpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGhhbmRsZXJJbmZvcy5zdG9wUHJvcGFnYXRpb24oZXZlbnROYW1lKSkge1xyXG4gICAgICAgICAgc3RvcFByb3BhZ2F0aW9uV2FzUmVxdWVzdGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChoYW5kbGVySW5mb3MucHJldmVudERlZmF1bHQoZXZlbnROYW1lKSkge1xyXG4gICAgICAgICAgYnJvd3NlckV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjYW5kaWRhdGVFdmVudFRhcmdldCA9IChldmVudElzTm9uQnViYmxpbmcgfHwgc3RvcFByb3BhZ2F0aW9uV2FzUmVxdWVzdGVkKSA/IHVuZGVmaW5lZCA6IHBhdGguc2hpZnQoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0RXZlbnRIYW5kbGVySW5mb3NGb3JFbGVtZW50KGVsZW1lbnQ6IEVsZW1lbnQsIGNyZWF0ZUlmTmVlZGVkOiBib29sZWFuKTogRXZlbnRIYW5kbGVySW5mb3NGb3JFbGVtZW50IHwgbnVsbCB7XHJcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGVsZW1lbnQsIHRoaXMuZXZlbnRzQ29sbGVjdGlvbktleSkpIHtcclxuICAgICAgcmV0dXJuIGVsZW1lbnRbdGhpcy5ldmVudHNDb2xsZWN0aW9uS2V5XTtcclxuICAgIH0gZWxzZSBpZiAoY3JlYXRlSWZOZWVkZWQpIHtcclxuICAgICAgcmV0dXJuIChlbGVtZW50W3RoaXMuZXZlbnRzQ29sbGVjdGlvbktleV0gPSBuZXcgRXZlbnRIYW5kbGVySW5mb3NGb3JFbGVtZW50KCkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyBSZXNwb25zaWJsZSBmb3IgYWRkaW5nIGFuZCByZW1vdmluZyB0aGUgZ2xvYmFsIGxpc3RlbmVyIHdoZW4gdGhlIG51bWJlciBvZiBsaXN0ZW5lcnNcclxuLy8gZm9yIGEgZ2l2ZW4gZXZlbnQgbmFtZSBjaGFuZ2VzIGJldHdlZW4gemVybyBhbmQgbm9uemVyb1xyXG5jbGFzcyBFdmVudEluZm9TdG9yZSB7XHJcbiAgcHJpdmF0ZSBpbmZvc0J5RXZlbnRIYW5kbGVySWQ6IHsgW2V2ZW50SGFuZGxlcklkOiBudW1iZXJdOiBFdmVudEhhbmRsZXJJbmZvIH0gPSB7fTtcclxuXHJcbiAgcHJpdmF0ZSBjb3VudEJ5RXZlbnROYW1lOiB7IFtldmVudE5hbWU6IHN0cmluZ106IG51bWJlciB9ID0ge307XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZ2xvYmFsTGlzdGVuZXI6IEV2ZW50TGlzdGVuZXIpIHtcclxuICAgIGV2ZW50TmFtZUFsaWFzUmVnaXN0ZXJlZENhbGxiYWNrcy5wdXNoKHRoaXMuaGFuZGxlRXZlbnROYW1lQWxpYXNBZGRlZC5iaW5kKHRoaXMpKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhZGQoaW5mbzogRXZlbnRIYW5kbGVySW5mbykge1xyXG4gICAgaWYgKHRoaXMuaW5mb3NCeUV2ZW50SGFuZGxlcklkW2luZm8uZXZlbnRIYW5kbGVySWRdKSB7XHJcbiAgICAgIC8vIFNob3VsZCBuZXZlciBoYXBwZW4sIGJ1dCB3ZSB3YW50IHRvIGtub3cgaWYgaXQgZG9lc1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEV2ZW50ICR7aW5mby5ldmVudEhhbmRsZXJJZH0gaXMgYWxyZWFkeSB0cmFja2VkYCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5pbmZvc0J5RXZlbnRIYW5kbGVySWRbaW5mby5ldmVudEhhbmRsZXJJZF0gPSBpbmZvO1xyXG5cclxuICAgIHRoaXMuYWRkR2xvYmFsTGlzdGVuZXIoaW5mby5ldmVudE5hbWUpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldChldmVudEhhbmRsZXJJZDogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gdGhpcy5pbmZvc0J5RXZlbnRIYW5kbGVySWRbZXZlbnRIYW5kbGVySWRdO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGFkZEdsb2JhbExpc3RlbmVyKGV2ZW50TmFtZTogc3RyaW5nKSB7XHJcbiAgICAvLyBJZiB0aGlzIGV2ZW50IG5hbWUgaXMgYW4gYWxpYXMsIHVwZGF0ZSB0aGUgZ2xvYmFsIGxpc3RlbmVyIGZvciB0aGUgY29ycmVzcG9uZGluZyBicm93c2VyIGV2ZW50XHJcbiAgICBldmVudE5hbWUgPSBnZXRCcm93c2VyRXZlbnROYW1lKGV2ZW50TmFtZSk7XHJcblxyXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmNvdW50QnlFdmVudE5hbWUsIGV2ZW50TmFtZSkpIHtcclxuICAgICAgdGhpcy5jb3VudEJ5RXZlbnROYW1lW2V2ZW50TmFtZV0rKztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY291bnRCeUV2ZW50TmFtZVtldmVudE5hbWVdID0gMTtcclxuXHJcbiAgICAgIC8vIFRvIG1ha2UgZGVsZWdhdGlvbiB3b3JrIHdpdGggbm9uLWJ1YmJsaW5nIGV2ZW50cywgcmVnaXN0ZXIgYSAnY2FwdHVyZScgbGlzdGVuZXIuXHJcbiAgICAgIC8vIFdlIHByZXNlcnZlIHRoZSBub24tYnViYmxpbmcgYmVoYXZpb3IgYnkgb25seSBkaXNwYXRjaGluZyBzdWNoIGV2ZW50cyB0byB0aGUgdGFyZ2V0ZWQgZWxlbWVudC5cclxuICAgICAgY29uc3QgdXNlQ2FwdHVyZSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChub25CdWJibGluZ0V2ZW50cywgZXZlbnROYW1lKTtcclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIHRoaXMuZ2xvYmFsTGlzdGVuZXIsIHVzZUNhcHR1cmUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGFkZEFjdGl2ZUdsb2JhbExpc3RlbmVyKGV2ZW50TmFtZTogc3RyaW5nKSB7XHJcbiAgICAvLyBJZiB0aGlzIGV2ZW50IG5hbWUgaXMgYW4gYWxpYXMsIHVwZGF0ZSB0aGUgZ2xvYmFsIGxpc3RlbmVyIGZvciB0aGUgY29ycmVzcG9uZGluZyBicm93c2VyIGV2ZW50XHJcbiAgICBldmVudE5hbWUgPSBnZXRCcm93c2VyRXZlbnROYW1lKGV2ZW50TmFtZSk7XHJcblxyXG4gICAgLy8gSWYgdGhlIGxpc3RlbmVyIGZvciB0aGlzIGV2ZW50IGlzIGFscmVhZHkgcmVnaXN0ZXJlZCwgd2UgcmVjcmVhdGUgaXQgdG8gZW5zdXJlXHJcbiAgICAvLyB0aGF0IGl0IGlzIHVzaW5nIHRoZSBhY3RpdmUgbW9kZS5cclxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5jb3VudEJ5RXZlbnROYW1lLCBldmVudE5hbWUpKSB7XHJcbiAgICAgIHRoaXMuY291bnRCeUV2ZW50TmFtZVtldmVudE5hbWVdKys7XHJcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCB0aGlzLmdsb2JhbExpc3RlbmVyKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY291bnRCeUV2ZW50TmFtZVtldmVudE5hbWVdID0gMTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUbyBtYWtlIGRlbGVnYXRpb24gd29yayB3aXRoIG5vbi1idWJibGluZyBldmVudHMsIHJlZ2lzdGVyIGEgJ2NhcHR1cmUnIGxpc3RlbmVyLlxyXG4gICAgLy8gV2UgcHJlc2VydmUgdGhlIG5vbi1idWJibGluZyBiZWhhdmlvciBieSBvbmx5IGRpc3BhdGNoaW5nIHN1Y2ggZXZlbnRzIHRvIHRoZSB0YXJnZXRlZCBlbGVtZW50LlxyXG4gICAgY29uc3QgdXNlQ2FwdHVyZSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChub25CdWJibGluZ0V2ZW50cywgZXZlbnROYW1lKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCB0aGlzLmdsb2JhbExpc3RlbmVyLCB7IGNhcHR1cmU6IHVzZUNhcHR1cmUsIHBhc3NpdmU6IGZhbHNlIH0pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHVwZGF0ZShvbGRFdmVudEhhbmRsZXJJZDogbnVtYmVyLCBuZXdFdmVudEhhbmRsZXJJZDogbnVtYmVyKSB7XHJcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuaW5mb3NCeUV2ZW50SGFuZGxlcklkLCBuZXdFdmVudEhhbmRsZXJJZCkpIHtcclxuICAgICAgLy8gU2hvdWxkIG5ldmVyIGhhcHBlbiwgYnV0IHdlIHdhbnQgdG8ga25vdyBpZiBpdCBkb2VzXHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRXZlbnQgJHtuZXdFdmVudEhhbmRsZXJJZH0gaXMgYWxyZWFkeSB0cmFja2VkYCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2luY2Ugd2UncmUganVzdCB1cGRhdGluZyB0aGUgZXZlbnQgaGFuZGxlciBJRCwgdGhlcmUncyBubyBuZWVkIHRvIHVwZGF0ZSB0aGUgZ2xvYmFsIGNvdW50c1xyXG4gICAgY29uc3QgaW5mbyA9IHRoaXMuaW5mb3NCeUV2ZW50SGFuZGxlcklkW29sZEV2ZW50SGFuZGxlcklkXTtcclxuICAgIGRlbGV0ZSB0aGlzLmluZm9zQnlFdmVudEhhbmRsZXJJZFtvbGRFdmVudEhhbmRsZXJJZF07XHJcbiAgICBpbmZvLmV2ZW50SGFuZGxlcklkID0gbmV3RXZlbnRIYW5kbGVySWQ7XHJcbiAgICB0aGlzLmluZm9zQnlFdmVudEhhbmRsZXJJZFtuZXdFdmVudEhhbmRsZXJJZF0gPSBpbmZvO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHJlbW92ZShldmVudEhhbmRsZXJJZDogbnVtYmVyKTogRXZlbnRIYW5kbGVySW5mbyB7XHJcbiAgICBjb25zdCBpbmZvID0gdGhpcy5pbmZvc0J5RXZlbnRIYW5kbGVySWRbZXZlbnRIYW5kbGVySWRdO1xyXG4gICAgaWYgKGluZm8pIHtcclxuICAgICAgZGVsZXRlIHRoaXMuaW5mb3NCeUV2ZW50SGFuZGxlcklkW2V2ZW50SGFuZGxlcklkXTtcclxuXHJcbiAgICAgIC8vIElmIHRoaXMgZXZlbnQgbmFtZSBpcyBhbiBhbGlhcywgdXBkYXRlIHRoZSBnbG9iYWwgbGlzdGVuZXIgZm9yIHRoZSBjb3JyZXNwb25kaW5nIGJyb3dzZXIgZXZlbnRcclxuICAgICAgY29uc3QgZXZlbnROYW1lID0gZ2V0QnJvd3NlckV2ZW50TmFtZShpbmZvLmV2ZW50TmFtZSk7XHJcbiAgICAgIHRoaXMuZGVjcmVtZW50Q291bnRCeUV2ZW50TmFtZShldmVudE5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBpbmZvO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGRlY3JlbWVudENvdW50QnlFdmVudE5hbWUoZXZlbnROYW1lOiBzdHJpbmcpIHtcclxuICAgIGlmICgtLXRoaXMuY291bnRCeUV2ZW50TmFtZVtldmVudE5hbWVdID09PSAwKSB7XHJcbiAgICAgIGRlbGV0ZSB0aGlzLmNvdW50QnlFdmVudE5hbWVbZXZlbnROYW1lXTtcclxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIHRoaXMuZ2xvYmFsTGlzdGVuZXIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVFdmVudE5hbWVBbGlhc0FkZGVkKGFsaWFzRXZlbnROYW1lLCBicm93c2VyRXZlbnROYW1lKSB7XHJcbiAgICAvLyBJZiBhbiBldmVudCBuYW1lIGFsaWFzIGdldHMgcmVnaXN0ZXJlZCBsYXRlciwgd2UgbmVlZCB0byB1cGRhdGUgdGhlIGdsb2JhbCBsaXN0ZW5lclxyXG4gICAgLy8gcmVnaXN0cmF0aW9ucyB0byBtYXRjaC4gVGhpcyBtYWtlcyBpdCBlcXVpdmFsZW50IHRvIHRoZSBhbGlhcyBoYXZpbmcgYmVlbiByZWdpc3RlcmVkXHJcbiAgICAvLyBiZWZvcmUgdGhlIGVsZW1lbnRzIHdpdGggZXZlbnQgaGFuZGxlcnMgZ290IHJlbmRlcmVkLlxyXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmNvdW50QnlFdmVudE5hbWUsIGFsaWFzRXZlbnROYW1lKSkge1xyXG4gICAgICAvLyBEZWxldGUgb2xkXHJcbiAgICAgIGNvbnN0IGNvdW50QnlBbGlhc0V2ZW50TmFtZSA9IHRoaXMuY291bnRCeUV2ZW50TmFtZVthbGlhc0V2ZW50TmFtZV07XHJcbiAgICAgIGRlbGV0ZSB0aGlzLmNvdW50QnlFdmVudE5hbWVbYWxpYXNFdmVudE5hbWVdO1xyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGFsaWFzRXZlbnROYW1lLCB0aGlzLmdsb2JhbExpc3RlbmVyKTtcclxuXHJcbiAgICAgIC8vIEVuc3VyZSBjb3JyZXNwb25kaW5nIGNvdW50IGlzIGFkZGVkIHRvIG5ld1xyXG4gICAgICB0aGlzLmFkZEdsb2JhbExpc3RlbmVyKGJyb3dzZXJFdmVudE5hbWUpO1xyXG4gICAgICB0aGlzLmNvdW50QnlFdmVudE5hbWVbYnJvd3NlckV2ZW50TmFtZV0gKz0gY291bnRCeUFsaWFzRXZlbnROYW1lIC0gMTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIEV2ZW50SGFuZGxlckluZm9zRm9yRWxlbWVudCB7XHJcbiAgLy8gQWx0aG91Z2ggd2UgKmNvdWxkKiB0cmFjayBtdWx0aXBsZSBldmVudCBoYW5kbGVycyBwZXIgKGVsZW1lbnQsIGV2ZW50TmFtZSkgcGFpclxyXG4gIC8vIChzaW5jZSB0aGV5IGhhdmUgZGlzdGluY3QgZXZlbnRIYW5kbGVySWQgdmFsdWVzKSwgdGhlcmUncyBubyBwb2ludCBkb2luZyBzbyBiZWNhdXNlXHJcbiAgLy8gb3VyIHByb2dyYW1taW5nIG1vZGVsIGlzIHRoYXQgeW91IGRlY2xhcmUgZXZlbnQgaGFuZGxlcnMgYXMgYXR0cmlidXRlcy4gQW4gZWxlbWVudFxyXG4gIC8vIGNhbiBvbmx5IGhhdmUgb25lIGF0dHJpYnV0ZSB3aXRoIGEgZ2l2ZW4gbmFtZSwgaGVuY2Ugb25seSBvbmUgZXZlbnQgaGFuZGxlciB3aXRoXHJcbiAgLy8gdGhhdCBuYW1lIGF0IGFueSBvbmUgdGltZS5cclxuICAvLyBTbyB0byBrZWVwIHRoaW5ncyBzaW1wbGUsIG9ubHkgdHJhY2sgb25lIEV2ZW50SGFuZGxlckluZm8gcGVyIChlbGVtZW50LCBldmVudE5hbWUpXHJcbiAgcHJpdmF0ZSBoYW5kbGVyczogeyBbZXZlbnROYW1lOiBzdHJpbmddOiBFdmVudEhhbmRsZXJJbmZvIH0gPSB7fTtcclxuXHJcbiAgcHJpdmF0ZSBwcmV2ZW50RGVmYXVsdEZsYWdzOiB7IFtldmVudE5hbWU6IHN0cmluZ106IGJvb2xlYW4gfSB8IG51bGwgPSBudWxsO1xyXG5cclxuICBwcml2YXRlIHN0b3BQcm9wYWdhdGlvbkZsYWdzOiB7IFtldmVudE5hbWU6IHN0cmluZ106IGJvb2xlYW4gfSB8IG51bGwgPSBudWxsO1xyXG5cclxuICBwdWJsaWMgKmVudW1lcmF0ZUhhbmRsZXJzKCkgOiBJdGVyYWJsZUl0ZXJhdG9yPEV2ZW50SGFuZGxlckluZm8+IHtcclxuICAgIGZvciAoY29uc3QgZXZlbnROYW1lIGluIHRoaXMuaGFuZGxlcnMpIHtcclxuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmhhbmRsZXJzLCBldmVudE5hbWUpKSB7XHJcbiAgICAgICAgeWllbGQgdGhpcy5oYW5kbGVyc1tldmVudE5hbWVdO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0SGFuZGxlcihldmVudE5hbWU6IHN0cmluZyk6IEV2ZW50SGFuZGxlckluZm8gfCBudWxsIHtcclxuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5oYW5kbGVycywgZXZlbnROYW1lKSA/IHRoaXMuaGFuZGxlcnNbZXZlbnROYW1lXSA6IG51bGw7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0SGFuZGxlcihldmVudE5hbWU6IHN0cmluZywgaGFuZGxlcjogRXZlbnRIYW5kbGVySW5mbykge1xyXG4gICAgdGhpcy5oYW5kbGVyc1tldmVudE5hbWVdID0gaGFuZGxlcjtcclxuICB9XHJcblxyXG4gIHB1YmxpYyByZW1vdmVIYW5kbGVyKGV2ZW50TmFtZTogc3RyaW5nKSB7XHJcbiAgICBkZWxldGUgdGhpcy5oYW5kbGVyc1tldmVudE5hbWVdO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHByZXZlbnREZWZhdWx0KGV2ZW50TmFtZTogc3RyaW5nLCBzZXRWYWx1ZT86IGJvb2xlYW4pOiBib29sZWFuIHtcclxuICAgIGlmIChzZXRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHRoaXMucHJldmVudERlZmF1bHRGbGFncyA9IHRoaXMucHJldmVudERlZmF1bHRGbGFncyB8fCB7fTtcclxuICAgICAgdGhpcy5wcmV2ZW50RGVmYXVsdEZsYWdzW2V2ZW50TmFtZV0gPSBzZXRWYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5wcmV2ZW50RGVmYXVsdEZsYWdzID8gdGhpcy5wcmV2ZW50RGVmYXVsdEZsYWdzW2V2ZW50TmFtZV0gOiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzdG9wUHJvcGFnYXRpb24oZXZlbnROYW1lOiBzdHJpbmcsIHNldFZhbHVlPzogYm9vbGVhbik6IGJvb2xlYW4ge1xyXG4gICAgaWYgKHNldFZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgdGhpcy5zdG9wUHJvcGFnYXRpb25GbGFncyA9IHRoaXMuc3RvcFByb3BhZ2F0aW9uRmxhZ3MgfHwge307XHJcbiAgICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uRmxhZ3NbZXZlbnROYW1lXSA9IHNldFZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLnN0b3BQcm9wYWdhdGlvbkZsYWdzID8gdGhpcy5zdG9wUHJvcGFnYXRpb25GbGFnc1tldmVudE5hbWVdIDogZmFsc2U7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEV2ZW50RGVzY3JpcHRvciB7XHJcbiAgZXZlbnRIYW5kbGVySWQ6IG51bWJlcjtcclxuICBldmVudE5hbWU6IHN0cmluZztcclxuICBldmVudEZpZWxkSW5mbzogRXZlbnRGaWVsZEluZm8gfCBudWxsO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRXZlbnRIYW5kbGVySW5mbyB7XHJcbiAgZWxlbWVudDogRWxlbWVudDtcclxuICBldmVudE5hbWU6IHN0cmluZztcclxuICBldmVudEhhbmRsZXJJZDogbnVtYmVyO1xyXG5cclxuICAvLyBUaGUgY29tcG9uZW50IHdob3NlIHRyZWUgaW5jbHVkZXMgdGhlIGV2ZW50IGhhbmRsZXIgYXR0cmlidXRlIGZyYW1lLCAqbm90KiBuZWNlc3NhcmlseSB0aGVcclxuICAvLyBzYW1lIGNvbXBvbmVudCB0aGF0IHdpbGwgYmUgcmUtcmVuZGVyZWQgYWZ0ZXIgdGhlIGV2ZW50IGlzIGhhbmRsZWQgKHNpbmNlIHdlIHJlLXJlbmRlciB0aGVcclxuICAvLyBjb21wb25lbnQgdGhhdCBzdXBwbGllZCB0aGUgZGVsZWdhdGUsIG5vdCB0aGUgb25lIHRoYXQgcmVuZGVyZWQgdGhlIGV2ZW50IGhhbmRsZXIgZnJhbWUpXHJcbiAgcmVuZGVyaW5nQ29tcG9uZW50SWQ6IG51bWJlcjtcclxufVxyXG5cclxuZnVuY3Rpb24gdG9Mb29rdXAoaXRlbXM6IHN0cmluZ1tdKTogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0ge1xyXG4gIGNvbnN0IHJlc3VsdCA9IHt9O1xyXG4gIGl0ZW1zLmZvckVhY2godmFsdWUgPT4ge1xyXG4gICAgcmVzdWx0W3ZhbHVlXSA9IHRydWU7XHJcbiAgfSk7XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZnVuY3Rpb24gZXZlbnRJc0Rpc2FibGVkT25FbGVtZW50KGVsZW1lbnQ6IEVsZW1lbnQsIHJhd0Jyb3dzZXJFdmVudE5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gIC8vIFdlIHdhbnQgdG8gcmVwbGljYXRlIHRoZSBub3JtYWwgRE9NIGV2ZW50IGJlaGF2aW9yIHRoYXQsIGZvciAnaW50ZXJhY3RpdmUnIGVsZW1lbnRzXHJcbiAgLy8gd2l0aCBhICdkaXNhYmxlZCcgYXR0cmlidXRlLCBjZXJ0YWluIG1vdXNlIGV2ZW50cyBhcmUgc3VwcHJlc3NlZFxyXG4gIHJldHVybiAoZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxCdXR0b25FbGVtZW50IHx8IGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50IHx8IGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MVGV4dEFyZWFFbGVtZW50IHx8IGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MU2VsZWN0RWxlbWVudClcclxuICAgICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkaXNhYmxlYWJsZUV2ZW50TmFtZXMsIHJhd0Jyb3dzZXJFdmVudE5hbWUpXHJcbiAgICAmJiBlbGVtZW50LmRpc2FibGVkO1xyXG59XHJcbiIsIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cclxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuXHJcbmltcG9ydCB7IENvbXBvbmVudERlc2NyaXB0b3IgfSBmcm9tICcuLi9TZXJ2aWNlcy9Db21wb25lbnREZXNjcmlwdG9yRGlzY292ZXJ5JztcclxuXHJcbi8qXHJcbiAgQSBMb2dpY2FsRWxlbWVudCBwbGF5cyB0aGUgc2FtZSByb2xlIGFzIGFuIEVsZW1lbnQgaW5zdGFuY2UgZnJvbSB0aGUgcG9pbnQgb2YgdmlldyBvZiB0aGVcclxuICBBUEkgY29uc3VtZXIuIEluc2VydGluZyBhbmQgcmVtb3ZpbmcgbG9naWNhbCBlbGVtZW50cyB1cGRhdGVzIHRoZSBicm93c2VyIERPTSBqdXN0IHRoZSBzYW1lLlxyXG5cclxuICBUaGUgZGlmZmVyZW5jZSBpcyB0aGF0LCB1bmxpa2UgcmVndWxhciBET00gbXV0YXRpb24gQVBJcywgdGhlIExvZ2ljYWxFbGVtZW50IEFQSXMgZG9uJ3QgdXNlXHJcbiAgdGhlIHVuZGVybHlpbmcgRE9NIHN0cnVjdHVyZSBhcyB0aGUgZGF0YSBzdG9yYWdlIGZvciB0aGUgZWxlbWVudCBoaWVyYXJjaHkuIEluc3RlYWQsIHRoZVxyXG4gIExvZ2ljYWxFbGVtZW50IEFQSXMgdGFrZSBjYXJlIG9mIHRyYWNraW5nIGhpZXJhcmNoaWNhbCByZWxhdGlvbnNoaXBzIHNlcGFyYXRlbHkuIFRoZSBwb2ludFxyXG4gIG9mIHRoaXMgaXMgdG8gcGVybWl0IGEgbG9naWNhbCB0cmVlIHN0cnVjdHVyZSBpbiB3aGljaCBwYXJlbnQvY2hpbGQgcmVsYXRpb25zaGlwcyBkb24ndFxyXG4gIGhhdmUgdG8gYmUgbWF0ZXJpYWxpemVkIGluIHRlcm1zIG9mIERPTSBlbGVtZW50IHBhcmVudC9jaGlsZCByZWxhdGlvbnNoaXBzLiBBbmQgdGhlIHJlYXNvblxyXG4gIHdoeSB3ZSB3YW50IHRoYXQgaXMgc28gdGhhdCBoaWVyYXJjaGllcyBvZiBSYXpvciBjb21wb25lbnRzIGNhbiBiZSB0cmFja2VkIGV2ZW4gd2hlbiB0aG9zZVxyXG4gIGNvbXBvbmVudHMnIHJlbmRlciBvdXRwdXQgbmVlZCBub3QgYmUgYSBzaW5nbGUgbGl0ZXJhbCBET00gZWxlbWVudC5cclxuXHJcbiAgQ29uc3VtZXJzIG9mIHRoZSBBUEkgZG9uJ3QgbmVlZCB0byBrbm93IGFib3V0IHRoZSBpbXBsZW1lbnRhdGlvbiwgYnV0IGhvdyBpdCdzIGRvbmUgaXM6XHJcbiAgLSBFYWNoIExvZ2ljYWxFbGVtZW50IGlzIG1hdGVyaWFsaXplZCBpbiB0aGUgRE9NIGFzIGVpdGhlcjpcclxuICAgIC0gQSBOb2RlIGluc3RhbmNlLCBmb3IgYWN0dWFsIE5vZGUgaW5zdGFuY2VzIGluc2VydGVkIHVzaW5nICdpbnNlcnRMb2dpY2FsQ2hpbGQnIG9yXHJcbiAgICAgIGZvciBFbGVtZW50IGluc3RhbmNlcyBwcm9tb3RlZCB0byBMb2dpY2FsRWxlbWVudCB2aWEgJ3RvTG9naWNhbEVsZW1lbnQnXHJcbiAgICAtIEEgQ29tbWVudCBpbnN0YW5jZSwgZm9yICdsb2dpY2FsIGNvbnRhaW5lcicgaW5zdGFuY2VzIGluc2VydGVkIHVzaW5nICdjcmVhdGVBbmRJbnNlcnRMb2dpY2FsQ29udGFpbmVyJ1xyXG4gIC0gVGhlbiwgb24gdGhhdCBpbnN0YW5jZSAoaS5lLiwgdGhlIE5vZGUgb3IgQ29tbWVudCksIHdlIHN0b3JlIGFuIGFycmF5IG9mICdsb2dpY2FsIGNoaWxkcmVuJ1xyXG4gICAgaW5zdGFuY2VzLCBlLmcuLFxyXG4gICAgICBbZmlyc3RDaGlsZCwgc2Vjb25kQ2hpbGQsIHRoaXJkQ2hpbGQsIC4uLl1cclxuICAgIC4uLiBwbHVzIHdlIHN0b3JlIGEgcmVmZXJlbmNlIHRvIHRoZSAnbG9naWNhbCBwYXJlbnQnIChpZiBhbnkpXHJcbiAgLSBUaGUgJ2xvZ2ljYWwgY2hpbGRyZW4nIGFycmF5IG1lYW5zIHdlIGNhbiBsb29rIHVwIGluIE8oMSk6XHJcbiAgICAtIFRoZSBudW1iZXIgb2YgbG9naWNhbCBjaGlsZHJlbiAobm90IGN1cnJlbnRseSBpbXBsZW1lbnRlZCBiZWNhdXNlIG5vdCByZXF1aXJlZCwgYnV0IHRyaXZpYWwpXHJcbiAgICAtIFRoZSBsb2dpY2FsIGNoaWxkIGF0IGFueSBnaXZlbiBpbmRleFxyXG4gIC0gV2hlbmV2ZXIgYSBsb2dpY2FsIGNoaWxkIGlzIGFkZGVkIG9yIHJlbW92ZWQsIHdlIHVwZGF0ZSB0aGUgcGFyZW50J3MgYXJyYXkgb2YgbG9naWNhbCBjaGlsZHJlblxyXG4qL1xyXG5cclxuY29uc3QgbG9naWNhbENoaWxkcmVuUHJvcG5hbWUgPSBTeW1ib2woKTtcclxuY29uc3QgbG9naWNhbFBhcmVudFByb3BuYW1lID0gU3ltYm9sKCk7XHJcbmNvbnN0IGxvZ2ljYWxSb290RGVzY3JpcHRvclByb3BuYW1lID0gU3ltYm9sKCk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdG9Mb2dpY2FsUm9vdENvbW1lbnRFbGVtZW50KGRlc2NyaXB0b3I6IENvbXBvbmVudERlc2NyaXB0b3IpOiBMb2dpY2FsRWxlbWVudCB7XHJcbiAgLy8gTm93IHRoYXQgd2Ugc3VwcG9ydCBzdGFydC9lbmQgY29tbWVudHMgYXMgY29tcG9uZW50IGRlbGltaXRlcnMgd2UgYXJlIGdvaW5nIHRvIGJlIHNldHRpbmcgdXBcclxuICAvLyBhZGRpbmcgdGhlIGNvbXBvbmVudHMgcmVuZGVyZWQgb3V0cHV0IGFzIHNpYmxpbmdzIG9mIHRoZSBzdGFydC9lbmQgdGFncyAoYmV0d2VlbikuXHJcbiAgLy8gRm9yIHRoYXQgdG8gd29yaywgd2UgbmVlZCB0byBhcHByb3ByaWF0ZWx5IGNvbmZpZ3VyZSB0aGUgcGFyZW50IGVsZW1lbnQgdG8gYmUgYSBsb2dpY2FsIGVsZW1lbnRcclxuICAvLyB3aXRoIGFsbCB0aGVpciBjaGlsZHJlbiBiZWluZyB0aGUgY2hpbGQgZWxlbWVudHMuXHJcbiAgLy8gRm9yIGV4YW1wbGUsIGltYWdpbmUgeW91IGhhdmVcclxuICAvLyA8YXBwPlxyXG4gIC8vIDxkaXY+PHA+U3RhdGljIGNvbnRlbnQ8L3A+PC9kaXY+XHJcbiAgLy8gPCEtLSBzdGFydCBjb21wb25lbnRcclxuICAvLyA8IS0tIGVuZCBjb21wb25lbnRcclxuICAvLyA8Zm9vdGVyPlNvbWUgb3RoZXIgY29udGVudDwvZm9vdGVyPlxyXG4gIC8vIDxhcHA+XHJcbiAgLy8gV2Ugd2FudCB0aGUgcGFyZW50IGVsZW1lbnQgdG8gYmUgc29tZXRoaW5nIGxpa2VcclxuICAvLyAqYXBwXHJcbiAgLy8gfC0gKmRpdlxyXG4gIC8vIHwtICpjb21wb25lbnRcclxuICAvLyB8LSAqZm9vdGVyXHJcbiAgY29uc3QgeyBzdGFydCwgZW5kIH0gPSBkZXNjcmlwdG9yO1xyXG4gIGNvbnN0IGV4aXN0aW5nRGVzY3JpcHRvciA9IHN0YXJ0W2xvZ2ljYWxSb290RGVzY3JpcHRvclByb3BuYW1lXTtcclxuICBpZiAoZXhpc3RpbmdEZXNjcmlwdG9yKSB7XHJcbiAgICBpZiAoZXhpc3RpbmdEZXNjcmlwdG9yICE9PSBkZXNjcmlwdG9yKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHN0YXJ0IGNvbXBvbmVudCBjb21tZW50IHdhcyBhbHJlYWR5IGFzc29jaWF0ZWQgd2l0aCBhbm90aGVyIGNvbXBvbmVudCBkZXNjcmlwdG9yLicpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHN0YXJ0IGFzIHVua25vd24gYXMgTG9naWNhbEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBjb25zdCBwYXJlbnQgPSBzdGFydC5wYXJlbnROb2RlO1xyXG4gIGlmICghcGFyZW50KSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENvbW1lbnQgbm90IGNvbm5lY3RlZCB0byB0aGUgRE9NICR7c3RhcnQudGV4dENvbnRlbnR9YCk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBwYXJlbnRMb2dpY2FsRWxlbWVudCA9IHRvTG9naWNhbEVsZW1lbnQocGFyZW50LCAvKiBhbGxvdyBleGlzdGluZyBjb250ZW50cyAqLyB0cnVlKTtcclxuICBjb25zdCBjaGlsZHJlbiA9IGdldExvZ2ljYWxDaGlsZHJlbkFycmF5KHBhcmVudExvZ2ljYWxFbGVtZW50KTtcclxuXHJcbiAgc3RhcnRbbG9naWNhbFBhcmVudFByb3BuYW1lXSA9IHBhcmVudExvZ2ljYWxFbGVtZW50O1xyXG4gIHN0YXJ0W2xvZ2ljYWxSb290RGVzY3JpcHRvclByb3BuYW1lXSA9IGRlc2NyaXB0b3I7XHJcbiAgY29uc3Qgc3RhcnRMb2dpY2FsRWxlbWVudCA9IHRvTG9naWNhbEVsZW1lbnQoc3RhcnQpO1xyXG5cclxuICBpZiAoZW5kKSB7XHJcbiAgICAvLyBXZSBuZWVkIHRvIG1ha2UgZWFjaCBlbGVtZW50IGJldHdlZW4gdGhlIHN0YXJ0IGFuZCBlbmQgY29tbWVudHMgYSBsb2dpY2FsIGNoaWxkXHJcbiAgICAvLyBvZiB0aGUgc3RhcnQgbm9kZS5cclxuICAgIGNvbnN0IHJvb3RDb21tZW50Q2hpbGRyZW4gPSBnZXRMb2dpY2FsQ2hpbGRyZW5BcnJheShzdGFydExvZ2ljYWxFbGVtZW50KTtcclxuICAgIGNvbnN0IHN0YXJ0TmV4dENoaWxkSW5kZXggPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGNoaWxkcmVuLCBzdGFydExvZ2ljYWxFbGVtZW50KSArIDE7XHJcbiAgICBsZXQgbGFzdE1vdmVkQ2hpbGQ6IExvZ2ljYWxFbGVtZW50IHwgbnVsbCA9IG51bGw7XHJcblxyXG4gICAgd2hpbGUgKGxhc3RNb3ZlZENoaWxkICE9PSBlbmQgYXMgdW5rbm93biBhcyBMb2dpY2FsRWxlbWVudCkge1xyXG4gICAgICBjb25zdCBjaGlsZFRvTW92ZSA9IGNoaWxkcmVuLnNwbGljZShzdGFydE5leHRDaGlsZEluZGV4LCAxKVswXTtcclxuICAgICAgaWYgKCFjaGlsZFRvTW92ZSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGZpbmQgdGhlIGVuZCBjb21wb25lbnQgY29tbWVudCBpbiB0aGUgcGFyZW50IGxvZ2ljYWwgbm9kZSBsaXN0Jyk7XHJcbiAgICAgIH1cclxuICAgICAgY2hpbGRUb01vdmVbbG9naWNhbFBhcmVudFByb3BuYW1lXSA9IHN0YXJ0O1xyXG4gICAgICByb290Q29tbWVudENoaWxkcmVuLnB1c2goY2hpbGRUb01vdmUpO1xyXG4gICAgICBsYXN0TW92ZWRDaGlsZCA9IGNoaWxkVG9Nb3ZlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHN0YXJ0TG9naWNhbEVsZW1lbnQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0b0xvZ2ljYWxFbGVtZW50KGVsZW1lbnQ6IE5vZGUsIGFsbG93RXhpc3RpbmdDb250ZW50cz86IGJvb2xlYW4pOiBMb2dpY2FsRWxlbWVudCB7XHJcbiAgaWYgKGxvZ2ljYWxDaGlsZHJlblByb3BuYW1lIGluIGVsZW1lbnQpIHsgLy8gSWYgaXQncyBhbHJlYWR5IGEgbG9naWNhbCBlbGVtZW50LCBsZWF2ZSBpdCBhbG9uZVxyXG4gICAgcmV0dXJuIGVsZW1lbnQgYXMgdW5rbm93biBhcyBMb2dpY2FsRWxlbWVudDtcclxuICB9XHJcblxyXG4gIGNvbnN0IGNoaWxkcmVuQXJyYXk6IExvZ2ljYWxFbGVtZW50W10gPSBbXTtcclxuXHJcbiAgaWYgKGVsZW1lbnQuY2hpbGROb2Rlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAvLyBOb3JtYWxseSBpdCdzIGdvb2QgdG8gYXNzZXJ0IHRoYXQgdGhlIGVsZW1lbnQgaGFzIHN0YXJ0ZWQgZW1wdHksIGJlY2F1c2UgdGhhdCdzIHRoZSB1c3VhbFxyXG4gICAgLy8gc2l0dWF0aW9uIGFuZCB3ZSBwcm9iYWJseSBoYXZlIGEgYnVnIGlmIGl0J3Mgbm90LiBCdXQgZm9yIHRoZSBlbGVtZW50cyB0aGF0IGNvbnRhaW4gcHJlcmVuZGVyZWRcclxuICAgIC8vIHJvb3QgY29tcG9uZW50cywgd2Ugd2FudCB0byBsZXQgdGhlbSBrZWVwIHRoZWlyIGNvbnRlbnQgdW50aWwgd2UgcmVwbGFjZSBpdC5cclxuICAgIGlmICghYWxsb3dFeGlzdGluZ0NvbnRlbnRzKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignTmV3IGxvZ2ljYWwgZWxlbWVudHMgbXVzdCBzdGFydCBlbXB0eSwgb3IgYWxsb3dFeGlzdGluZ0NvbnRlbnRzIG11c3QgYmUgdHJ1ZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKGNoaWxkID0+IHtcclxuICAgICAgY29uc3QgY2hpbGRMb2dpY2FsRWxlbWVudCA9IHRvTG9naWNhbEVsZW1lbnQoY2hpbGQsIC8qIGFsbG93RXhpc3RpbmdDb250ZW50cyAqLyB0cnVlKTtcclxuICAgICAgY2hpbGRMb2dpY2FsRWxlbWVudFtsb2dpY2FsUGFyZW50UHJvcG5hbWVdID0gZWxlbWVudDtcclxuICAgICAgY2hpbGRyZW5BcnJheS5wdXNoKGNoaWxkTG9naWNhbEVsZW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlbGVtZW50W2xvZ2ljYWxDaGlsZHJlblByb3BuYW1lXSA9IGNoaWxkcmVuQXJyYXk7XHJcbiAgcmV0dXJuIGVsZW1lbnQgYXMgdW5rbm93biBhcyBMb2dpY2FsRWxlbWVudDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVtcHR5TG9naWNhbEVsZW1lbnQoZWxlbWVudDogTG9naWNhbEVsZW1lbnQpOiB2b2lkIHtcclxuICBjb25zdCBjaGlsZHJlbkFycmF5ID0gZ2V0TG9naWNhbENoaWxkcmVuQXJyYXkoZWxlbWVudCk7XHJcbiAgd2hpbGUgKGNoaWxkcmVuQXJyYXkubGVuZ3RoKSB7XHJcbiAgICByZW1vdmVMb2dpY2FsQ2hpbGQoZWxlbWVudCwgMCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQW5kSW5zZXJ0TG9naWNhbENvbnRhaW5lcihwYXJlbnQ6IExvZ2ljYWxFbGVtZW50LCBjaGlsZEluZGV4OiBudW1iZXIpOiBMb2dpY2FsRWxlbWVudCB7XHJcbiAgY29uc3QgY29udGFpbmVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJyEnKTtcclxuICBpbnNlcnRMb2dpY2FsQ2hpbGQoY29udGFpbmVyRWxlbWVudCwgcGFyZW50LCBjaGlsZEluZGV4KTtcclxuICByZXR1cm4gY29udGFpbmVyRWxlbWVudCBhcyB1bmtub3duIGFzIExvZ2ljYWxFbGVtZW50O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0TG9naWNhbENoaWxkQmVmb3JlKGNoaWxkOiBOb2RlLCBwYXJlbnQ6IExvZ2ljYWxFbGVtZW50LCBiZWZvcmU6IExvZ2ljYWxFbGVtZW50IHwgbnVsbCk6IHZvaWQge1xyXG4gIGNvbnN0IGNoaWxkcmVuQXJyYXkgPSBnZXRMb2dpY2FsQ2hpbGRyZW5BcnJheShwYXJlbnQpO1xyXG4gIGxldCBjaGlsZEluZGV4OiBudW1iZXI7XHJcbiAgaWYgKGJlZm9yZSkge1xyXG4gICAgY2hpbGRJbmRleCA9IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoY2hpbGRyZW5BcnJheSwgYmVmb3JlKTtcclxuICAgIGlmIChjaGlsZEluZGV4IDwgMCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBmaW5kIGxvZ2ljYWwgZWxlbWVudCBpbiB0aGUgcGFyZW50IGxvZ2ljYWwgbm9kZSBsaXN0Jyk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGNoaWxkSW5kZXggPSBjaGlsZHJlbkFycmF5Lmxlbmd0aDtcclxuICB9XHJcbiAgaW5zZXJ0TG9naWNhbENoaWxkKGNoaWxkLCBwYXJlbnQsIGNoaWxkSW5kZXgpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0TG9naWNhbENoaWxkKGNoaWxkOiBOb2RlLCBwYXJlbnQ6IExvZ2ljYWxFbGVtZW50LCBjaGlsZEluZGV4OiBudW1iZXIpOiB2b2lkIHtcclxuICBjb25zdCBjaGlsZEFzTG9naWNhbEVsZW1lbnQgPSBjaGlsZCBhcyB1bmtub3duIGFzIExvZ2ljYWxFbGVtZW50O1xyXG5cclxuICAvLyBJZiB0aGUgY2hpbGQgaXMgYSBjb21wb25lbnQgY29tbWVudCB3aXRoIGxvZ2ljYWwgY2hpbGRyZW4sIGl0cyBjaGlsZHJlblxyXG4gIC8vIG5lZWQgdG8gYmUgaW5zZXJ0ZWQgaW50byB0aGUgcGFyZW50IG5vZGVcclxuICBsZXQgbm9kZVRvSW5zZXJ0ID0gY2hpbGQ7XHJcbiAgaWYgKGNoaWxkIGluc3RhbmNlb2YgQ29tbWVudCkge1xyXG4gICAgY29uc3QgZXhpc3RpbmdHcmFuY2hpbGRyZW4gPSBnZXRMb2dpY2FsQ2hpbGRyZW5BcnJheShjaGlsZEFzTG9naWNhbEVsZW1lbnQpO1xyXG4gICAgaWYgKGV4aXN0aW5nR3JhbmNoaWxkcmVuPy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbnN0IGxhc3ROb2RlVG9JbnNlcnQgPSBmaW5kTGFzdERvbU5vZGVJblJhbmdlKGNoaWxkQXNMb2dpY2FsRWxlbWVudCk7XHJcbiAgICAgIGNvbnN0IHJhbmdlID0gbmV3IFJhbmdlKCk7XHJcbiAgICAgIHJhbmdlLnNldFN0YXJ0QmVmb3JlKGNoaWxkKTtcclxuICAgICAgcmFuZ2Uuc2V0RW5kQWZ0ZXIobGFzdE5vZGVUb0luc2VydCk7XHJcbiAgICAgIG5vZGVUb0luc2VydCA9IHJhbmdlLmV4dHJhY3RDb250ZW50cygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gSWYgdGhlIG5vZGUgd2UncmUgaW5zZXJ0aW5nIGFscmVhZHkgaGFzIGEgbG9naWNhbCBwYXJlbnQsXHJcbiAgLy8gcmVtb3ZlIGl0IGZyb20gaXRzIHNpYmxpbmcgYXJyYXlcclxuICBjb25zdCBleGlzdGluZ0xvZ2ljYWxQYXJlbnQgPSBnZXRMb2dpY2FsUGFyZW50KGNoaWxkQXNMb2dpY2FsRWxlbWVudCk7XHJcbiAgaWYgKGV4aXN0aW5nTG9naWNhbFBhcmVudCkge1xyXG4gICAgY29uc3QgZXhpc3RpbmdTaWJsaW5nQXJyYXkgPSBnZXRMb2dpY2FsQ2hpbGRyZW5BcnJheShleGlzdGluZ0xvZ2ljYWxQYXJlbnQpO1xyXG4gICAgY29uc3QgZXhpc3RpbmdDaGlsZEluZGV4ID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChleGlzdGluZ1NpYmxpbmdBcnJheSwgY2hpbGRBc0xvZ2ljYWxFbGVtZW50KTtcclxuICAgIGV4aXN0aW5nU2libGluZ0FycmF5LnNwbGljZShleGlzdGluZ0NoaWxkSW5kZXgsIDEpO1xyXG4gICAgZGVsZXRlIGNoaWxkQXNMb2dpY2FsRWxlbWVudFtsb2dpY2FsUGFyZW50UHJvcG5hbWVdO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgbmV3U2libGluZ3MgPSBnZXRMb2dpY2FsQ2hpbGRyZW5BcnJheShwYXJlbnQpO1xyXG4gIGlmIChjaGlsZEluZGV4IDwgbmV3U2libGluZ3MubGVuZ3RoKSB7XHJcbiAgICAvLyBJbnNlcnRcclxuICAgIGNvbnN0IG5leHRTaWJsaW5nID0gbmV3U2libGluZ3NbY2hpbGRJbmRleF0gYXMgYW55IGFzIE5vZGU7XHJcbiAgICBuZXh0U2libGluZy5wYXJlbnROb2RlIS5pbnNlcnRCZWZvcmUobm9kZVRvSW5zZXJ0LCBuZXh0U2libGluZyk7XHJcbiAgICBuZXdTaWJsaW5ncy5zcGxpY2UoY2hpbGRJbmRleCwgMCwgY2hpbGRBc0xvZ2ljYWxFbGVtZW50KTtcclxuICB9IGVsc2Uge1xyXG4gICAgLy8gQXBwZW5kXHJcbiAgICBhcHBlbmREb21Ob2RlKG5vZGVUb0luc2VydCwgcGFyZW50KTtcclxuICAgIG5ld1NpYmxpbmdzLnB1c2goY2hpbGRBc0xvZ2ljYWxFbGVtZW50KTtcclxuICB9XHJcblxyXG4gIGNoaWxkQXNMb2dpY2FsRWxlbWVudFtsb2dpY2FsUGFyZW50UHJvcG5hbWVdID0gcGFyZW50O1xyXG4gIGlmICghKGxvZ2ljYWxDaGlsZHJlblByb3BuYW1lIGluIGNoaWxkQXNMb2dpY2FsRWxlbWVudCkpIHtcclxuICAgIGNoaWxkQXNMb2dpY2FsRWxlbWVudFtsb2dpY2FsQ2hpbGRyZW5Qcm9wbmFtZV0gPSBbXTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVMb2dpY2FsQ2hpbGQocGFyZW50OiBMb2dpY2FsRWxlbWVudCwgY2hpbGRJbmRleDogbnVtYmVyKTogdm9pZCB7XHJcbiAgY29uc3QgY2hpbGRyZW5BcnJheSA9IGdldExvZ2ljYWxDaGlsZHJlbkFycmF5KHBhcmVudCk7XHJcbiAgY29uc3QgY2hpbGRUb1JlbW92ZSA9IGNoaWxkcmVuQXJyYXkuc3BsaWNlKGNoaWxkSW5kZXgsIDEpWzBdO1xyXG5cclxuICAvLyBJZiBpdCdzIGEgbG9naWNhbCBjb250YWluZXIsIGFsc28gcmVtb3ZlIGl0cyBkZXNjZW5kYW50c1xyXG4gIGlmIChjaGlsZFRvUmVtb3ZlIGluc3RhbmNlb2YgQ29tbWVudCkge1xyXG4gICAgY29uc3QgZ3JhbmRjaGlsZHJlbkFycmF5ID0gZ2V0TG9naWNhbENoaWxkcmVuQXJyYXkoY2hpbGRUb1JlbW92ZSk7XHJcbiAgICBpZiAoZ3JhbmRjaGlsZHJlbkFycmF5KSB7XHJcbiAgICAgIHdoaWxlIChncmFuZGNoaWxkcmVuQXJyYXkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHJlbW92ZUxvZ2ljYWxDaGlsZChjaGlsZFRvUmVtb3ZlLCAwKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gRmluYWxseSwgcmVtb3ZlIHRoZSBub2RlIGl0c2VsZlxyXG4gIGNvbnN0IGRvbU5vZGVUb1JlbW92ZSA9IGNoaWxkVG9SZW1vdmUgYXMgYW55IGFzIE5vZGU7XHJcbiAgZG9tTm9kZVRvUmVtb3ZlLnBhcmVudE5vZGUhLnJlbW92ZUNoaWxkKGRvbU5vZGVUb1JlbW92ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2dpY2FsUGFyZW50KGVsZW1lbnQ6IExvZ2ljYWxFbGVtZW50KTogTG9naWNhbEVsZW1lbnQgfCBudWxsIHtcclxuICByZXR1cm4gKGVsZW1lbnRbbG9naWNhbFBhcmVudFByb3BuYW1lXSBhcyBMb2dpY2FsRWxlbWVudCkgfHwgbnVsbDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldExvZ2ljYWxDaGlsZChwYXJlbnQ6IExvZ2ljYWxFbGVtZW50LCBjaGlsZEluZGV4OiBudW1iZXIpOiBMb2dpY2FsRWxlbWVudCB7XHJcbiAgcmV0dXJuIGdldExvZ2ljYWxDaGlsZHJlbkFycmF5KHBhcmVudClbY2hpbGRJbmRleF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2dpY2FsUm9vdERlc2NyaXB0b3IoZWxlbWVudDogTG9naWNhbEVsZW1lbnQpOiBDb21wb25lbnREZXNjcmlwdG9yIHtcclxuICByZXR1cm4gZWxlbWVudFtsb2dpY2FsUm9vdERlc2NyaXB0b3JQcm9wbmFtZV0gfHwgbnVsbDtcclxufVxyXG5cclxuLy8gU1ZHIGVsZW1lbnRzIHN1cHBvcnQgYGZvcmVpZ25PYmplY3RgIGNoaWxkcmVuIHRoYXQgY2FuIGhvbGQgYXJiaXRyYXJ5IEhUTUwuXHJcbi8vIEZvciB0aGVzZSBzY2VuYXJpb3MsIHRoZSBwYXJlbnQgU1ZHIGFuZCBgZm9yZWlnbk9iamVjdGAgZWxlbWVudHMgc2hvdWxkXHJcbi8vIGJlIHJlbmRlcmVkIHVuZGVyIHRoZSBTVkcgbmFtZXNwYWNlLCB3aGlsZSB0aGUgSFRNTCBjb250ZW50IHNob3VsZCBiZSByZW5kZXJlZFxyXG4vLyB1bmRlciB0aGUgWEhUTUwgbmFtZXNwYWNlLiBJZiB0aGUgY29ycmVjdCBuYW1lc3BhY2VzIGFyZSBub3QgcHJvdmlkZWQsIG1vc3RcclxuLy8gYnJvd3NlcnMgd2lsbCBmYWlsIHRvIHJlbmRlciB0aGUgZm9yZWlnbiBvYmplY3QgY29udGVudC4gSGVyZSwgd2UgZW5zdXJlIHRoYXQgaWZcclxuLy8gd2UgZW5jb3VudGVyIGEgYGZvcmVpZ25PYmplY3RgIGluIHRoZSBTVkcsIHRoZW4gYWxsIGl0cyBjaGlsZHJlbiB3aWxsIGJlIHBsYWNlZFxyXG4vLyB1bmRlciB0aGUgWEhUTUwgbmFtZXNwYWNlLlxyXG5leHBvcnQgZnVuY3Rpb24gaXNTdmdFbGVtZW50KGVsZW1lbnQ6IExvZ2ljYWxFbGVtZW50KTogYm9vbGVhbiB7XHJcbiAgLy8gTm90ZTogVGhpcyBjaGVjayBpcyBpbnRlbnRpb25hbGx5IGNhc2Utc2Vuc2l0aXZlIHNpbmNlIHdlIGV4cGVjdCB0aGlzIGVsZW1lbnRcclxuICAvLyB0byBhcHBlYXIgYXMgYSBjaGlsZCBvZiBhbiBTVkcgZWxlbWVudCBhbmQgU1ZHcyBhcmUgY2FzZS1zZW5zaXRpdmUuXHJcbiAgY29uc3QgY2xvc2VzdEVsZW1lbnQgPSBnZXRDbG9zZXN0RG9tRWxlbWVudChlbGVtZW50KSBhcyBhbnk7XHJcbiAgcmV0dXJuIGNsb3Nlc3RFbGVtZW50Lm5hbWVzcGFjZVVSSSA9PT0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyAmJiBjbG9zZXN0RWxlbWVudFsndGFnTmFtZSddICE9PSAnZm9yZWlnbk9iamVjdCc7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2dpY2FsQ2hpbGRyZW5BcnJheShlbGVtZW50OiBMb2dpY2FsRWxlbWVudCk6IExvZ2ljYWxFbGVtZW50W10ge1xyXG4gIHJldHVybiBlbGVtZW50W2xvZ2ljYWxDaGlsZHJlblByb3BuYW1lXSBhcyBMb2dpY2FsRWxlbWVudFtdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9naWNhbE5leHRTaWJsaW5nKGVsZW1lbnQ6IExvZ2ljYWxFbGVtZW50KTogTG9naWNhbEVsZW1lbnQgfCBudWxsIHtcclxuICBjb25zdCBzaWJsaW5ncyA9IGdldExvZ2ljYWxDaGlsZHJlbkFycmF5KGdldExvZ2ljYWxQYXJlbnQoZWxlbWVudCkhKTtcclxuICBjb25zdCBzaWJsaW5nSW5kZXggPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHNpYmxpbmdzLCBlbGVtZW50KTtcclxuICByZXR1cm4gc2libGluZ3Nbc2libGluZ0luZGV4ICsgMV0gfHwgbnVsbDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzTG9naWNhbEVsZW1lbnQoZWxlbWVudDogTm9kZSk6IGJvb2xlYW4ge1xyXG4gIHJldHVybiBsb2dpY2FsQ2hpbGRyZW5Qcm9wbmFtZSBpbiBlbGVtZW50O1xyXG59XHJcblxyXG4vLyBUaGlzIGZ1bmN0aW9uIHJldHVybnMgYWxsIHRoZSBkZXNjZW5kYW50cyBvZiB0aGUgbG9naWNhbCBlbGVtZW50IGJlZm9yZSB5aWVsZGluZyB0aGUgZWxlbWVudFxyXG4vLyBpdHNlbGYuXHJcbmV4cG9ydCBmdW5jdGlvbiAqZGVwdGhGaXJzdE5vZGVUcmVlVHJhdmVyc2FsKGVsZW1lbnQ6IExvZ2ljYWxFbGVtZW50KTogSXRlcmFibGU8TG9naWNhbEVsZW1lbnQ+IHtcclxuICBjb25zdCBjaGlsZHJlbiA9IGdldExvZ2ljYWxDaGlsZHJlbkFycmF5KGVsZW1lbnQpO1xyXG4gIGZvciAoY29uc3QgY2hpbGQgb2YgY2hpbGRyZW4pIHtcclxuICAgIHlpZWxkKiBkZXB0aEZpcnN0Tm9kZVRyZWVUcmF2ZXJzYWwoY2hpbGQpO1xyXG4gIH1cclxuICB5aWVsZCBlbGVtZW50O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcGVybXV0ZUxvZ2ljYWxDaGlsZHJlbihwYXJlbnQ6IExvZ2ljYWxFbGVtZW50LCBwZXJtdXRhdGlvbkxpc3Q6IFBlcm11dGF0aW9uTGlzdEVudHJ5W10pOiB2b2lkIHtcclxuICAvLyBUaGUgcGVybXV0YXRpb25MaXN0IG11c3QgcmVwcmVzZW50IGEgdmFsaWQgcGVybXV0YXRpb24sIGkuZS4sIHRoZSBsaXN0IG9mICdmcm9tJyBpbmRpY2VzXHJcbiAgLy8gaXMgZGlzdGluY3QsIGFuZCB0aGUgbGlzdCBvZiAndG8nIGluZGljZXMgaXMgYSBwZXJtdXRhdGlvbiBvZiBpdC4gVGhlIGFsZ29yaXRobSBoZXJlXHJcbiAgLy8gcmVsaWVzIG9uIHRoYXQgYXNzdW1wdGlvbi5cclxuXHJcbiAgLy8gRWFjaCBvZiB0aGUgcGhhc2VzIGhlcmUgaGFzIHRvIGhhcHBlbiBzZXBhcmF0ZWx5LCBiZWNhdXNlIGVhY2ggb25lIGlzIGRlc2lnbmVkIG5vdCB0b1xyXG4gIC8vIGludGVyZmVyZSB3aXRoIHRoZSBpbmRpY2VzIG9yIERPTSBlbnRyaWVzIHVzZWQgYnkgc3Vic2VxdWVudCBwaGFzZXMuXHJcblxyXG4gIC8vIFBoYXNlIDE6IHRyYWNrIHdoaWNoIG5vZGVzIHdlIHdpbGwgbW92ZVxyXG4gIGNvbnN0IHNpYmxpbmdzID0gZ2V0TG9naWNhbENoaWxkcmVuQXJyYXkocGFyZW50KTtcclxuICBwZXJtdXRhdGlvbkxpc3QuZm9yRWFjaCgobGlzdEVudHJ5OiBQZXJtdXRhdGlvbkxpc3RFbnRyeVdpdGhUcmFja2luZ0RhdGEpID0+IHtcclxuICAgIGxpc3RFbnRyeS5tb3ZlUmFuZ2VTdGFydCA9IHNpYmxpbmdzW2xpc3RFbnRyeS5mcm9tU2libGluZ0luZGV4XTtcclxuICAgIGxpc3RFbnRyeS5tb3ZlUmFuZ2VFbmQgPSBmaW5kTGFzdERvbU5vZGVJblJhbmdlKGxpc3RFbnRyeS5tb3ZlUmFuZ2VTdGFydCk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIFBoYXNlIDI6IGluc2VydCBtYXJrZXJzXHJcbiAgcGVybXV0YXRpb25MaXN0LmZvckVhY2goKGxpc3RFbnRyeTogUGVybXV0YXRpb25MaXN0RW50cnlXaXRoVHJhY2tpbmdEYXRhKSA9PiB7XHJcbiAgICBjb25zdCBtYXJrZXIgPSBkb2N1bWVudC5jcmVhdGVDb21tZW50KCdtYXJrZXInKTtcclxuICAgIGxpc3RFbnRyeS5tb3ZlVG9CZWZvcmVNYXJrZXIgPSBtYXJrZXI7XHJcbiAgICBjb25zdCBpbnNlcnRCZWZvcmVOb2RlID0gc2libGluZ3NbbGlzdEVudHJ5LnRvU2libGluZ0luZGV4ICsgMV0gYXMgYW55IGFzIE5vZGU7XHJcbiAgICBpZiAoaW5zZXJ0QmVmb3JlTm9kZSkge1xyXG4gICAgICBpbnNlcnRCZWZvcmVOb2RlLnBhcmVudE5vZGUhLmluc2VydEJlZm9yZShtYXJrZXIsIGluc2VydEJlZm9yZU5vZGUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwZW5kRG9tTm9kZShtYXJrZXIsIHBhcmVudCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8vIFBoYXNlIDM6IG1vdmUgZGVzY2VuZGFudHMgJiByZW1vdmUgbWFya2Vyc1xyXG4gIHBlcm11dGF0aW9uTGlzdC5mb3JFYWNoKChsaXN0RW50cnk6IFBlcm11dGF0aW9uTGlzdEVudHJ5V2l0aFRyYWNraW5nRGF0YSkgPT4ge1xyXG4gICAgY29uc3QgaW5zZXJ0QmVmb3JlID0gbGlzdEVudHJ5Lm1vdmVUb0JlZm9yZU1hcmtlciE7XHJcbiAgICBjb25zdCBwYXJlbnREb21Ob2RlID0gaW5zZXJ0QmVmb3JlLnBhcmVudE5vZGUhO1xyXG4gICAgY29uc3QgZWxlbWVudFRvTW92ZSA9IGxpc3RFbnRyeS5tb3ZlUmFuZ2VTdGFydCE7XHJcbiAgICBjb25zdCBtb3ZlRW5kTm9kZSA9IGxpc3RFbnRyeS5tb3ZlUmFuZ2VFbmQhO1xyXG4gICAgbGV0IG5leHRUb01vdmUgPSBlbGVtZW50VG9Nb3ZlIGFzIHVua25vd24gYXMgTm9kZSB8IG51bGw7XHJcbiAgICB3aGlsZSAobmV4dFRvTW92ZSkge1xyXG4gICAgICBjb25zdCBuZXh0TmV4dCA9IG5leHRUb01vdmUubmV4dFNpYmxpbmc7XHJcbiAgICAgIHBhcmVudERvbU5vZGUuaW5zZXJ0QmVmb3JlKG5leHRUb01vdmUsIGluc2VydEJlZm9yZSk7XHJcblxyXG4gICAgICBpZiAobmV4dFRvTW92ZSA9PT0gbW92ZUVuZE5vZGUpIHtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBuZXh0VG9Nb3ZlID0gbmV4dE5leHQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwYXJlbnREb21Ob2RlLnJlbW92ZUNoaWxkKGluc2VydEJlZm9yZSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIFBoYXNlIDQ6IHVwZGF0ZSBzaWJsaW5ncyBpbmRleFxyXG4gIHBlcm11dGF0aW9uTGlzdC5mb3JFYWNoKChsaXN0RW50cnk6IFBlcm11dGF0aW9uTGlzdEVudHJ5V2l0aFRyYWNraW5nRGF0YSkgPT4ge1xyXG4gICAgc2libGluZ3NbbGlzdEVudHJ5LnRvU2libGluZ0luZGV4XSA9IGxpc3RFbnRyeS5tb3ZlUmFuZ2VTdGFydCE7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRDbG9zZXN0RG9tRWxlbWVudChsb2dpY2FsRWxlbWVudDogTG9naWNhbEVsZW1lbnQpOiBFbGVtZW50IHwgKExvZ2ljYWxFbGVtZW50ICYgRG9jdW1lbnRGcmFnbWVudCkge1xyXG4gIGlmIChsb2dpY2FsRWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnQgfHwgbG9naWNhbEVsZW1lbnQgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KSB7XHJcbiAgICByZXR1cm4gbG9naWNhbEVsZW1lbnQ7XHJcbiAgfSBlbHNlIGlmIChsb2dpY2FsRWxlbWVudCBpbnN0YW5jZW9mIENvbW1lbnQpIHtcclxuICAgIHJldHVybiBsb2dpY2FsRWxlbWVudC5wYXJlbnROb2RlISBhcyBFbGVtZW50O1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBhIHZhbGlkIGxvZ2ljYWwgZWxlbWVudCcpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQZXJtdXRhdGlvbkxpc3RFbnRyeSB7XHJcbiAgZnJvbVNpYmxpbmdJbmRleDogbnVtYmVyLFxyXG4gIHRvU2libGluZ0luZGV4OiBudW1iZXIsXHJcbn1cclxuXHJcbmludGVyZmFjZSBQZXJtdXRhdGlvbkxpc3RFbnRyeVdpdGhUcmFja2luZ0RhdGEgZXh0ZW5kcyBQZXJtdXRhdGlvbkxpc3RFbnRyeSB7XHJcbiAgLy8gVGhlc2UgZXh0cmEgcHJvcGVydGllcyBhcmUgdXNlZCBpbnRlcm5hbGx5IHdoZW4gcHJvY2Vzc2luZyB0aGUgcGVybXV0YXRpb24gbGlzdFxyXG4gIG1vdmVSYW5nZVN0YXJ0PzogTG9naWNhbEVsZW1lbnQsXHJcbiAgbW92ZVJhbmdlRW5kPzogTm9kZSxcclxuICBtb3ZlVG9CZWZvcmVNYXJrZXI/OiBOb2RlLFxyXG59XHJcblxyXG5mdW5jdGlvbiBhcHBlbmREb21Ob2RlKGNoaWxkOiBOb2RlLCBwYXJlbnQ6IExvZ2ljYWxFbGVtZW50KSB7XHJcbiAgLy8gVGhpcyBmdW5jdGlvbiBvbmx5IHB1dHMgJ2NoaWxkJyBpbnRvIHRoZSBET00gaW4gdGhlIHJpZ2h0IHBsYWNlIHJlbGF0aXZlIHRvICdwYXJlbnQnXHJcbiAgLy8gSXQgZG9lcyBub3QgdXBkYXRlIHRoZSBsb2dpY2FsIGNoaWxkcmVuIGFycmF5IG9mIGFueXRoaW5nXHJcbiAgaWYgKHBhcmVudCBpbnN0YW5jZW9mIEVsZW1lbnQgfHwgcGFyZW50IGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCkge1xyXG4gICAgcGFyZW50LmFwcGVuZENoaWxkKGNoaWxkKTtcclxuICB9IGVsc2UgaWYgKHBhcmVudCBpbnN0YW5jZW9mIENvbW1lbnQpIHtcclxuICAgIGNvbnN0IHBhcmVudExvZ2ljYWxOZXh0U2libGluZyA9IGdldExvZ2ljYWxOZXh0U2libGluZyhwYXJlbnQpIGFzIGFueSBhcyBOb2RlO1xyXG4gICAgaWYgKHBhcmVudExvZ2ljYWxOZXh0U2libGluZykge1xyXG4gICAgICAvLyBTaW5jZSB0aGUgcGFyZW50IGhhcyBhIGxvZ2ljYWwgbmV4dC1zaWJsaW5nLCBpdHMgYXBwZW5kZWQgY2hpbGQgZ29lcyByaWdodCBiZWZvcmUgdGhhdFxyXG4gICAgICBwYXJlbnRMb2dpY2FsTmV4dFNpYmxpbmcucGFyZW50Tm9kZSEuaW5zZXJ0QmVmb3JlKGNoaWxkLCBwYXJlbnRMb2dpY2FsTmV4dFNpYmxpbmcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gU2luY2UgdGhlIHBhcmVudCBoYXMgbm8gbG9naWNhbCBuZXh0LXNpYmxpbmcsIGtlZXAgcmVjdXJzaW5nIHVwd2FyZHMgdW50aWwgd2UgZmluZFxyXG4gICAgICAvLyBhIGxvZ2ljYWwgYW5jZXN0b3IgdGhhdCBkb2VzIGhhdmUgYSBuZXh0LXNpYmxpbmcgb3IgaXMgYSBwaHlzaWNhbCBlbGVtZW50LlxyXG4gICAgICBhcHBlbmREb21Ob2RlKGNoaWxkLCBnZXRMb2dpY2FsUGFyZW50KHBhcmVudCkhKTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgLy8gU2hvdWxkIG5ldmVyIGhhcHBlblxyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgYXBwZW5kIG5vZGUgYmVjYXVzZSB0aGUgcGFyZW50IGlzIG5vdCBhIHZhbGlkIGxvZ2ljYWwgZWxlbWVudC4gUGFyZW50OiAke3BhcmVudH1gKTtcclxuICB9XHJcbn1cclxuXHJcbi8vIFJldHVybnMgdGhlIGZpbmFsIG5vZGUgKGluIGRlcHRoLWZpcnN0IGV2YWx1YXRpb24gb3JkZXIpIHRoYXQgaXMgYSBkZXNjZW5kYW50IG9mIHRoZSBsb2dpY2FsIGVsZW1lbnQuXHJcbi8vIEFzIHN1Y2gsIHRoZSBlbnRpcmUgc3VidHJlZSBpcyBiZXR3ZWVuICdlbGVtZW50JyBhbmQgJ2ZpbmRMYXN0RG9tTm9kZUluUmFuZ2UoZWxlbWVudCknIGluY2x1c2l2ZS5cclxuZnVuY3Rpb24gZmluZExhc3REb21Ob2RlSW5SYW5nZShlbGVtZW50OiBMb2dpY2FsRWxlbWVudCk6IE5vZGUge1xyXG4gIGlmIChlbGVtZW50IGluc3RhbmNlb2YgRWxlbWVudCB8fCBlbGVtZW50IGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCkge1xyXG4gICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBjb25zdCBuZXh0U2libGluZyA9IGdldExvZ2ljYWxOZXh0U2libGluZyhlbGVtZW50KTtcclxuICBpZiAobmV4dFNpYmxpbmcpIHtcclxuICAgIC8vIFNpbXBsZSBjYXNlOiBub3QgdGhlIGxhc3QgbG9naWNhbCBzaWJsaW5nLCBzbyB0YWtlIHRoZSBub2RlIGJlZm9yZSB0aGUgbmV4dCBzaWJsaW5nXHJcbiAgICByZXR1cm4gKG5leHRTaWJsaW5nIGFzIGFueSBhcyBOb2RlKS5wcmV2aW91c1NpYmxpbmchO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBIYXJkZXIgY2FzZTogdGhlcmUncyBubyBsb2dpY2FsIG5leHQtc2libGluZywgc28gcmVjdXJzZSB1cHdhcmRzIHVudGlsIHdlIGZpbmRcclxuICAgIC8vIGEgbG9naWNhbCBhbmNlc3RvciB0aGF0IGRvZXMgaGF2ZSBvbmUsIG9yIGEgcGh5c2ljYWwgZWxlbWVudFxyXG4gICAgY29uc3QgbG9naWNhbFBhcmVudCA9IGdldExvZ2ljYWxQYXJlbnQoZWxlbWVudCkhO1xyXG4gICAgcmV0dXJuIGxvZ2ljYWxQYXJlbnQgaW5zdGFuY2VvZiBFbGVtZW50IHx8IGxvZ2ljYWxQYXJlbnQgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50XHJcbiAgICAgID8gbG9naWNhbFBhcmVudC5sYXN0Q2hpbGQhXHJcbiAgICAgIDogZmluZExhc3REb21Ob2RlSW5SYW5nZShsb2dpY2FsUGFyZW50KTtcclxuICB9XHJcbn1cclxuXHJcbi8vIE5vbWluYWwgdHlwZSB0byByZXByZXNlbnQgYSBsb2dpY2FsIGVsZW1lbnQgd2l0aG91dCBuZWVkaW5nIHRvIGFsbG9jYXRlIGFueSBvYmplY3QgZm9yIGluc3RhbmNlc1xyXG5leHBvcnQgaW50ZXJmYWNlIExvZ2ljYWxFbGVtZW50IHsgTG9naWNhbEVsZW1lbnRfX0RPX05PVF9JTVBMRU1FTlQ6IGFueSB9XHJcbiIsIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cclxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuXHJcbmltcG9ydCB7IERvdE5ldCB9IGZyb20gJ0BtaWNyb3NvZnQvZG90bmV0LWpzLWludGVyb3AnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5Q2FwdHVyZUlkVG9FbGVtZW50KGVsZW1lbnQ6IEVsZW1lbnQsIHJlZmVyZW5jZUNhcHR1cmVJZDogc3RyaW5nKTogdm9pZCB7XHJcbiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoZ2V0Q2FwdHVyZUlkQXR0cmlidXRlTmFtZShyZWZlcmVuY2VDYXB0dXJlSWQpLCAnJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEVsZW1lbnRCeUNhcHR1cmVJZChyZWZlcmVuY2VDYXB0dXJlSWQ6IHN0cmluZykge1xyXG4gIGNvbnN0IHNlbGVjdG9yID0gYFske2dldENhcHR1cmVJZEF0dHJpYnV0ZU5hbWUocmVmZXJlbmNlQ2FwdHVyZUlkKX1dYDtcclxuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldENhcHR1cmVJZEF0dHJpYnV0ZU5hbWUocmVmZXJlbmNlQ2FwdHVyZUlkOiBzdHJpbmcpIHtcclxuICByZXR1cm4gYF9ibF8ke3JlZmVyZW5jZUNhcHR1cmVJZH1gO1xyXG59XHJcblxyXG4vLyBTdXBwb3J0IHJlY2VpdmluZyBFbGVtZW50UmVmIGluc3RhbmNlcyBhcyBhcmdzIGluIGludGVyb3AgY2FsbHNcclxuY29uc3QgZWxlbWVudFJlZktleSA9ICdfX2ludGVybmFsSWQnOyAvLyBLZWVwIGluIHN5bmMgd2l0aCBFbGVtZW50UmVmLmNzXHJcbkRvdE5ldC5hdHRhY2hSZXZpdmVyKChrZXksIHZhbHVlKSA9PiB7XHJcbiAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBlbGVtZW50UmVmS2V5KSAmJiB0eXBlb2YgdmFsdWVbZWxlbWVudFJlZktleV0gPT09ICdzdHJpbmcnKSB7XHJcbiAgICByZXR1cm4gZ2V0RWxlbWVudEJ5Q2FwdHVyZUlkKHZhbHVlW2VsZW1lbnRSZWZLZXldKTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG4gIH1cclxufSk7XHJcbiIsIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cclxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuXHJcbi8vIFVwZGF0aW5nIHRoZSBhdHRyaWJ1dGVzL3Byb3BlcnRpZXMgb24gRE9NIGVsZW1lbnRzIGludm9sdmVzIGEgd2hvbGUgcmFuZ2Ugb2Ygc3BlY2lhbCBjYXNlcywgYmVjYXVzZVxyXG4vLyBkZXBlbmRpbmcgb24gdGhlIGVsZW1lbnQgdHlwZSwgdGhlcmUgYXJlIHNwZWNpYWwgcnVsZXMgZm9yIG5lZWRpbmcgdG8gdXBkYXRlIG90aGVyIHByb3BlcnRpZXMgb3JcclxuLy8gdG8gb25seSBwZXJmb3JtIHRoZSBjaGFuZ2VzIGluIGEgc3BlY2lmaWMgb3JkZXIuXHJcbi8vXHJcbi8vIFRoaXMgbW9kdWxlIHByb3ZpZGVzIGhlbHBlcnMgZm9yIGRvaW5nIHRoYXQsIGFuZCBpcyBzaGFyZWQgYnkgdGhlIGludGVyYWN0aXZlIHJlbmRlcmVyIChCcm93c2VyUmVuZGVyZXIpXHJcbi8vIGFuZCB0aGUgU1NSIERPTSBtZXJnaW5nIGxvZ2ljLlxyXG5cclxuY29uc3QgZGVmZXJyZWRWYWx1ZVByb3BuYW1lID0gJ19ibGF6b3JEZWZlcnJlZFZhbHVlJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0cnlBcHBseVNwZWNpYWxQcm9wZXJ0eShlbGVtZW50OiBFbGVtZW50LCBuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcgfCBudWxsKSB7XHJcbiAgc3dpdGNoIChuYW1lKSB7XHJcbiAgICBjYXNlICd2YWx1ZSc6XHJcbiAgICAgIHJldHVybiB0cnlBcHBseVZhbHVlUHJvcGVydHkoZWxlbWVudCwgdmFsdWUpO1xyXG4gICAgY2FzZSAnY2hlY2tlZCc6XHJcbiAgICAgIHJldHVybiB0cnlBcHBseUNoZWNrZWRQcm9wZXJ0eShlbGVtZW50LCB2YWx1ZSk7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlBbnlEZWZlcnJlZFZhbHVlKGVsZW1lbnQ6IEVsZW1lbnQpIHtcclxuICAvLyBXZSBoYW5kbGUgc2V0dGluZyAndmFsdWUnIG9uIGEgPHNlbGVjdD4gaW4gdGhyZWUgZGlmZmVyZW50IHdheXM6XHJcbiAgLy8gWzFdIFdoZW4gaW5zZXJ0aW5nIGEgY29ycmVzcG9uZGluZyA8b3B0aW9uPiwgaW4gY2FzZSB5b3UncmUgZHluYW1pY2FsbHkgYWRkaW5nIG9wdGlvbnMuXHJcbiAgLy8gICAgIFRoaXMgaXMgdGhlIGNhc2UgYmVsb3cuXHJcbiAgLy8gWzJdIEFmdGVyIHdlIGZpbmlzaCBpbnNlcnRpbmcgdGhlIDxzZWxlY3Q+LCBpbiBjYXNlIHRoZSBkZXNjZW5kYW50IG9wdGlvbnMgYXJlIGJlaW5nXHJcbiAgLy8gICAgIGFkZGVkIGFzIGFuIG9wYXF1ZSBtYXJrdXAgYmxvY2sgcmF0aGVyIHRoYW4gaW5kaXZpZHVhbGx5LiBUaGlzIGlzIHRoZSBvdGhlciBjYXNlIGJlbG93LlxyXG4gIC8vIFszXSBJbiBjYXNlIHRoZSB0aGUgdmFsdWUgb2YgdGhlIHNlbGVjdCBhbmQgdGhlIG9wdGlvbiB2YWx1ZSBpcyBjaGFuZ2VkIGluIHRoZSBzYW1lIGJhdGNoLlxyXG4gIC8vICAgICBXZSBqdXN0IHJlY2VpdmUgYW4gYXR0cmlidXRlIGZyYW1lIGFuZCBoYXZlIHRvIHNldCB0aGUgc2VsZWN0IHZhbHVlIGFmdGVyd2FyZHMuXHJcblxyXG4gIC8vIFdlIGFsc28gZGVmZXIgc2V0dGluZyB0aGUgJ3ZhbHVlJyBwcm9wZXJ0eSBmb3IgPGlucHV0PiBiZWNhdXNlIGNlcnRhaW4gdHlwZXMgb2YgaW5wdXRzIGhhdmVcclxuICAvLyBkZWZhdWx0IGF0dHJpYnV0ZSB2YWx1ZXMgdGhhdCBtYXkgaW5jb3JyZWN0bHkgY29uc3RhaW4gdGhlIHNwZWNpZmllZCAndmFsdWUnLlxyXG4gIC8vIEZvciBleGFtcGxlLCByYW5nZSBpbnB1dHMgaGF2ZSBkZWZhdWx0ICdtaW4nIGFuZCAnbWF4JyBhdHRyaWJ1dGVzIHRoYXQgbWF5IGluY29ycmVjdGx5XHJcbiAgLy8gY2xhbXAgdGhlICd2YWx1ZScgcHJvcGVydHkgaWYgaXQgaXMgYXBwbGllZCBiZWZvcmUgY3VzdG9tICdtaW4nIGFuZCAnbWF4JyBhdHRyaWJ1dGVzLlxyXG5cclxuICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxPcHRpb25FbGVtZW50KSB7XHJcbiAgICAvLyBTaXR1YXRpb24gMVxyXG4gICAgdHJ5U2V0U2VsZWN0VmFsdWVGcm9tT3B0aW9uRWxlbWVudChlbGVtZW50KTtcclxuICB9IGVsc2UgaWYgKGRlZmVycmVkVmFsdWVQcm9wbmFtZSBpbiBlbGVtZW50KSB7XHJcbiAgICAvLyBTaXR1YXRpb24gMlxyXG4gICAgY29uc3QgZGVmZXJyZWRWYWx1ZSA9IGVsZW1lbnRbZGVmZXJyZWRWYWx1ZVByb3BuYW1lXTtcclxuICAgIHNldERlZmVycmVkRWxlbWVudFZhbHVlKGVsZW1lbnQsIGRlZmVycmVkVmFsdWUpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdHJ5QXBwbHlDaGVja2VkUHJvcGVydHkoZWxlbWVudDogRWxlbWVudCwgdmFsdWU6IHN0cmluZyB8IG51bGwpIHtcclxuICAvLyBDZXJ0YWluIGVsZW1lbnRzIGhhdmUgYnVpbHQtaW4gYmVoYXZpb3VyIGZvciB0aGVpciAnY2hlY2tlZCcgcHJvcGVydHlcclxuICBpZiAoZWxlbWVudC50YWdOYW1lID09PSAnSU5QVVQnKSB7XHJcbiAgICAoZWxlbWVudCBhcyBhbnkpLmNoZWNrZWQgPSB2YWx1ZSAhPT0gbnVsbDtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiB0cnlBcHBseVZhbHVlUHJvcGVydHkoZWxlbWVudDogRWxlbWVudCwgdmFsdWU6IHN0cmluZyB8IG51bGwpOiBib29sZWFuIHtcclxuICAvLyBDZXJ0YWluIGVsZW1lbnRzIGhhdmUgYnVpbHQtaW4gYmVoYXZpb3VyIGZvciB0aGVpciAndmFsdWUnIHByb3BlcnR5XHJcbiAgaWYgKHZhbHVlICYmIGVsZW1lbnQudGFnTmFtZSA9PT0gJ0lOUFVUJykge1xyXG4gICAgdmFsdWUgPSBub3JtYWxpemVJbnB1dFZhbHVlKHZhbHVlLCBlbGVtZW50KTtcclxuICB9XHJcblxyXG4gIHN3aXRjaCAoZWxlbWVudC50YWdOYW1lKSB7XHJcbiAgICBjYXNlICdJTlBVVCc6XHJcbiAgICBjYXNlICdTRUxFQ1QnOlxyXG4gICAgY2FzZSAnVEVYVEFSRUEnOiB7XHJcbiAgICAgIC8vIDxzZWxlY3Q+IGlzIHNwZWNpYWwsIGluIHRoYXQgYW55dGhpbmcgd2Ugd3JpdGUgdG8gLnZhbHVlIHdpbGwgYmUgbG9zdCBpZiB0aGVyZVxyXG4gICAgICAvLyBpc24ndCB5ZXQgYSBtYXRjaGluZyA8b3B0aW9uPi4gVG8gbWFpbnRhaW4gdGhlIGV4cGVjdGVkIGJlaGF2aW9yIG5vIG1hdHRlciB0aGVcclxuICAgICAgLy8gZWxlbWVudCBpbnNlcnRpb24vdXBkYXRlIG9yZGVyLCBwcmVzZXJ2ZSB0aGUgZGVzaXJlZCB2YWx1ZSBzZXBhcmF0ZWx5IHNvXHJcbiAgICAgIC8vIHdlIGNhbiByZWNvdmVyIGl0IHdoZW4gaW5zZXJ0aW5nIGFueSBtYXRjaGluZyA8b3B0aW9uPiBvciBhZnRlciBpbnNlcnRpbmcgYW5cclxuICAgICAgLy8gZW50aXJlIG1hcmt1cCBibG9jayBvZiBkZXNjZW5kYW50cy5cclxuXHJcbiAgICAgIC8vIFdlIGFsc28gZGVmZXIgc2V0dGluZyB0aGUgJ3ZhbHVlJyBwcm9wZXJ0eSBmb3IgPGlucHV0PiBiZWNhdXNlIGNlcnRhaW4gdHlwZXMgb2YgaW5wdXRzIGhhdmVcclxuICAgICAgLy8gZGVmYXVsdCBhdHRyaWJ1dGUgdmFsdWVzIHRoYXQgbWF5IGluY29ycmVjdGx5IGNvbnN0YWluIHRoZSBzcGVjaWZpZWQgJ3ZhbHVlJy5cclxuICAgICAgLy8gRm9yIGV4YW1wbGUsIHJhbmdlIGlucHV0cyBoYXZlIGRlZmF1bHQgJ21pbicgYW5kICdtYXgnIGF0dHJpYnV0ZXMgdGhhdCBtYXkgaW5jb3JyZWN0bHlcclxuICAgICAgLy8gY2xhbXAgdGhlICd2YWx1ZScgcHJvcGVydHkgaWYgaXQgaXMgYXBwbGllZCBiZWZvcmUgY3VzdG9tICdtaW4nIGFuZCAnbWF4JyBhdHRyaWJ1dGVzLlxyXG5cclxuICAgICAgaWYgKHZhbHVlICYmIGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MU2VsZWN0RWxlbWVudCAmJiBpc011bHRpcGxlU2VsZWN0RWxlbWVudChlbGVtZW50KSkge1xyXG4gICAgICAgIHZhbHVlID0gSlNPTi5wYXJzZSh2YWx1ZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNldERlZmVycmVkRWxlbWVudFZhbHVlKGVsZW1lbnQsIHZhbHVlKTtcclxuICAgICAgZWxlbWVudFtkZWZlcnJlZFZhbHVlUHJvcG5hbWVdID0gdmFsdWU7XHJcblxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGNhc2UgJ09QVElPTic6IHtcclxuICAgICAgaWYgKHZhbHVlIHx8IHZhbHVlID09PSAnJykge1xyXG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHZhbHVlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgndmFsdWUnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gU2VlIGFib3ZlIGZvciB3aHkgd2UgaGF2ZSB0aGlzIHNwZWNpYWwgaGFuZGxpbmcgZm9yIDxzZWxlY3Q+LzxvcHRpb24+XHJcbiAgICAgIC8vIFNpdHVhdGlvbiAzXHJcbiAgICAgIHRyeVNldFNlbGVjdFZhbHVlRnJvbU9wdGlvbkVsZW1lbnQoPEhUTUxPcHRpb25FbGVtZW50PmVsZW1lbnQpO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUlucHV0VmFsdWUodmFsdWU6IHN0cmluZywgZWxlbWVudDogRWxlbWVudCk6IHN0cmluZyB7XHJcbiAgLy8gVGltZSBpbnB1dHMgKGUuZy4gJ3RpbWUnIGFuZCAnZGF0ZXRpbWUtbG9jYWwnKSBtaXNiZWhhdmUgb24gY2hyb21pdW0tYmFzZWRcclxuICAvLyBicm93c2VycyB3aGVuIGEgdGltZSBpcyBzZXQgdGhhdCBpbmNsdWRlcyBhIHNlY29uZHMgdmFsdWUgb2YgJzAwJywgbW9zdCBub3RhYmx5XHJcbiAgLy8gd2hlbiBlbnRlcmVkIGZyb20ga2V5Ym9hcmQgaW5wdXQuIFRoaXMgYmVoYXZpb3IgaXMgbm90IGxpbWl0ZWQgdG8gc3BlY2lmaWNcclxuICAvLyAnc3RlcCcgYXR0cmlidXRlIHZhbHVlcywgc28gd2UgYWx3YXlzIHJlbW92ZSB0aGUgdHJhaWxpbmcgc2Vjb25kcyB2YWx1ZSBpZiB0aGVcclxuICAvLyB0aW1lIGVuZHMgaW4gJzAwJy5cclxuICAvLyBTaW1pbGFybHksIGlmIGEgdGltZS1yZWxhdGVkIGVsZW1lbnQgZG9lc24ndCBoYXZlIGFueSAnc3RlcCcgYXR0cmlidXRlLCBicm93c2Vyc1xyXG4gIC8vIHRyZWF0IHRoaXMgYXMgXCJyb3VuZCB0byB3aG9sZSBudW1iZXIgb2YgbWludXRlc1wiIG1ha2luZyBpdCBpbnZhbGlkIHRvIHBhc3MgYW55XHJcbiAgLy8gJ3NlY29uZHMnIHZhbHVlLCBzbyBpbiB0aGF0IGNhc2Ugd2Ugc3RyaXAgb2ZmIHRoZSAnc2Vjb25kcycgcGFydCBvZiB0aGUgdmFsdWUuXHJcblxyXG4gIHN3aXRjaCAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSkge1xyXG4gICAgY2FzZSAndGltZSc6XHJcbiAgICAgIHJldHVybiB2YWx1ZS5sZW5ndGggPT09IDggJiYgKHZhbHVlLmVuZHNXaXRoKCcwMCcpIHx8ICFlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnc3RlcCcpKVxyXG4gICAgICAgID8gdmFsdWUuc3Vic3RyaW5nKDAsIDUpXHJcbiAgICAgICAgOiB2YWx1ZTtcclxuICAgIGNhc2UgJ2RhdGV0aW1lLWxvY2FsJzpcclxuICAgICAgcmV0dXJuIHZhbHVlLmxlbmd0aCA9PT0gMTkgJiYgKHZhbHVlLmVuZHNXaXRoKCcwMCcpIHx8ICFlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnc3RlcCcpKVxyXG4gICAgICAgID8gdmFsdWUuc3Vic3RyaW5nKDAsIDE2KVxyXG4gICAgICAgIDogdmFsdWU7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gdmFsdWU7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBpc011bHRpcGxlU2VsZWN0RWxlbWVudChlbGVtZW50OiBIVE1MU2VsZWN0RWxlbWVudCkge1xyXG4gIHJldHVybiBlbGVtZW50LnR5cGUgPT09ICdzZWxlY3QtbXVsdGlwbGUnO1xyXG59XHJcblxyXG50eXBlIEJsYXpvckh0bWxTZWxlY3RFbGVtZW50ID0gSFRNTFNlbGVjdEVsZW1lbnQgJiB7IF9ibGF6b3JEZWZlcnJlZFZhbHVlPzogc3RyaW5nIH07XHJcblxyXG5mdW5jdGlvbiBzZXRTaW5nbGVTZWxlY3RFbGVtZW50VmFsdWUoZWxlbWVudDogSFRNTFNlbGVjdEVsZW1lbnQsIHZhbHVlOiBzdHJpbmcgfCBudWxsKSB7XHJcbiAgLy8gVGhlcmUncyBubyBzZW5zaWJsZSB3YXkgdG8gcmVwcmVzZW50IGEgc2VsZWN0IG9wdGlvbiB3aXRoIHZhbHVlICdudWxsJywgYmVjYXVzZVxyXG4gIC8vICgxKSBIVE1MIGF0dHJpYnV0ZXMgY2FuJ3QgaGF2ZSBudWxsIHZhbHVlcyAtIHRoZSBjbG9zZXN0IGVxdWl2YWxlbnQgaXMgYWJzZW5jZSBvZiB0aGUgYXR0cmlidXRlXHJcbiAgLy8gKDIpIFdoZW4gcGlja2luZyBhbiA8b3B0aW9uPiB3aXRoIG5vICd2YWx1ZScgYXR0cmlidXRlLCB0aGUgYnJvd3NlciB0cmVhdHMgdGhlIHZhbHVlIGFzIGJlaW5nIHRoZVxyXG4gIC8vICAgICAqdGV4dCBjb250ZW50KiBvbiB0aGF0IDxvcHRpb24+IGVsZW1lbnQuIFRyeWluZyB0byBzdXBwcmVzcyB0aGF0IGRlZmF1bHQgYmVoYXZpb3Igd291bGQgaW52b2x2ZVxyXG4gIC8vICAgICBhIGxvbmcgY2hhaW4gb2Ygc3BlY2lhbC1jYXNlIGhhY2tzLCBhcyB3ZWxsIGFzIGJlaW5nIGJyZWFraW5nIHZzIDMueC5cclxuICAvLyBTbywgdGhlIG1vc3QgcGxhdXNpYmxlICdudWxsJyBlcXVpdmFsZW50IGlzIGFuIGVtcHR5IHN0cmluZy4gSXQncyB1bmZvcnR1bmF0ZSB0aGF0IHBlb3BsZSBjYW4ndFxyXG4gIC8vIHdyaXRlIDxvcHRpb24gdmFsdWU9QHNvbWVOdWxsVmFyaWFibGU+LCBhbmQgdGhhdCB3ZSBjYW4gbmV2ZXIgZGlzdGluZ3Vpc2ggYmV0d2VlbiBudWxsIGFuZCBlbXB0eVxyXG4gIC8vIHN0cmluZyBpbiBhIGJvdW5kIDxzZWxlY3Q+LCBidXQgdGhhdCdzIGEgbGltaXQgaW4gdGhlIHJlcHJlc2VudGF0aW9uYWwgcG93ZXIgb2YgSFRNTC5cclxuICBlbGVtZW50LnZhbHVlID0gdmFsdWUgfHwgJyc7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldE11bHRpcGxlU2VsZWN0RWxlbWVudFZhbHVlKGVsZW1lbnQ6IEhUTUxTZWxlY3RFbGVtZW50LCB2YWx1ZTogc3RyaW5nW10gfCBudWxsKSB7XHJcbiAgdmFsdWUgfHw9IFtdO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudC5vcHRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBlbGVtZW50Lm9wdGlvbnNbaV0uc2VsZWN0ZWQgPSB2YWx1ZS5pbmRleE9mKGVsZW1lbnQub3B0aW9uc1tpXS52YWx1ZSkgIT09IC0xO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2V0RGVmZXJyZWRFbGVtZW50VmFsdWUoZWxlbWVudDogRWxlbWVudCwgdmFsdWU6IGFueSkge1xyXG4gIGlmIChlbGVtZW50IGluc3RhbmNlb2YgSFRNTFNlbGVjdEVsZW1lbnQpIHtcclxuICAgIGlmIChpc011bHRpcGxlU2VsZWN0RWxlbWVudChlbGVtZW50KSkge1xyXG4gICAgICBzZXRNdWx0aXBsZVNlbGVjdEVsZW1lbnRWYWx1ZShlbGVtZW50LCB2YWx1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzZXRTaW5nbGVTZWxlY3RFbGVtZW50VmFsdWUoZWxlbWVudCwgdmFsdWUpO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICAoZWxlbWVudCBhcyBhbnkpLnZhbHVlID0gdmFsdWU7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiB0cnlTZXRTZWxlY3RWYWx1ZUZyb21PcHRpb25FbGVtZW50KG9wdGlvbkVsZW1lbnQ6IEhUTUxPcHRpb25FbGVtZW50KSB7XHJcbiAgY29uc3Qgc2VsZWN0RWxlbSA9IGZpbmRDbG9zZXN0QW5jZXN0b3JTZWxlY3RFbGVtZW50KG9wdGlvbkVsZW1lbnQpO1xyXG5cclxuICBpZiAoIWlzQmxhem9yU2VsZWN0RWxlbWVudChzZWxlY3RFbGVtKSkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgaWYgKGlzTXVsdGlwbGVTZWxlY3RFbGVtZW50KHNlbGVjdEVsZW0pKSB7XHJcbiAgICBvcHRpb25FbGVtZW50LnNlbGVjdGVkID0gc2VsZWN0RWxlbS5fYmxhem9yRGVmZXJyZWRWYWx1ZSEuaW5kZXhPZihvcHRpb25FbGVtZW50LnZhbHVlKSAhPT0gLTE7XHJcbiAgfSBlbHNlIHtcclxuICAgIGlmIChzZWxlY3RFbGVtLl9ibGF6b3JEZWZlcnJlZFZhbHVlICE9PSBvcHRpb25FbGVtZW50LnZhbHVlKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRTaW5nbGVTZWxlY3RFbGVtZW50VmFsdWUoc2VsZWN0RWxlbSwgb3B0aW9uRWxlbWVudC52YWx1ZSk7XHJcbiAgICBkZWxldGUgc2VsZWN0RWxlbS5fYmxhem9yRGVmZXJyZWRWYWx1ZTtcclxuICB9XHJcblxyXG4gIHJldHVybiB0cnVlO1xyXG5cclxuICBmdW5jdGlvbiBpc0JsYXpvclNlbGVjdEVsZW1lbnQoc2VsZWN0RWxlbTogSFRNTFNlbGVjdEVsZW1lbnQgfCBudWxsKSA6IHNlbGVjdEVsZW0gaXMgQmxhem9ySHRtbFNlbGVjdEVsZW1lbnQge1xyXG4gICAgcmV0dXJuICEhc2VsZWN0RWxlbSAmJiAoZGVmZXJyZWRWYWx1ZVByb3BuYW1lIGluIHNlbGVjdEVsZW0pO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZmluZENsb3Nlc3RBbmNlc3RvclNlbGVjdEVsZW1lbnQoZWxlbWVudDogRWxlbWVudCB8IG51bGwpIHtcclxuICB3aGlsZSAoZWxlbWVudCkge1xyXG4gICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MU2VsZWN0RWxlbWVudCkge1xyXG4gICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbnVsbDtcclxufVxyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG5pbXBvcnQgeyBSZW5kZXJCYXRjaCwgQXJyYXlCdWlsZGVyU2VnbWVudCwgUmVuZGVyVHJlZUVkaXQsIFJlbmRlclRyZWVGcmFtZSwgRWRpdFR5cGUsIEZyYW1lVHlwZSwgQXJyYXlWYWx1ZXMgfSBmcm9tICcuL1JlbmRlckJhdGNoL1JlbmRlckJhdGNoJztcclxuaW1wb3J0IHsgRXZlbnREZWxlZ2F0b3IgfSBmcm9tICcuL0V2ZW50cy9FdmVudERlbGVnYXRvcic7XHJcbmltcG9ydCB7IExvZ2ljYWxFbGVtZW50LCBQZXJtdXRhdGlvbkxpc3RFbnRyeSwgdG9Mb2dpY2FsRWxlbWVudCwgaW5zZXJ0TG9naWNhbENoaWxkLCByZW1vdmVMb2dpY2FsQ2hpbGQsIGdldExvZ2ljYWxQYXJlbnQsIGdldExvZ2ljYWxDaGlsZCwgY3JlYXRlQW5kSW5zZXJ0TG9naWNhbENvbnRhaW5lciwgaXNTdmdFbGVtZW50LCBwZXJtdXRlTG9naWNhbENoaWxkcmVuLCBnZXRDbG9zZXN0RG9tRWxlbWVudCwgZW1wdHlMb2dpY2FsRWxlbWVudCwgZ2V0TG9naWNhbENoaWxkcmVuQXJyYXksIGRlcHRoRmlyc3ROb2RlVHJlZVRyYXZlcnNhbCB9IGZyb20gJy4vTG9naWNhbEVsZW1lbnRzJztcclxuaW1wb3J0IHsgYXBwbHlDYXB0dXJlSWRUb0VsZW1lbnQgfSBmcm9tICcuL0VsZW1lbnRSZWZlcmVuY2VDYXB0dXJlJztcclxuaW1wb3J0IHsgYXR0YWNoVG9FdmVudERlbGVnYXRvciBhcyBhdHRhY2hOYXZpZ2F0aW9uTWFuYWdlclRvRXZlbnREZWxlZ2F0b3IgfSBmcm9tICcuLi9TZXJ2aWNlcy9OYXZpZ2F0aW9uTWFuYWdlcic7XHJcbmltcG9ydCB7IGFwcGx5QW55RGVmZXJyZWRWYWx1ZSwgdHJ5QXBwbHlTcGVjaWFsUHJvcGVydHkgfSBmcm9tICcuL0RvbVNwZWNpYWxQcm9wZXJ0eVV0aWwnO1xyXG5jb25zdCBzaGFyZWRUZW1wbGF0ZUVsZW1Gb3JQYXJzaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcclxuY29uc3Qgc2hhcmVkU3ZnRWxlbUZvclBhcnNpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKTtcclxuY29uc3QgZWxlbWVudHNUb0NsZWFyT25Sb290Q29tcG9uZW50UmVuZGVyID0gbmV3IFNldDxMb2dpY2FsRWxlbWVudD4oKTtcclxuY29uc3QgaW50ZXJuYWxBdHRyaWJ1dGVOYW1lUHJlZml4ID0gJ19faW50ZXJuYWxfJztcclxuY29uc3QgZXZlbnRQcmV2ZW50RGVmYXVsdEF0dHJpYnV0ZU5hbWVQcmVmaXggPSAncHJldmVudERlZmF1bHRfJztcclxuY29uc3QgZXZlbnRTdG9wUHJvcGFnYXRpb25BdHRyaWJ1dGVOYW1lUHJlZml4ID0gJ3N0b3BQcm9wYWdhdGlvbl8nO1xyXG5jb25zdCBpbnRlcmFjdGl2ZVJvb3RDb21wb25lbnRQcm9wbmFtZSA9IFN5bWJvbCgpO1xyXG5jb25zdCBwcmVzZXJ2ZUNvbnRlbnRPbkRpc3Bvc2FsUHJvcG5hbWUgPSBTeW1ib2woKTtcclxuXHJcbmV4cG9ydCBjbGFzcyBCcm93c2VyUmVuZGVyZXIge1xyXG4gIHB1YmxpYyBldmVudERlbGVnYXRvcjogRXZlbnREZWxlZ2F0b3I7XHJcblxyXG4gIHByaXZhdGUgcm9vdENvbXBvbmVudElkcyA9IG5ldyBTZXQ8bnVtYmVyPigpO1xyXG5cclxuICBwcml2YXRlIGNoaWxkQ29tcG9uZW50TG9jYXRpb25zOiB7IFtjb21wb25lbnRJZDogbnVtYmVyXTogTG9naWNhbEVsZW1lbnQgfSA9IHt9O1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoYnJvd3NlclJlbmRlcmVySWQ6IG51bWJlcikge1xyXG4gICAgdGhpcy5ldmVudERlbGVnYXRvciA9IG5ldyBFdmVudERlbGVnYXRvcihicm93c2VyUmVuZGVyZXJJZCk7XHJcblxyXG4gICAgLy8gV2UgZG9uJ3QgeWV0IGtub3cgd2hldGhlciBvciBub3QgbmF2aWdhdGlvbiBpbnRlcmNlcHRpb24gd2lsbCBiZSBlbmFibGVkLCBidXQgaW4gY2FzZSBpdCB3aWxsIGJlLFxyXG4gICAgLy8gd2Ugd2lyZSB1cCB0aGUgbmF2aWdhdGlvbiBtYW5hZ2VyIHRvIHRoZSBldmVudCBkZWxlZ2F0b3Igc28gaXQgaGFzIHRoZSBvcHRpb24gdG8gcGFydGljaXBhdGVcclxuICAgIC8vIGluIHRoZSBzeW50aGV0aWMgZXZlbnQgYnViYmxpbmcgcHJvY2VzcyBsYXRlclxyXG4gICAgYXR0YWNoTmF2aWdhdGlvbk1hbmFnZXJUb0V2ZW50RGVsZWdhdG9yKHRoaXMuZXZlbnREZWxlZ2F0b3IpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldFJvb3RDb21wb25lbnRDb3VudCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMucm9vdENvbXBvbmVudElkcy5zaXplO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGF0dGFjaFJvb3RDb21wb25lbnRUb0xvZ2ljYWxFbGVtZW50KGNvbXBvbmVudElkOiBudW1iZXIsIGVsZW1lbnQ6IExvZ2ljYWxFbGVtZW50LCBhcHBlbmRDb250ZW50OiBib29sZWFuKTogdm9pZCB7XHJcbiAgICBpZiAoaXNJbnRlcmFjdGl2ZVJvb3RDb21wb25lbnRFbGVtZW50KGVsZW1lbnQpKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUm9vdCBjb21wb25lbnQgJyR7Y29tcG9uZW50SWR9JyBjb3VsZCBub3QgYmUgYXR0YWNoZWQgYmVjYXVzZSBpdHMgdGFyZ2V0IGVsZW1lbnQgaXMgYWxyZWFkeSBhc3NvY2lhdGVkIHdpdGggYSByb290IGNvbXBvbmVudGApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIHdlIHdhbnQgdG8gYXBwZW5kIGNvbnRlbnQgdG8gdGhlIGVuZCBvZiB0aGUgZWxlbWVudCwgd2UgY3JlYXRlIGEgbmV3IGxvZ2ljYWwgY2hpbGQgY29udGFpbmVyXHJcbiAgICAvLyBhdCB0aGUgZW5kIG9mIHRoZSBlbGVtZW50IGFuZCB0cmVhdCB0aGF0IGFzIHRoZSBuZXcgcGFyZW50LlxyXG4gICAgaWYgKGFwcGVuZENvbnRlbnQpIHtcclxuICAgICAgY29uc3QgaW5kZXhBZnRlckxhc3RDaGlsZCA9IGdldExvZ2ljYWxDaGlsZHJlbkFycmF5KGVsZW1lbnQpLmxlbmd0aDtcclxuICAgICAgZWxlbWVudCA9IGNyZWF0ZUFuZEluc2VydExvZ2ljYWxDb250YWluZXIoZWxlbWVudCwgaW5kZXhBZnRlckxhc3RDaGlsZCk7XHJcbiAgICB9XHJcblxyXG4gICAgbWFya0FzSW50ZXJhY3RpdmVSb290Q29tcG9uZW50RWxlbWVudChlbGVtZW50LCB0cnVlKTtcclxuICAgIHRoaXMuYXR0YWNoQ29tcG9uZW50VG9FbGVtZW50KGNvbXBvbmVudElkLCBlbGVtZW50KTtcclxuICAgIHRoaXMucm9vdENvbXBvbmVudElkcy5hZGQoY29tcG9uZW50SWQpO1xyXG5cclxuICAgIGVsZW1lbnRzVG9DbGVhck9uUm9vdENvbXBvbmVudFJlbmRlci5hZGQoZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdXBkYXRlQ29tcG9uZW50KGJhdGNoOiBSZW5kZXJCYXRjaCwgY29tcG9uZW50SWQ6IG51bWJlciwgZWRpdHM6IEFycmF5QnVpbGRlclNlZ21lbnQ8UmVuZGVyVHJlZUVkaXQ+LCByZWZlcmVuY2VGcmFtZXM6IEFycmF5VmFsdWVzPFJlbmRlclRyZWVGcmFtZT4pOiB2b2lkIHtcclxuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmNoaWxkQ29tcG9uZW50TG9jYXRpb25zW2NvbXBvbmVudElkXTtcclxuICAgIGlmICghZWxlbWVudCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGVsZW1lbnQgaXMgY3VycmVudGx5IGFzc29jaWF0ZWQgd2l0aCBjb21wb25lbnQgJHtjb21wb25lbnRJZH1gKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBPbiB0aGUgZmlyc3QgcmVuZGVyIGZvciBlYWNoIHJvb3QgY29tcG9uZW50LCBjbGVhciBhbnkgZXhpc3RpbmcgY29udGVudCAoZS5nLiwgcHJlcmVuZGVyZWQpXHJcbiAgICBpZiAoZWxlbWVudHNUb0NsZWFyT25Sb290Q29tcG9uZW50UmVuZGVyLmRlbGV0ZShlbGVtZW50KSkge1xyXG4gICAgICB0aGlzLmRldGFjaEV2ZW50SGFuZGxlcnNGcm9tRWxlbWVudChlbGVtZW50KTtcclxuICAgICAgZW1wdHlMb2dpY2FsRWxlbWVudChlbGVtZW50KTtcclxuXHJcbiAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgQ29tbWVudCkge1xyXG4gICAgICAgIC8vIFdlIHNhbml0aXplIHN0YXJ0IGNvbW1lbnRzIGJ5IHJlbW92aW5nIGFsbCB0aGUgaW5mb3JtYXRpb24gZnJvbSBpdCBub3cgdGhhdCB3ZSBkb24ndCBuZWVkIGl0IGFueW1vcmVcclxuICAgICAgICAvLyBhcyBpdCBhZGRzIG5vaXNlIHRvIHRoZSBET00uXHJcbiAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9ICchJztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG93bmVyRG9jdW1lbnQgPSBnZXRDbG9zZXN0RG9tRWxlbWVudChlbGVtZW50KT8uZ2V0Um9vdE5vZGUoKSBhcyBEb2N1bWVudDtcclxuICAgIGNvbnN0IGFjdGl2ZUVsZW1lbnRCZWZvcmUgPSBvd25lckRvY3VtZW50ICYmIG93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcclxuXHJcbiAgICB0aGlzLmFwcGx5RWRpdHMoYmF0Y2gsIGNvbXBvbmVudElkLCBlbGVtZW50LCAwLCBlZGl0cywgcmVmZXJlbmNlRnJhbWVzKTtcclxuXHJcbiAgICAvLyBUcnkgdG8gcmVzdG9yZSBmb2N1cyBpbiBjYXNlIGl0IHdhcyBsb3N0IGR1ZSB0byBhbiBlbGVtZW50IG1vdmVcclxuICAgIGlmICgoYWN0aXZlRWxlbWVudEJlZm9yZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSAmJiBvd25lckRvY3VtZW50ICYmIG93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gYWN0aXZlRWxlbWVudEJlZm9yZSkge1xyXG4gICAgICBhY3RpdmVFbGVtZW50QmVmb3JlLmZvY3VzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZGlzcG9zZUNvbXBvbmVudChjb21wb25lbnRJZDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5yb290Q29tcG9uZW50SWRzLmRlbGV0ZShjb21wb25lbnRJZCkpIHtcclxuICAgICAgLy8gV2hlbiBkaXNwb3NpbmcgYSByb290IGNvbXBvbmVudCwgdGhlIGNvbnRhaW5lciBlbGVtZW50IHdvbid0IGJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NIChiZWNhdXNlIHRoZXJlJ3NcclxuICAgICAgLy8gbm8gcGFyZW50IHRvIHJlbW92ZSB0aGF0IGNoaWxkKSwgc28gd2UgZW1wdHkgaXQgdG8gcmVzdG9yZSBpdCB0byB0aGUgc3RhdGUgaXQgd2FzIGluIGJlZm9yZSB0aGUgcm9vdFxyXG4gICAgICAvLyBjb21wb25lbnQgd2FzIGFkZGVkLlxyXG4gICAgICBjb25zdCBsb2dpY2FsRWxlbWVudCA9IHRoaXMuY2hpbGRDb21wb25lbnRMb2NhdGlvbnNbY29tcG9uZW50SWRdO1xyXG4gICAgICBtYXJrQXNJbnRlcmFjdGl2ZVJvb3RDb21wb25lbnRFbGVtZW50KGxvZ2ljYWxFbGVtZW50LCBmYWxzZSk7XHJcblxyXG4gICAgICBpZiAoc2hvdWxkUHJlc2VydmVDb250ZW50T25JbnRlcmFjdGl2ZUNvbXBvbmVudERpc3Bvc2FsKGxvZ2ljYWxFbGVtZW50KSkge1xyXG4gICAgICAgIGVsZW1lbnRzVG9DbGVhck9uUm9vdENvbXBvbmVudFJlbmRlci5hZGQobG9naWNhbEVsZW1lbnQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGVtcHR5TG9naWNhbEVsZW1lbnQobG9naWNhbEVsZW1lbnQpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlIHRoaXMuY2hpbGRDb21wb25lbnRMb2NhdGlvbnNbY29tcG9uZW50SWRdO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGRpc3Bvc2VFdmVudEhhbmRsZXIoZXZlbnRIYW5kbGVySWQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgdGhpcy5ldmVudERlbGVnYXRvci5yZW1vdmVMaXN0ZW5lcihldmVudEhhbmRsZXJJZCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGF0dGFjaENvbXBvbmVudFRvRWxlbWVudChjb21wb25lbnRJZDogbnVtYmVyLCBlbGVtZW50OiBMb2dpY2FsRWxlbWVudCkge1xyXG4gICAgdGhpcy5jaGlsZENvbXBvbmVudExvY2F0aW9uc1tjb21wb25lbnRJZF0gPSBlbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBkZXRhY2hFdmVudEhhbmRsZXJzRnJvbUVsZW1lbnQoZWxlbWVudDogTG9naWNhbEVsZW1lbnQpOiB2b2lkIHtcclxuICAgIGZvciAoY29uc3QgY2hpbGROb2RlIG9mIGRlcHRoRmlyc3ROb2RlVHJlZVRyYXZlcnNhbChlbGVtZW50KSkge1xyXG4gICAgICBpZiAoY2hpbGROb2RlIGluc3RhbmNlb2YgRWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnREZWxlZ2F0b3IucmVtb3ZlTGlzdGVuZXJzRm9yRWxlbWVudChjaGlsZE5vZGUgYXMgRWxlbWVudCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXBwbHlFZGl0cyhiYXRjaDogUmVuZGVyQmF0Y2gsIGNvbXBvbmVudElkOiBudW1iZXIsIHBhcmVudDogTG9naWNhbEVsZW1lbnQsIGNoaWxkSW5kZXg6IG51bWJlciwgZWRpdHM6IEFycmF5QnVpbGRlclNlZ21lbnQ8UmVuZGVyVHJlZUVkaXQ+LCByZWZlcmVuY2VGcmFtZXM6IEFycmF5VmFsdWVzPFJlbmRlclRyZWVGcmFtZT4pIHtcclxuICAgIGxldCBjdXJyZW50RGVwdGggPSAwO1xyXG4gICAgbGV0IGNoaWxkSW5kZXhBdEN1cnJlbnREZXB0aCA9IGNoaWxkSW5kZXg7XHJcbiAgICBsZXQgcGVybXV0YXRpb25MaXN0OiBQZXJtdXRhdGlvbkxpc3RFbnRyeVtdIHwgdW5kZWZpbmVkO1xyXG5cclxuICAgIGNvbnN0IGFycmF5QnVpbGRlclNlZ21lbnRSZWFkZXIgPSBiYXRjaC5hcnJheUJ1aWxkZXJTZWdtZW50UmVhZGVyO1xyXG4gICAgY29uc3QgZWRpdFJlYWRlciA9IGJhdGNoLmVkaXRSZWFkZXI7XHJcbiAgICBjb25zdCBmcmFtZVJlYWRlciA9IGJhdGNoLmZyYW1lUmVhZGVyO1xyXG4gICAgY29uc3QgZWRpdHNWYWx1ZXMgPSBhcnJheUJ1aWxkZXJTZWdtZW50UmVhZGVyLnZhbHVlcyhlZGl0cyk7XHJcbiAgICBjb25zdCBlZGl0c09mZnNldCA9IGFycmF5QnVpbGRlclNlZ21lbnRSZWFkZXIub2Zmc2V0KGVkaXRzKTtcclxuICAgIGNvbnN0IGVkaXRzTGVuZ3RoID0gYXJyYXlCdWlsZGVyU2VnbWVudFJlYWRlci5jb3VudChlZGl0cyk7XHJcbiAgICBjb25zdCBtYXhFZGl0SW5kZXhFeGNsID0gZWRpdHNPZmZzZXQgKyBlZGl0c0xlbmd0aDtcclxuXHJcbiAgICBmb3IgKGxldCBlZGl0SW5kZXggPSBlZGl0c09mZnNldDsgZWRpdEluZGV4IDwgbWF4RWRpdEluZGV4RXhjbDsgZWRpdEluZGV4KyspIHtcclxuICAgICAgY29uc3QgZWRpdCA9IGJhdGNoLmRpZmZSZWFkZXIuZWRpdHNFbnRyeShlZGl0c1ZhbHVlcywgZWRpdEluZGV4KTtcclxuICAgICAgY29uc3QgZWRpdFR5cGUgPSBlZGl0UmVhZGVyLmVkaXRUeXBlKGVkaXQpO1xyXG4gICAgICBzd2l0Y2ggKGVkaXRUeXBlKSB7XHJcbiAgICAgICAgY2FzZSBFZGl0VHlwZS5wcmVwZW5kRnJhbWU6IHtcclxuICAgICAgICAgIGNvbnN0IGZyYW1lSW5kZXggPSBlZGl0UmVhZGVyLm5ld1RyZWVJbmRleChlZGl0KTtcclxuICAgICAgICAgIGNvbnN0IGZyYW1lID0gYmF0Y2gucmVmZXJlbmNlRnJhbWVzRW50cnkocmVmZXJlbmNlRnJhbWVzLCBmcmFtZUluZGV4KTtcclxuICAgICAgICAgIGNvbnN0IHNpYmxpbmdJbmRleCA9IGVkaXRSZWFkZXIuc2libGluZ0luZGV4KGVkaXQpO1xyXG4gICAgICAgICAgdGhpcy5pbnNlcnRGcmFtZShiYXRjaCwgY29tcG9uZW50SWQsIHBhcmVudCwgY2hpbGRJbmRleEF0Q3VycmVudERlcHRoICsgc2libGluZ0luZGV4LCByZWZlcmVuY2VGcmFtZXMsIGZyYW1lLCBmcmFtZUluZGV4KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIEVkaXRUeXBlLnJlbW92ZUZyYW1lOiB7XHJcbiAgICAgICAgICBjb25zdCBzaWJsaW5nSW5kZXggPSBlZGl0UmVhZGVyLnNpYmxpbmdJbmRleChlZGl0KTtcclxuICAgICAgICAgIHJlbW92ZUxvZ2ljYWxDaGlsZChwYXJlbnQsIGNoaWxkSW5kZXhBdEN1cnJlbnREZXB0aCArIHNpYmxpbmdJbmRleCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSBFZGl0VHlwZS5zZXRBdHRyaWJ1dGU6IHtcclxuICAgICAgICAgIGNvbnN0IGZyYW1lSW5kZXggPSBlZGl0UmVhZGVyLm5ld1RyZWVJbmRleChlZGl0KTtcclxuICAgICAgICAgIGNvbnN0IGZyYW1lID0gYmF0Y2gucmVmZXJlbmNlRnJhbWVzRW50cnkocmVmZXJlbmNlRnJhbWVzLCBmcmFtZUluZGV4KTtcclxuICAgICAgICAgIGNvbnN0IHNpYmxpbmdJbmRleCA9IGVkaXRSZWFkZXIuc2libGluZ0luZGV4KGVkaXQpO1xyXG4gICAgICAgICAgY29uc3QgZWxlbWVudCA9IGdldExvZ2ljYWxDaGlsZChwYXJlbnQsIGNoaWxkSW5kZXhBdEN1cnJlbnREZXB0aCArIHNpYmxpbmdJbmRleCk7XHJcbiAgICAgICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5hcHBseUF0dHJpYnV0ZShiYXRjaCwgY29tcG9uZW50SWQsIGVsZW1lbnQsIGZyYW1lKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHNldCBhdHRyaWJ1dGUgb24gbm9uLWVsZW1lbnQgY2hpbGQnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIEVkaXRUeXBlLnJlbW92ZUF0dHJpYnV0ZToge1xyXG4gICAgICAgICAgLy8gTm90ZSB0aGF0IHdlIGRvbid0IGhhdmUgdG8gZGlzcG9zZSB0aGUgaW5mbyB3ZSB0cmFjayBhYm91dCBldmVudCBoYW5kbGVycyBoZXJlLCBiZWNhdXNlIHRoZVxyXG4gICAgICAgICAgLy8gZGlzcG9zZWQgZXZlbnQgaGFuZGxlciBJRHMgYXJlIGRlbGl2ZXJlZCBzZXBhcmF0ZWx5IChpbiB0aGUgJ2Rpc3Bvc2VkRXZlbnRIYW5kbGVySWRzJyBhcnJheSlcclxuICAgICAgICAgIGNvbnN0IHNpYmxpbmdJbmRleCA9IGVkaXRSZWFkZXIuc2libGluZ0luZGV4KGVkaXQpO1xyXG4gICAgICAgICAgY29uc3QgZWxlbWVudCA9IGdldExvZ2ljYWxDaGlsZChwYXJlbnQsIGNoaWxkSW5kZXhBdEN1cnJlbnREZXB0aCArIHNpYmxpbmdJbmRleCk7XHJcbiAgICAgICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlTmFtZSA9IGVkaXRSZWFkZXIucmVtb3ZlZEF0dHJpYnV0ZU5hbWUoZWRpdCkhO1xyXG4gICAgICAgICAgICB0aGlzLnNldE9yUmVtb3ZlQXR0cmlidXRlT3JQcm9wZXJ0eShlbGVtZW50LCBhdHRyaWJ1dGVOYW1lLCBudWxsKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHJlbW92ZSBhdHRyaWJ1dGUgZnJvbSBub24tZWxlbWVudCBjaGlsZCcpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgRWRpdFR5cGUudXBkYXRlVGV4dDoge1xyXG4gICAgICAgICAgY29uc3QgZnJhbWVJbmRleCA9IGVkaXRSZWFkZXIubmV3VHJlZUluZGV4KGVkaXQpO1xyXG4gICAgICAgICAgY29uc3QgZnJhbWUgPSBiYXRjaC5yZWZlcmVuY2VGcmFtZXNFbnRyeShyZWZlcmVuY2VGcmFtZXMsIGZyYW1lSW5kZXgpO1xyXG4gICAgICAgICAgY29uc3Qgc2libGluZ0luZGV4ID0gZWRpdFJlYWRlci5zaWJsaW5nSW5kZXgoZWRpdCk7XHJcbiAgICAgICAgICBjb25zdCB0ZXh0Tm9kZSA9IGdldExvZ2ljYWxDaGlsZChwYXJlbnQsIGNoaWxkSW5kZXhBdEN1cnJlbnREZXB0aCArIHNpYmxpbmdJbmRleCk7XHJcbiAgICAgICAgICBpZiAodGV4dE5vZGUgaW5zdGFuY2VvZiBUZXh0KSB7XHJcbiAgICAgICAgICAgIHRleHROb2RlLnRleHRDb250ZW50ID0gZnJhbWVSZWFkZXIudGV4dENvbnRlbnQoZnJhbWUpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgc2V0IHRleHQgY29udGVudCBvbiBub24tdGV4dCBjaGlsZCcpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgRWRpdFR5cGUudXBkYXRlTWFya3VwOiB7XHJcbiAgICAgICAgICBjb25zdCBmcmFtZUluZGV4ID0gZWRpdFJlYWRlci5uZXdUcmVlSW5kZXgoZWRpdCk7XHJcbiAgICAgICAgICBjb25zdCBmcmFtZSA9IGJhdGNoLnJlZmVyZW5jZUZyYW1lc0VudHJ5KHJlZmVyZW5jZUZyYW1lcywgZnJhbWVJbmRleCk7XHJcbiAgICAgICAgICBjb25zdCBzaWJsaW5nSW5kZXggPSBlZGl0UmVhZGVyLnNpYmxpbmdJbmRleChlZGl0KTtcclxuICAgICAgICAgIHJlbW92ZUxvZ2ljYWxDaGlsZChwYXJlbnQsIGNoaWxkSW5kZXhBdEN1cnJlbnREZXB0aCArIHNpYmxpbmdJbmRleCk7XHJcbiAgICAgICAgICB0aGlzLmluc2VydE1hcmt1cChiYXRjaCwgcGFyZW50LCBjaGlsZEluZGV4QXRDdXJyZW50RGVwdGggKyBzaWJsaW5nSW5kZXgsIGZyYW1lKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIEVkaXRUeXBlLnN0ZXBJbjoge1xyXG4gICAgICAgICAgY29uc3Qgc2libGluZ0luZGV4ID0gZWRpdFJlYWRlci5zaWJsaW5nSW5kZXgoZWRpdCk7XHJcbiAgICAgICAgICBwYXJlbnQgPSBnZXRMb2dpY2FsQ2hpbGQocGFyZW50LCBjaGlsZEluZGV4QXRDdXJyZW50RGVwdGggKyBzaWJsaW5nSW5kZXgpO1xyXG4gICAgICAgICAgY3VycmVudERlcHRoKys7XHJcbiAgICAgICAgICBjaGlsZEluZGV4QXRDdXJyZW50RGVwdGggPSAwO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgRWRpdFR5cGUuc3RlcE91dDoge1xyXG4gICAgICAgICAgcGFyZW50ID0gZ2V0TG9naWNhbFBhcmVudChwYXJlbnQpITtcclxuICAgICAgICAgIGN1cnJlbnREZXB0aC0tO1xyXG4gICAgICAgICAgY2hpbGRJbmRleEF0Q3VycmVudERlcHRoID0gY3VycmVudERlcHRoID09PSAwID8gY2hpbGRJbmRleCA6IDA7IC8vIFRoZSBjaGlsZEluZGV4IGlzIG9ubHkgZXZlciBub256ZXJvIGF0IHplcm8gZGVwdGhcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIEVkaXRUeXBlLnBlcm11dGF0aW9uTGlzdEVudHJ5OiB7XHJcbiAgICAgICAgICBwZXJtdXRhdGlvbkxpc3QgPSBwZXJtdXRhdGlvbkxpc3QgfHwgW107XHJcbiAgICAgICAgICBwZXJtdXRhdGlvbkxpc3QucHVzaCh7XHJcbiAgICAgICAgICAgIGZyb21TaWJsaW5nSW5kZXg6IGNoaWxkSW5kZXhBdEN1cnJlbnREZXB0aCArIGVkaXRSZWFkZXIuc2libGluZ0luZGV4KGVkaXQpLFxyXG4gICAgICAgICAgICB0b1NpYmxpbmdJbmRleDogY2hpbGRJbmRleEF0Q3VycmVudERlcHRoICsgZWRpdFJlYWRlci5tb3ZlVG9TaWJsaW5nSW5kZXgoZWRpdCksXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIEVkaXRUeXBlLnBlcm11dGF0aW9uTGlzdEVuZDoge1xyXG4gICAgICAgICAgcGVybXV0ZUxvZ2ljYWxDaGlsZHJlbihwYXJlbnQsIHBlcm11dGF0aW9uTGlzdCEpO1xyXG4gICAgICAgICAgcGVybXV0YXRpb25MaXN0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlZmF1bHQ6IHtcclxuICAgICAgICAgIGNvbnN0IHVua25vd25UeXBlOiBuZXZlciA9IGVkaXRUeXBlOyAvLyBDb21waWxlLXRpbWUgdmVyaWZpY2F0aW9uIHRoYXQgdGhlIHN3aXRjaCB3YXMgZXhoYXVzdGl2ZVxyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGVkaXQgdHlwZTogJHt1bmtub3duVHlwZX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5zZXJ0RnJhbWUoYmF0Y2g6IFJlbmRlckJhdGNoLCBjb21wb25lbnRJZDogbnVtYmVyLCBwYXJlbnQ6IExvZ2ljYWxFbGVtZW50LCBjaGlsZEluZGV4OiBudW1iZXIsIGZyYW1lczogQXJyYXlWYWx1ZXM8UmVuZGVyVHJlZUZyYW1lPiwgZnJhbWU6IFJlbmRlclRyZWVGcmFtZSwgZnJhbWVJbmRleDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IGZyYW1lUmVhZGVyID0gYmF0Y2guZnJhbWVSZWFkZXI7XHJcbiAgICBjb25zdCBmcmFtZVR5cGUgPSBmcmFtZVJlYWRlci5mcmFtZVR5cGUoZnJhbWUpO1xyXG4gICAgc3dpdGNoIChmcmFtZVR5cGUpIHtcclxuICAgICAgY2FzZSBGcmFtZVR5cGUuZWxlbWVudDpcclxuICAgICAgICB0aGlzLmluc2VydEVsZW1lbnQoYmF0Y2gsIGNvbXBvbmVudElkLCBwYXJlbnQsIGNoaWxkSW5kZXgsIGZyYW1lcywgZnJhbWUsIGZyYW1lSW5kZXgpO1xyXG4gICAgICAgIHJldHVybiAxO1xyXG4gICAgICBjYXNlIEZyYW1lVHlwZS50ZXh0OlxyXG4gICAgICAgIHRoaXMuaW5zZXJ0VGV4dChiYXRjaCwgcGFyZW50LCBjaGlsZEluZGV4LCBmcmFtZSk7XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgIGNhc2UgRnJhbWVUeXBlLmF0dHJpYnV0ZTpcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0F0dHJpYnV0ZSBmcmFtZXMgc2hvdWxkIG9ubHkgYmUgcHJlc2VudCBhcyBsZWFkaW5nIGNoaWxkcmVuIG9mIGVsZW1lbnQgZnJhbWVzLicpO1xyXG4gICAgICBjYXNlIEZyYW1lVHlwZS5jb21wb25lbnQ6XHJcbiAgICAgICAgdGhpcy5pbnNlcnRDb21wb25lbnQoYmF0Y2gsIHBhcmVudCwgY2hpbGRJbmRleCwgZnJhbWUpO1xyXG4gICAgICAgIHJldHVybiAxO1xyXG4gICAgICBjYXNlIEZyYW1lVHlwZS5yZWdpb246XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0RnJhbWVSYW5nZShiYXRjaCwgY29tcG9uZW50SWQsIHBhcmVudCwgY2hpbGRJbmRleCwgZnJhbWVzLCBmcmFtZUluZGV4ICsgMSwgZnJhbWVJbmRleCArIGZyYW1lUmVhZGVyLnN1YnRyZWVMZW5ndGgoZnJhbWUpKTtcclxuICAgICAgY2FzZSBGcmFtZVR5cGUuZWxlbWVudFJlZmVyZW5jZUNhcHR1cmU6XHJcbiAgICAgICAgaWYgKHBhcmVudCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcclxuICAgICAgICAgIGFwcGx5Q2FwdHVyZUlkVG9FbGVtZW50KHBhcmVudCwgZnJhbWVSZWFkZXIuZWxlbWVudFJlZmVyZW5jZUNhcHR1cmVJZChmcmFtZSkhKTtcclxuICAgICAgICAgIHJldHVybiAwOyAvLyBBIFwiY2FwdHVyZVwiIGlzIGEgY2hpbGQgaW4gdGhlIGRpZmYsIGJ1dCBoYXMgbm8gbm9kZSBpbiB0aGUgRE9NXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVmZXJlbmNlIGNhcHR1cmUgZnJhbWVzIGNhbiBvbmx5IGJlIGNoaWxkcmVuIG9mIGVsZW1lbnQgZnJhbWVzLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgY2FzZSBGcmFtZVR5cGUubWFya3VwOlxyXG4gICAgICAgIHRoaXMuaW5zZXJ0TWFya3VwKGJhdGNoLCBwYXJlbnQsIGNoaWxkSW5kZXgsIGZyYW1lKTtcclxuICAgICAgICByZXR1cm4gMTtcclxuICAgICAgY2FzZSBGcmFtZVR5cGUubmFtZWRFdmVudDogLy8gTm90IHVzZWQgb24gdGhlIEpTIHNpZGVcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgICAgZGVmYXVsdDoge1xyXG4gICAgICAgIGNvbnN0IHVua25vd25UeXBlOiBuZXZlciA9IGZyYW1lVHlwZTsgLy8gQ29tcGlsZS10aW1lIHZlcmlmaWNhdGlvbiB0aGF0IHRoZSBzd2l0Y2ggd2FzIGV4aGF1c3RpdmVcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gZnJhbWUgdHlwZTogJHt1bmtub3duVHlwZX1gKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpbnNlcnRFbGVtZW50KGJhdGNoOiBSZW5kZXJCYXRjaCwgY29tcG9uZW50SWQ6IG51bWJlciwgcGFyZW50OiBMb2dpY2FsRWxlbWVudCwgY2hpbGRJbmRleDogbnVtYmVyLCBmcmFtZXM6IEFycmF5VmFsdWVzPFJlbmRlclRyZWVGcmFtZT4sIGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUsIGZyYW1lSW5kZXg6IG51bWJlcikge1xyXG4gICAgY29uc3QgZnJhbWVSZWFkZXIgPSBiYXRjaC5mcmFtZVJlYWRlcjtcclxuICAgIGNvbnN0IHRhZ05hbWUgPSBmcmFtZVJlYWRlci5lbGVtZW50TmFtZShmcmFtZSkhO1xyXG5cclxuICAgIGNvbnN0IG5ld0RvbUVsZW1lbnRSYXcgPSAodGFnTmFtZSA9PT0gJ3N2ZycgfHwgaXNTdmdFbGVtZW50KHBhcmVudCkpID9cclxuICAgICAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIHRhZ05hbWUpIDpcclxuICAgICAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcclxuICAgIGNvbnN0IG5ld0VsZW1lbnQgPSB0b0xvZ2ljYWxFbGVtZW50KG5ld0RvbUVsZW1lbnRSYXcpO1xyXG5cclxuICAgIGxldCBpbnNlcnRlZCA9IGZhbHNlO1xyXG5cclxuICAgIC8vIEFwcGx5IGF0dHJpYnV0ZXNcclxuICAgIGNvbnN0IGRlc2NlbmRhbnRzRW5kSW5kZXhFeGNsID0gZnJhbWVJbmRleCArIGZyYW1lUmVhZGVyLnN1YnRyZWVMZW5ndGgoZnJhbWUpO1xyXG4gICAgZm9yIChsZXQgZGVzY2VuZGFudEluZGV4ID0gZnJhbWVJbmRleCArIDE7IGRlc2NlbmRhbnRJbmRleCA8IGRlc2NlbmRhbnRzRW5kSW5kZXhFeGNsOyBkZXNjZW5kYW50SW5kZXgrKykge1xyXG4gICAgICBjb25zdCBkZXNjZW5kYW50RnJhbWUgPSBiYXRjaC5yZWZlcmVuY2VGcmFtZXNFbnRyeShmcmFtZXMsIGRlc2NlbmRhbnRJbmRleCk7XHJcbiAgICAgIGlmIChmcmFtZVJlYWRlci5mcmFtZVR5cGUoZGVzY2VuZGFudEZyYW1lKSA9PT0gRnJhbWVUeXBlLmF0dHJpYnV0ZSkge1xyXG4gICAgICAgIHRoaXMuYXBwbHlBdHRyaWJ1dGUoYmF0Y2gsIGNvbXBvbmVudElkLCBuZXdEb21FbGVtZW50UmF3LCBkZXNjZW5kYW50RnJhbWUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGluc2VydExvZ2ljYWxDaGlsZChuZXdEb21FbGVtZW50UmF3LCBwYXJlbnQsIGNoaWxkSW5kZXgpO1xyXG4gICAgICAgIGluc2VydGVkID0gdHJ1ZTtcclxuICAgICAgICAvLyBBcyBzb29uIGFzIHdlIHNlZSBhIG5vbi1hdHRyaWJ1dGUgY2hpbGQsIGFsbCB0aGUgc3Vic2VxdWVudCBjaGlsZCBmcmFtZXMgYXJlXHJcbiAgICAgICAgLy8gbm90IGF0dHJpYnV0ZXMsIHNvIGJhaWwgb3V0IGFuZCBpbnNlcnQgdGhlIHJlbW5hbnRzIHJlY3Vyc2l2ZWx5XHJcbiAgICAgICAgdGhpcy5pbnNlcnRGcmFtZVJhbmdlKGJhdGNoLCBjb21wb25lbnRJZCwgbmV3RWxlbWVudCwgMCwgZnJhbWVzLCBkZXNjZW5kYW50SW5kZXgsIGRlc2NlbmRhbnRzRW5kSW5kZXhFeGNsKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHRoaXMgZWxlbWVudCBkaWQgbm90IGhhdmUgYW55IGNoaWxkcmVuLCBzbyBpdCdzIG5vdCBpbnNlcnRlZCB5ZXQuXHJcbiAgICBpZiAoIWluc2VydGVkKSB7XHJcbiAgICAgIGluc2VydExvZ2ljYWxDaGlsZChuZXdEb21FbGVtZW50UmF3LCBwYXJlbnQsIGNoaWxkSW5kZXgpO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5QW55RGVmZXJyZWRWYWx1ZShuZXdEb21FbGVtZW50UmF3KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5zZXJ0Q29tcG9uZW50KGJhdGNoOiBSZW5kZXJCYXRjaCwgcGFyZW50OiBMb2dpY2FsRWxlbWVudCwgY2hpbGRJbmRleDogbnVtYmVyLCBmcmFtZTogUmVuZGVyVHJlZUZyYW1lKSB7XHJcbiAgICBjb25zdCBjb250YWluZXJFbGVtZW50ID0gY3JlYXRlQW5kSW5zZXJ0TG9naWNhbENvbnRhaW5lcihwYXJlbnQsIGNoaWxkSW5kZXgpO1xyXG5cclxuICAgIC8vIEFsbCB3ZSBoYXZlIHRvIGRvIGlzIGFzc29jaWF0ZSB0aGUgY2hpbGQgY29tcG9uZW50IElEIHdpdGggaXRzIGxvY2F0aW9uLiBXZSBkb24ndCBhY3R1YWxseVxyXG4gICAgLy8gZG8gYW55IHJlbmRlcmluZyBoZXJlLCBiZWNhdXNlIHRoZSBkaWZmIGZvciB0aGUgY2hpbGQgd2lsbCBhcHBlYXIgbGF0ZXIgaW4gdGhlIHJlbmRlciBiYXRjaC5cclxuICAgIGNvbnN0IGNoaWxkQ29tcG9uZW50SWQgPSBiYXRjaC5mcmFtZVJlYWRlci5jb21wb25lbnRJZChmcmFtZSk7XHJcbiAgICB0aGlzLmF0dGFjaENvbXBvbmVudFRvRWxlbWVudChjaGlsZENvbXBvbmVudElkLCBjb250YWluZXJFbGVtZW50KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5zZXJ0VGV4dChiYXRjaDogUmVuZGVyQmF0Y2gsIHBhcmVudDogTG9naWNhbEVsZW1lbnQsIGNoaWxkSW5kZXg6IG51bWJlciwgdGV4dEZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpIHtcclxuICAgIGNvbnN0IHRleHRDb250ZW50ID0gYmF0Y2guZnJhbWVSZWFkZXIudGV4dENvbnRlbnQodGV4dEZyYW1lKSE7XHJcbiAgICBjb25zdCBuZXdUZXh0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRleHRDb250ZW50KTtcclxuICAgIGluc2VydExvZ2ljYWxDaGlsZChuZXdUZXh0Tm9kZSwgcGFyZW50LCBjaGlsZEluZGV4KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5zZXJ0TWFya3VwKGJhdGNoOiBSZW5kZXJCYXRjaCwgcGFyZW50OiBMb2dpY2FsRWxlbWVudCwgY2hpbGRJbmRleDogbnVtYmVyLCBtYXJrdXBGcmFtZTogUmVuZGVyVHJlZUZyYW1lKSB7XHJcbiAgICBjb25zdCBtYXJrdXBDb250YWluZXIgPSBjcmVhdGVBbmRJbnNlcnRMb2dpY2FsQ29udGFpbmVyKHBhcmVudCwgY2hpbGRJbmRleCk7XHJcblxyXG4gICAgY29uc3QgbWFya3VwQ29udGVudCA9IGJhdGNoLmZyYW1lUmVhZGVyLm1hcmt1cENvbnRlbnQobWFya3VwRnJhbWUpO1xyXG4gICAgY29uc3QgcGFyc2VkTWFya3VwID0gcGFyc2VNYXJrdXAobWFya3VwQ29udGVudCwgaXNTdmdFbGVtZW50KHBhcmVudCkpO1xyXG4gICAgbGV0IGxvZ2ljYWxTaWJsaW5nSW5kZXggPSAwO1xyXG4gICAgd2hpbGUgKHBhcnNlZE1hcmt1cC5maXJzdENoaWxkKSB7XHJcbiAgICAgIGluc2VydExvZ2ljYWxDaGlsZChwYXJzZWRNYXJrdXAuZmlyc3RDaGlsZCwgbWFya3VwQ29udGFpbmVyLCBsb2dpY2FsU2libGluZ0luZGV4KyspO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhcHBseUF0dHJpYnV0ZShiYXRjaDogUmVuZGVyQmF0Y2gsIGNvbXBvbmVudElkOiBudW1iZXIsIHRvRG9tRWxlbWVudDogRWxlbWVudCwgYXR0cmlidXRlRnJhbWU6IFJlbmRlclRyZWVGcmFtZSkge1xyXG4gICAgY29uc3QgZnJhbWVSZWFkZXIgPSBiYXRjaC5mcmFtZVJlYWRlcjtcclxuICAgIGNvbnN0IGF0dHJpYnV0ZU5hbWUgPSBmcmFtZVJlYWRlci5hdHRyaWJ1dGVOYW1lKGF0dHJpYnV0ZUZyYW1lKSE7XHJcbiAgICBjb25zdCBldmVudEhhbmRsZXJJZCA9IGZyYW1lUmVhZGVyLmF0dHJpYnV0ZUV2ZW50SGFuZGxlcklkKGF0dHJpYnV0ZUZyYW1lKTtcclxuXHJcbiAgICBpZiAoZXZlbnRIYW5kbGVySWQpIHtcclxuICAgICAgY29uc3QgZXZlbnROYW1lID0gc3RyaXBPblByZWZpeChhdHRyaWJ1dGVOYW1lKTtcclxuICAgICAgdGhpcy5ldmVudERlbGVnYXRvci5zZXRMaXN0ZW5lcih0b0RvbUVsZW1lbnQsIGV2ZW50TmFtZSwgZXZlbnRIYW5kbGVySWQsIGNvbXBvbmVudElkKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHZhbHVlID0gZnJhbWVSZWFkZXIuYXR0cmlidXRlVmFsdWUoYXR0cmlidXRlRnJhbWUpO1xyXG4gICAgdGhpcy5zZXRPclJlbW92ZUF0dHJpYnV0ZU9yUHJvcGVydHkodG9Eb21FbGVtZW50LCBhdHRyaWJ1dGVOYW1lLCB2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGluc2VydEZyYW1lUmFuZ2UoYmF0Y2g6IFJlbmRlckJhdGNoLCBjb21wb25lbnRJZDogbnVtYmVyLCBwYXJlbnQ6IExvZ2ljYWxFbGVtZW50LCBjaGlsZEluZGV4OiBudW1iZXIsIGZyYW1lczogQXJyYXlWYWx1ZXM8UmVuZGVyVHJlZUZyYW1lPiwgc3RhcnRJbmRleDogbnVtYmVyLCBlbmRJbmRleEV4Y2w6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICBjb25zdCBvcmlnQ2hpbGRJbmRleCA9IGNoaWxkSW5kZXg7XHJcbiAgICBmb3IgKGxldCBpbmRleCA9IHN0YXJ0SW5kZXg7IGluZGV4IDwgZW5kSW5kZXhFeGNsOyBpbmRleCsrKSB7XHJcbiAgICAgIGNvbnN0IGZyYW1lID0gYmF0Y2gucmVmZXJlbmNlRnJhbWVzRW50cnkoZnJhbWVzLCBpbmRleCk7XHJcbiAgICAgIGNvbnN0IG51bUNoaWxkcmVuSW5zZXJ0ZWQgPSB0aGlzLmluc2VydEZyYW1lKGJhdGNoLCBjb21wb25lbnRJZCwgcGFyZW50LCBjaGlsZEluZGV4LCBmcmFtZXMsIGZyYW1lLCBpbmRleCk7XHJcbiAgICAgIGNoaWxkSW5kZXggKz0gbnVtQ2hpbGRyZW5JbnNlcnRlZDtcclxuXHJcbiAgICAgIC8vIFNraXAgb3ZlciBhbnkgZGVzY2VuZGFudHMsIHNpbmNlIHRoZXkgYXJlIGFscmVhZHkgZGVhbHQgd2l0aCByZWN1cnNpdmVseVxyXG4gICAgICBpbmRleCArPSBjb3VudERlc2NlbmRhbnRGcmFtZXMoYmF0Y2gsIGZyYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKGNoaWxkSW5kZXggLSBvcmlnQ2hpbGRJbmRleCk7IC8vIFRvdGFsIG51bWJlciBvZiBjaGlsZHJlbiBpbnNlcnRlZFxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzZXRPclJlbW92ZUF0dHJpYnV0ZU9yUHJvcGVydHkoZWxlbWVudDogRWxlbWVudCwgbmFtZTogc3RyaW5nLCB2YWx1ZU9yTnVsbFRvUmVtb3ZlOiBzdHJpbmcgfCBudWxsKSB7XHJcbiAgICAvLyBGaXJzdCBzZWUgaWYgd2UgaGF2ZSBzcGVjaWFsIGhhbmRsaW5nIGZvciB0aGlzIGF0dHJpYnV0ZVxyXG4gICAgaWYgKCF0cnlBcHBseVNwZWNpYWxQcm9wZXJ0eShlbGVtZW50LCBuYW1lLCB2YWx1ZU9yTnVsbFRvUmVtb3ZlKSkge1xyXG4gICAgICAvLyBJZiBub3QsIG1heWJlIGl0J3Mgb25lIG9mIG91ciBpbnRlcm5hbCBhdHRyaWJ1dGVzXHJcbiAgICAgIGlmIChuYW1lLnN0YXJ0c1dpdGgoaW50ZXJuYWxBdHRyaWJ1dGVOYW1lUHJlZml4KSkge1xyXG4gICAgICAgIHRoaXMuYXBwbHlJbnRlcm5hbEF0dHJpYnV0ZShlbGVtZW50LCBuYW1lLnN1YnN0cmluZyhpbnRlcm5hbEF0dHJpYnV0ZU5hbWVQcmVmaXgubGVuZ3RoKSwgdmFsdWVPck51bGxUb1JlbW92ZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gSWYgbm90LCB0cmVhdCBpdCBhcyBhIHJlZ3VsYXIgRE9NIGF0dHJpYnV0ZVxyXG4gICAgICAgIGlmICh2YWx1ZU9yTnVsbFRvUmVtb3ZlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZU9yTnVsbFRvUmVtb3ZlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFwcGx5SW50ZXJuYWxBdHRyaWJ1dGUoZWxlbWVudDogRWxlbWVudCwgaW50ZXJuYWxBdHRyaWJ1dGVOYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcgfCBudWxsKSB7XHJcbiAgICBpZiAoaW50ZXJuYWxBdHRyaWJ1dGVOYW1lLnN0YXJ0c1dpdGgoZXZlbnRTdG9wUHJvcGFnYXRpb25BdHRyaWJ1dGVOYW1lUHJlZml4KSkge1xyXG4gICAgICAvLyBTdG9wIHByb3BhZ2F0aW9uXHJcbiAgICAgIGNvbnN0IGV2ZW50TmFtZSA9IHN0cmlwT25QcmVmaXgoaW50ZXJuYWxBdHRyaWJ1dGVOYW1lLnN1YnN0cmluZyhldmVudFN0b3BQcm9wYWdhdGlvbkF0dHJpYnV0ZU5hbWVQcmVmaXgubGVuZ3RoKSk7XHJcbiAgICAgIHRoaXMuZXZlbnREZWxlZ2F0b3Iuc2V0U3RvcFByb3BhZ2F0aW9uKGVsZW1lbnQsIGV2ZW50TmFtZSwgdmFsdWUgIT09IG51bGwpO1xyXG4gICAgfSBlbHNlIGlmIChpbnRlcm5hbEF0dHJpYnV0ZU5hbWUuc3RhcnRzV2l0aChldmVudFByZXZlbnREZWZhdWx0QXR0cmlidXRlTmFtZVByZWZpeCkpIHtcclxuICAgICAgLy8gUHJldmVudCBkZWZhdWx0XHJcbiAgICAgIGNvbnN0IGV2ZW50TmFtZSA9IHN0cmlwT25QcmVmaXgoaW50ZXJuYWxBdHRyaWJ1dGVOYW1lLnN1YnN0cmluZyhldmVudFByZXZlbnREZWZhdWx0QXR0cmlidXRlTmFtZVByZWZpeC5sZW5ndGgpKTtcclxuICAgICAgdGhpcy5ldmVudERlbGVnYXRvci5zZXRQcmV2ZW50RGVmYXVsdChlbGVtZW50LCBldmVudE5hbWUsIHZhbHVlICE9PSBudWxsKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIFRoZSBwcmVmaXggbWFrZXMgdGhpcyBhdHRyaWJ1dGUgbmFtZSByZXNlcnZlZCwgc28gYW55IG90aGVyIHVzYWdlIGlzIGRpc2FsbG93ZWRcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBpbnRlcm5hbCBhdHRyaWJ1dGUgJyR7aW50ZXJuYWxBdHRyaWJ1dGVOYW1lfSdgKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtYXJrQXNJbnRlcmFjdGl2ZVJvb3RDb21wb25lbnRFbGVtZW50KGVsZW1lbnQ6IExvZ2ljYWxFbGVtZW50LCBpc0ludGVyYWN0aXZlOiBib29sZWFuKSB7XHJcbiAgZWxlbWVudFtpbnRlcmFjdGl2ZVJvb3RDb21wb25lbnRQcm9wbmFtZV0gPSBpc0ludGVyYWN0aXZlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNJbnRlcmFjdGl2ZVJvb3RDb21wb25lbnRFbGVtZW50KGVsZW1lbnQ6IExvZ2ljYWxFbGVtZW50KTogYm9vbGVhbiB8IHVuZGVmaW5lZCB7XHJcbiAgcmV0dXJuIGVsZW1lbnRbaW50ZXJhY3RpdmVSb290Q29tcG9uZW50UHJvcG5hbWVdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0U2hvdWxkUHJlc2VydmVDb250ZW50T25JbnRlcmFjdGl2ZUNvbXBvbmVudERpc3Bvc2FsKGVsZW1lbnQ6IExvZ2ljYWxFbGVtZW50LCBzaG91bGRQcmVzZXJ2ZTogYm9vbGVhbikge1xyXG4gIGVsZW1lbnRbcHJlc2VydmVDb250ZW50T25EaXNwb3NhbFByb3BuYW1lXSA9IHNob3VsZFByZXNlcnZlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0Q2xlYXJDb250ZW50T25Sb290Q29tcG9uZW50UmVyZW5kZXIoZWxlbWVudDogTG9naWNhbEVsZW1lbnQpOiB2b2lkIHtcclxuICBlbGVtZW50c1RvQ2xlYXJPblJvb3RDb21wb25lbnRSZW5kZXIuYWRkKGVsZW1lbnQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzaG91bGRQcmVzZXJ2ZUNvbnRlbnRPbkludGVyYWN0aXZlQ29tcG9uZW50RGlzcG9zYWwoZWxlbWVudDogTG9naWNhbEVsZW1lbnQpOiBib29sZWFuIHtcclxuICByZXR1cm4gZWxlbWVudFtwcmVzZXJ2ZUNvbnRlbnRPbkRpc3Bvc2FsUHJvcG5hbWVdID09PSB0cnVlO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBvbmVudERlc2NyaXB0b3Ige1xyXG4gIHN0YXJ0OiBOb2RlO1xyXG4gIGVuZDogTm9kZTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFyc2VNYXJrdXAobWFya3VwOiBzdHJpbmcsIGlzU3ZnOiBib29sZWFuKSB7XHJcbiAgaWYgKGlzU3ZnKSB7XHJcbiAgICBzaGFyZWRTdmdFbGVtRm9yUGFyc2luZy5pbm5lckhUTUwgPSBtYXJrdXAgfHwgJyAnO1xyXG4gICAgcmV0dXJuIHNoYXJlZFN2Z0VsZW1Gb3JQYXJzaW5nO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBzaGFyZWRUZW1wbGF0ZUVsZW1Gb3JQYXJzaW5nLmlubmVySFRNTCA9IG1hcmt1cCB8fCAnICc7XHJcblxyXG4gICAgLy8gU2luY2UgdGhpcyBpcyBhIG1hcmt1cCBzdHJpbmcsIHdlIHdhbnQgdG8gaG9ub3IgdGhlIGRldmVsb3BlcidzIGludGVudCB0b1xyXG4gICAgLy8gZXZhbHVhdGUgYW55IHNjcmlwdHMgaXQgbWF5IGNvbnRhaW4uIFNjcmlwdHMgcGFyc2VkIGZyb20gYW4gaW5uZXJIVE1MIGFzc2lnbm1lbnRcclxuICAgIC8vIHdvbid0IGJlIGV4ZWN1dGFibGUgYnkgZGVmYXVsdCAoaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTE5NzU3NS9jYW4tc2NyaXB0cy1iZS1pbnNlcnRlZC13aXRoLWlubmVyaHRtbClcclxuICAgIC8vIGJ1dCB0aGF0J3MgaW5jb25zaXN0ZW50IHdpdGggYW55dGhpbmcgY29uc3RydWN0ZWQgZnJvbSBhIHNlcXVlbmNlIGxpa2U6XHJcbiAgICAvLyAtIE9wZW5FbGVtZW50KFwic2NyaXB0XCIpXHJcbiAgICAvLyAtIEFkZENvbnRlbnQoanMpIG9yIEFkZE1hcmt1cENvbnRlbnQoanMpXHJcbiAgICAvLyAtIENsb3NlRWxlbWVudCgpXHJcbiAgICAvLyBJdCBkb2Vzbid0IG1ha2Ugc2Vuc2UgdG8gaGF2ZSBzdWNoIGFuIGluY29uc2lzdGVuY3kgaW4gQmxhem9yJ3MgaW50ZXJhY3RpdmVcclxuICAgIC8vIHJlbmRlcmVyLCBhbmQgZm9yIGJhY2stY29tcGF0IHdpdGggcHJlLS5ORVQgOCBjb2RlICh3aGVuIHRoZSBSYXpvciBjb21waWxlciBhbHdheXNcclxuICAgIC8vIHVzZWQgT3BlbkVsZW1lbnQgbGlrZSBhYm92ZSksIGFzIHdlbGwgYXMgY29uc2lzdGVuY3kgd2l0aCBzdGF0aWMgU1NSLCB3ZSBuZWVkIHRvIG1ha2UgaXQgd29yay5cclxuICAgIHNoYXJlZFRlbXBsYXRlRWxlbUZvclBhcnNpbmcuY29udGVudC5xdWVyeVNlbGVjdG9yQWxsKCdzY3JpcHQnKS5mb3JFYWNoKG9sZFNjcmlwdEVsZW0gPT4ge1xyXG4gICAgICBjb25zdCBuZXdTY3JpcHRFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XHJcbiAgICAgIG5ld1NjcmlwdEVsZW0udGV4dENvbnRlbnQgPSBvbGRTY3JpcHRFbGVtLnRleHRDb250ZW50O1xyXG5cclxuICAgICAgb2xkU2NyaXB0RWxlbS5nZXRBdHRyaWJ1dGVOYW1lcygpLmZvckVhY2goYXR0cmliTmFtZSA9PiB7XHJcbiAgICAgICAgbmV3U2NyaXB0RWxlbS5zZXRBdHRyaWJ1dGUoYXR0cmliTmFtZSwgb2xkU2NyaXB0RWxlbS5nZXRBdHRyaWJ1dGUoYXR0cmliTmFtZSkhKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBvbGRTY3JpcHRFbGVtLnBhcmVudE5vZGUhLnJlcGxhY2VDaGlsZChuZXdTY3JpcHRFbGVtLCBvbGRTY3JpcHRFbGVtKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBzaGFyZWRUZW1wbGF0ZUVsZW1Gb3JQYXJzaW5nLmNvbnRlbnQ7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjb3VudERlc2NlbmRhbnRGcmFtZXMoYmF0Y2g6IFJlbmRlckJhdGNoLCBmcmFtZTogUmVuZGVyVHJlZUZyYW1lKTogbnVtYmVyIHtcclxuICBjb25zdCBmcmFtZVJlYWRlciA9IGJhdGNoLmZyYW1lUmVhZGVyO1xyXG4gIHN3aXRjaCAoZnJhbWVSZWFkZXIuZnJhbWVUeXBlKGZyYW1lKSkge1xyXG4gICAgLy8gVGhlIGZvbGxvd2luZyBmcmFtZSB0eXBlcyBoYXZlIGEgc3VidHJlZSBsZW5ndGguIE90aGVyIGZyYW1lcyBtYXkgdXNlIHRoYXQgbWVtb3J5IHNsb3RcclxuICAgIC8vIHRvIG1lYW4gc29tZXRoaW5nIGVsc2UsIHNvIHdlIG11c3Qgbm90IHJlYWQgaXQuIFdlIHNob3VsZCBjb25zaWRlciBoYXZpbmcgbm9taW5hbCBzdWJ0eXBlc1xyXG4gICAgLy8gb2YgUmVuZGVyVHJlZUZyYW1lUG9pbnRlciB0aGF0IHByZXZlbnQgYWNjZXNzIHRvIG5vbi1hcHBsaWNhYmxlIGZpZWxkcy5cclxuICAgIGNhc2UgRnJhbWVUeXBlLmNvbXBvbmVudDpcclxuICAgIGNhc2UgRnJhbWVUeXBlLmVsZW1lbnQ6XHJcbiAgICBjYXNlIEZyYW1lVHlwZS5yZWdpb246XHJcbiAgICAgIHJldHVybiBmcmFtZVJlYWRlci5zdWJ0cmVlTGVuZ3RoKGZyYW1lKSAtIDE7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gMDtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0cmlwT25QcmVmaXgoYXR0cmlidXRlTmFtZTogc3RyaW5nKSB7XHJcbiAgaWYgKGF0dHJpYnV0ZU5hbWUuc3RhcnRzV2l0aCgnb24nKSkge1xyXG4gICAgcmV0dXJuIGF0dHJpYnV0ZU5hbWUuc3Vic3RyaW5nKDIpO1xyXG4gIH1cclxuXHJcbiAgdGhyb3cgbmV3IEVycm9yKGBBdHRyaWJ1dGUgc2hvdWxkIGJlIGFuIGV2ZW50IG5hbWUsIGJ1dCBkb2Vzbid0IHN0YXJ0IHdpdGggJ29uJy4gVmFsdWU6ICcke2F0dHJpYnV0ZU5hbWV9J2ApO1xyXG59XHJcbiIsIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cclxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuXHJcbmltcG9ydCAnQG1pY3Jvc29mdC9kb3RuZXQtanMtaW50ZXJvcCc7XHJcbmltcG9ydCB7IHJlc2V0U2Nyb2xsQWZ0ZXJOZXh0QmF0Y2ggfSBmcm9tICcuLi9SZW5kZXJpbmcvUmVuZGVyZXInO1xyXG5pbXBvcnQgeyBFdmVudERlbGVnYXRvciB9IGZyb20gJy4uL1JlbmRlcmluZy9FdmVudHMvRXZlbnREZWxlZ2F0b3InO1xyXG5pbXBvcnQgeyBhdHRhY2hFbmhhbmNlZE5hdmlnYXRpb25MaXN0ZW5lciwgZ2V0SW50ZXJhY3RpdmVSb3V0ZXJSZW5kZXJlcklkLCBoYW5kbGVDbGlja0Zvck5hdmlnYXRpb25JbnRlcmNlcHRpb24sIGhhc0ludGVyYWN0aXZlUm91dGVyLCBoYXNQcm9ncmFtbWF0aWNFbmhhbmNlZE5hdmlnYXRpb25IYW5kbGVyLCBpc0ZvclNhbWVQYXRoLCBpc1NhbWVQYWdlV2l0aEhhc2gsIGlzV2l0aGluQmFzZVVyaVNwYWNlLCBwZXJmb3JtUHJvZ3JhbW1hdGljRW5oYW5jZWROYXZpZ2F0aW9uLCBwZXJmb3JtU2Nyb2xsVG9FbGVtZW50T25UaGVTYW1lUGFnZSwgc2Nyb2xsVG9FbGVtZW50LCBzZXRIYXNJbnRlcmFjdGl2ZVJvdXRlciwgdG9BYnNvbHV0ZVVyaSB9IGZyb20gJy4vTmF2aWdhdGlvblV0aWxzJztcclxuaW1wb3J0IHsgV2ViUmVuZGVyZXJJZCB9IGZyb20gJy4uL1JlbmRlcmluZy9XZWJSZW5kZXJlcklkJztcclxuaW1wb3J0IHsgaXNSZW5kZXJlckF0dGFjaGVkIH0gZnJvbSAnLi4vUmVuZGVyaW5nL1dlYlJlbmRlcmVySW50ZXJvcE1ldGhvZHMnO1xyXG5cclxubGV0IGhhc1JlZ2lzdGVyZWROYXZpZ2F0aW9uRXZlbnRMaXN0ZW5lcnMgPSBmYWxzZTtcclxubGV0IGN1cnJlbnRIaXN0b3J5SW5kZXggPSAwO1xyXG5sZXQgY3VycmVudExvY2F0aW9uQ2hhbmdpbmdDYWxsSWQgPSAwO1xyXG5cclxudHlwZSBOYXZpZ2F0aW9uQ2FsbGJhY2tzID0ge1xyXG4gIHJlbmRlcmVySWQ6IFdlYlJlbmRlcmVySWQ7XHJcbiAgaGFzTG9jYXRpb25DaGFuZ2luZ0V2ZW50TGlzdGVuZXJzOiBib29sZWFuO1xyXG4gIGxvY2F0aW9uQ2hhbmdlZCh1cmk6IHN0cmluZywgc3RhdGU6IHN0cmluZyB8IHVuZGVmaW5lZCwgaW50ZXJjZXB0ZWQ6IGJvb2xlYW4pOiBQcm9taXNlPHZvaWQ+O1xyXG4gIGxvY2F0aW9uQ2hhbmdpbmcoY2FsbElkOiBudW1iZXIsIHVyaTogc3RyaW5nLCBzdGF0ZTogc3RyaW5nIHwgdW5kZWZpbmVkLCBpbnRlcmNlcHRlZDogYm9vbGVhbik6IFByb21pc2U8dm9pZD47XHJcbn07XHJcblxyXG5jb25zdCBuYXZpZ2F0aW9uQ2FsbGJhY2tzID0gbmV3IE1hcDxXZWJSZW5kZXJlcklkLCBOYXZpZ2F0aW9uQ2FsbGJhY2tzPigpO1xyXG5cclxubGV0IHBvcFN0YXRlQ2FsbGJhY2s6ICgoc3RhdGU6IFBvcFN0YXRlRXZlbnQpID0+IFByb21pc2U8dm9pZD4gfCB2b2lkKSA9IG9uQnJvd3NlckluaXRpYXRlZFBvcFN0YXRlO1xyXG5sZXQgcmVzb2x2ZUN1cnJlbnROYXZpZ2F0aW9uOiAoKHNob3VsZENvbnRpbnVlTmF2aWdhdGlvbjogYm9vbGVhbikgPT4gdm9pZCkgfCBudWxsID0gbnVsbDtcclxuXHJcbi8vIFRoZXNlIGFyZSB0aGUgZnVuY3Rpb25zIHdlJ3JlIG1ha2luZyBhdmFpbGFibGUgZm9yIGludm9jYXRpb24gZnJvbSAuTkVUXHJcbmV4cG9ydCBjb25zdCBpbnRlcm5hbEZ1bmN0aW9ucyA9IHtcclxuICBsaXN0ZW5Gb3JOYXZpZ2F0aW9uRXZlbnRzLFxyXG4gIGVuYWJsZU5hdmlnYXRpb25JbnRlcmNlcHRpb246IHNldEhhc0ludGVyYWN0aXZlUm91dGVyLFxyXG4gIHNldEhhc0xvY2F0aW9uQ2hhbmdpbmdMaXN0ZW5lcnMsXHJcbiAgZW5kTG9jYXRpb25DaGFuZ2luZyxcclxuICBuYXZpZ2F0ZVRvOiBuYXZpZ2F0ZVRvRnJvbURvdE5ldCxcclxuICByZWZyZXNoLFxyXG4gIGdldEJhc2VVUkk6ICgpOiBzdHJpbmcgPT4gZG9jdW1lbnQuYmFzZVVSSSxcclxuICBnZXRMb2NhdGlvbkhyZWY6ICgpOiBzdHJpbmcgPT4gbG9jYXRpb24uaHJlZixcclxuICBzY3JvbGxUb0VsZW1lbnQsXHJcbn07XHJcblxyXG5mdW5jdGlvbiBsaXN0ZW5Gb3JOYXZpZ2F0aW9uRXZlbnRzKFxyXG4gIHJlbmRlcmVySWQ6IFdlYlJlbmRlcmVySWQsXHJcbiAgbG9jYXRpb25DaGFuZ2VkQ2FsbGJhY2s6ICh1cmk6IHN0cmluZywgc3RhdGU6IHN0cmluZyB8IHVuZGVmaW5lZCwgaW50ZXJjZXB0ZWQ6IGJvb2xlYW4pID0+IFByb21pc2U8dm9pZD4sXHJcbiAgbG9jYXRpb25DaGFuZ2luZ0NhbGxiYWNrOiAoY2FsbElkOiBudW1iZXIsIHVyaTogc3RyaW5nLCBzdGF0ZTogc3RyaW5nIHwgdW5kZWZpbmVkLCBpbnRlcmNlcHRlZDogYm9vbGVhbikgPT4gUHJvbWlzZTx2b2lkPlxyXG4pOiB2b2lkIHtcclxuICBuYXZpZ2F0aW9uQ2FsbGJhY2tzLnNldChyZW5kZXJlcklkLCB7XHJcbiAgICByZW5kZXJlcklkLFxyXG4gICAgaGFzTG9jYXRpb25DaGFuZ2luZ0V2ZW50TGlzdGVuZXJzOiBmYWxzZSxcclxuICAgIGxvY2F0aW9uQ2hhbmdlZDogbG9jYXRpb25DaGFuZ2VkQ2FsbGJhY2ssXHJcbiAgICBsb2NhdGlvbkNoYW5naW5nOiBsb2NhdGlvbkNoYW5naW5nQ2FsbGJhY2ssXHJcbiAgfSk7XHJcblxyXG4gIGlmIChoYXNSZWdpc3RlcmVkTmF2aWdhdGlvbkV2ZW50TGlzdGVuZXJzKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBoYXNSZWdpc3RlcmVkTmF2aWdhdGlvbkV2ZW50TGlzdGVuZXJzID0gdHJ1ZTtcclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCBvblBvcFN0YXRlKTtcclxuICBjdXJyZW50SGlzdG9yeUluZGV4ID0gaGlzdG9yeS5zdGF0ZT8uX2luZGV4ID8/IDA7XHJcblxyXG4gIGF0dGFjaEVuaGFuY2VkTmF2aWdhdGlvbkxpc3RlbmVyKChpbnRlcm5hbERlc3RpbmF0aW9uSHJlZiwgaW50ZXJjZXB0ZWRMaW5rKSA9PiB7XHJcbiAgICBub3RpZnlMb2NhdGlvbkNoYW5nZWQoaW50ZXJjZXB0ZWRMaW5rLCBpbnRlcm5hbERlc3RpbmF0aW9uSHJlZik7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldEhhc0xvY2F0aW9uQ2hhbmdpbmdMaXN0ZW5lcnMocmVuZGVyZXJJZDogV2ViUmVuZGVyZXJJZCwgaGFzTGlzdGVuZXJzOiBib29sZWFuKSB7XHJcbiAgY29uc3QgY2FsbGJhY2tzID0gbmF2aWdhdGlvbkNhbGxiYWNrcy5nZXQocmVuZGVyZXJJZCk7XHJcbiAgaWYgKCFjYWxsYmFja3MpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgUmVuZGVyZXIgd2l0aCBJRCAnJHtyZW5kZXJlcklkfScgaXMgbm90IGxpc3RlbmluZyBmb3IgbmF2aWdhdGlvbiBldmVudHNgKTtcclxuICB9XHJcbiAgY2FsbGJhY2tzLmhhc0xvY2F0aW9uQ2hhbmdpbmdFdmVudExpc3RlbmVycyA9IGhhc0xpc3RlbmVycztcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhdHRhY2hUb0V2ZW50RGVsZWdhdG9yKGV2ZW50RGVsZWdhdG9yOiBFdmVudERlbGVnYXRvcik6IHZvaWQge1xyXG4gIC8vIFdlIG5lZWQgdG8gcmVzcG9uZCB0byBjbGlja3Mgb24gPGE+IGVsZW1lbnRzICphZnRlciogdGhlIEV2ZW50RGVsZWdhdG9yIGhhcyBmaW5pc2hlZFxyXG4gIC8vIHJ1bm5pbmcgaXRzIHNpbXVsYXRlZCBidWJibGluZyBwcm9jZXNzIHNvIHRoYXQgd2UgY2FuIHJlc3BlY3QgYW55IHByZXZlbnREZWZhdWx0IHJlcXVlc3RzLlxyXG4gIC8vIFNvIGluc3RlYWQgb2YgcmVnaXN0ZXJpbmcgb3VyIG93biBuYXRpdmUgZXZlbnQsIHJlZ2lzdGVyIHVzaW5nIHRoZSBFdmVudERlbGVnYXRvci5cclxuICBldmVudERlbGVnYXRvci5ub3RpZnlBZnRlckNsaWNrKGV2ZW50ID0+IHtcclxuICAgIGlmICghaGFzSW50ZXJhY3RpdmVSb3V0ZXIoKSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ2xpY2tGb3JOYXZpZ2F0aW9uSW50ZXJjZXB0aW9uKGV2ZW50LCBhYnNvbHV0ZUludGVybmFsSHJlZiA9PiB7XHJcbiAgICAgIHBlcmZvcm1JbnRlcm5hbE5hdmlnYXRpb24oYWJzb2x1dGVJbnRlcm5hbEhyZWYsIC8qIGludGVyY2VwdGVkTGluayAqLyB0cnVlLCAvKiByZXBsYWNlICovIGZhbHNlKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gcmVmcmVzaChmb3JjZVJlbG9hZDogYm9vbGVhbik6IHZvaWQge1xyXG4gIGlmICghZm9yY2VSZWxvYWQgJiYgaGFzUHJvZ3JhbW1hdGljRW5oYW5jZWROYXZpZ2F0aW9uSGFuZGxlcigpKSB7XHJcbiAgICBwZXJmb3JtUHJvZ3JhbW1hdGljRW5oYW5jZWROYXZpZ2F0aW9uKGxvY2F0aW9uLmhyZWYsIC8qIHJlcGxhY2UgKi8gdHJ1ZSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gIH1cclxufVxyXG5cclxuLy8gRm9yIGJhY2stY29tcGF0LCB3ZSBuZWVkIHRvIGFjY2VwdCBtdWx0aXBsZSBvdmVybG9hZHNcclxuZXhwb3J0IGZ1bmN0aW9uIG5hdmlnYXRlVG8odXJpOiBzdHJpbmcsIG9wdGlvbnM6IE5hdmlnYXRpb25PcHRpb25zKTogdm9pZDtcclxuZXhwb3J0IGZ1bmN0aW9uIG5hdmlnYXRlVG8odXJpOiBzdHJpbmcsIGZvcmNlTG9hZDogYm9vbGVhbik6IHZvaWQ7XHJcbmV4cG9ydCBmdW5jdGlvbiBuYXZpZ2F0ZVRvKHVyaTogc3RyaW5nLCBmb3JjZUxvYWQ6IGJvb2xlYW4sIHJlcGxhY2U6IGJvb2xlYW4pOiB2b2lkO1xyXG5leHBvcnQgZnVuY3Rpb24gbmF2aWdhdGVUbyh1cmk6IHN0cmluZywgZm9yY2VMb2FkT3JPcHRpb25zOiBOYXZpZ2F0aW9uT3B0aW9ucyB8IGJvb2xlYW4sIHJlcGxhY2VJZlVzaW5nT2xkT3ZlcmxvYWQgPSBmYWxzZSk6IHZvaWQge1xyXG4gIC8vIE5vcm1hbGl6ZSB0aGUgcGFyYW1ldGVycyB0byB0aGUgbmV3ZXIgb3ZlcmxvYWQgKGkuZS4sIHVzaW5nIE5hdmlnYXRpb25PcHRpb25zKVxyXG4gIGNvbnN0IG9wdGlvbnM6IE5hdmlnYXRpb25PcHRpb25zID0gZm9yY2VMb2FkT3JPcHRpb25zIGluc3RhbmNlb2YgT2JqZWN0XHJcbiAgICA/IGZvcmNlTG9hZE9yT3B0aW9uc1xyXG4gICAgOiB7IGZvcmNlTG9hZDogZm9yY2VMb2FkT3JPcHRpb25zLCByZXBsYWNlSGlzdG9yeUVudHJ5OiByZXBsYWNlSWZVc2luZ09sZE92ZXJsb2FkIH07XHJcblxyXG4gIG5hdmlnYXRlVG9Db3JlKHVyaSwgb3B0aW9ucyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG5hdmlnYXRlVG9Gcm9tRG90TmV0KHVyaTogc3RyaW5nLCBvcHRpb25zOiBOYXZpZ2F0aW9uT3B0aW9ucyk6IHZvaWQge1xyXG4gIC8vIFRoZSBsb2NhdGlvbiBjaGFuZ2luZyBjYWxsYmFjayBpcyBjYWxsZWQgZnJvbSAuTkVUIGZvciBwcm9ncmFtbWF0aWMgbmF2aWdhdGlvbnMgb3JpZ2luYXRpbmcgZnJvbSAuTkVULlxyXG4gIC8vIEluIHRoaXMgY2FzZSwgd2Ugc2hvdWxkbid0IGludm9rZSB0aGUgY2FsbGJhY2sgYWdhaW4gZnJvbSB0aGUgSlMgc2lkZS5cclxuICBuYXZpZ2F0ZVRvQ29yZSh1cmksIG9wdGlvbnMsIC8qIHNraXBMb2NhdGlvbkNoYW5naW5nQ2FsbGJhY2sgKi8gdHJ1ZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG5hdmlnYXRlVG9Db3JlKHVyaTogc3RyaW5nLCBvcHRpb25zOiBOYXZpZ2F0aW9uT3B0aW9ucywgc2tpcExvY2F0aW9uQ2hhbmdpbmdDYWxsYmFjayA9IGZhbHNlKTogdm9pZCB7XHJcbiAgY29uc3QgYWJzb2x1dGVVcmkgPSB0b0Fic29sdXRlVXJpKHVyaSk7XHJcblxyXG4gIGlmICghb3B0aW9ucy5mb3JjZUxvYWQgJiYgaXNXaXRoaW5CYXNlVXJpU3BhY2UoYWJzb2x1dGVVcmkpKSB7XHJcbiAgICBpZiAoc2hvdWxkVXNlQ2xpZW50U2lkZVJvdXRpbmcoKSkge1xyXG4gICAgICBwZXJmb3JtSW50ZXJuYWxOYXZpZ2F0aW9uKGFic29sdXRlVXJpLCBmYWxzZSwgb3B0aW9ucy5yZXBsYWNlSGlzdG9yeUVudHJ5LCBvcHRpb25zLmhpc3RvcnlFbnRyeVN0YXRlLCBza2lwTG9jYXRpb25DaGFuZ2luZ0NhbGxiYWNrKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHBlcmZvcm1Qcm9ncmFtbWF0aWNFbmhhbmNlZE5hdmlnYXRpb24oYWJzb2x1dGVVcmksIG9wdGlvbnMucmVwbGFjZUhpc3RvcnlFbnRyeSk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIEZvciBleHRlcm5hbCBuYXZpZ2F0aW9uLCB3ZSB3b3JrIGluIHRlcm1zIG9mIHRoZSBvcmlnaW5hbGx5LXN1cHBsaWVkIHVyaSBzdHJpbmcsXHJcbiAgICAvLyBub3QgdGhlIGNvbXB1dGVkIGFic29sdXRlVXJpLiBUaGlzIGlzIGluIGNhc2UgdGhlcmUgYXJlIHNvbWUgc3BlY2lhbCBVUkkgZm9ybWF0c1xyXG4gICAgLy8gd2UncmUgdW5hYmxlIHRvIHRyYW5zbGF0ZSBpbnRvIGFic29sdXRlIFVSSXMuXHJcbiAgICBwZXJmb3JtRXh0ZXJuYWxOYXZpZ2F0aW9uKHVyaSwgb3B0aW9ucy5yZXBsYWNlSGlzdG9yeUVudHJ5KTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBlcmZvcm1FeHRlcm5hbE5hdmlnYXRpb24odXJpOiBzdHJpbmcsIHJlcGxhY2U6IGJvb2xlYW4pIHtcclxuICBpZiAobG9jYXRpb24uaHJlZiA9PT0gdXJpKSB7XHJcbiAgICAvLyBJZiB5b3UncmUgYWxyZWFkeSBvbiB0aGlzIFVSTCwgeW91IGNhbid0IGFwcGVuZCBhbm90aGVyIGNvcHkgb2YgaXQgdG8gdGhlIGhpc3Rvcnkgc3RhY2ssXHJcbiAgICAvLyBzbyB3ZSBjYW4gaWdub3JlIHRoZSAncmVwbGFjZScgZmxhZy4gSG93ZXZlciwgcmVsb2FkaW5nIHRoZSBzYW1lIFVSTCB5b3UncmUgYWxyZWFkeSBvblxyXG4gICAgLy8gcmVxdWlyZXMgc3BlY2lhbCBoYW5kbGluZyB0byBhdm9pZCB0cmlnZ2VyaW5nIGJyb3dzZXItc3BlY2lmaWMgYmVoYXZpb3IgaXNzdWVzLlxyXG4gICAgLy8gRm9yIGRldGFpbHMgYWJvdXQgd2hhdCB0aGlzIGZpeGVzIGFuZCB3aHksIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZG90bmV0L2FzcG5ldGNvcmUvcHVsbC8xMDgzOVxyXG4gICAgY29uc3QgdGVtcG9yYXJ5VXJpID0gdXJpICsgJz8nO1xyXG4gICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgJycsIHRlbXBvcmFyeVVyaSk7XHJcbiAgICBsb2NhdGlvbi5yZXBsYWNlKHVyaSk7XHJcbiAgfSBlbHNlIGlmIChyZXBsYWNlKSB7XHJcbiAgICBsb2NhdGlvbi5yZXBsYWNlKHVyaSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGxvY2F0aW9uLmhyZWYgPSB1cmk7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBwZXJmb3JtSW50ZXJuYWxOYXZpZ2F0aW9uKGFic29sdXRlSW50ZXJuYWxIcmVmOiBzdHJpbmcsIGludGVyY2VwdGVkTGluazogYm9vbGVhbiwgcmVwbGFjZTogYm9vbGVhbiwgc3RhdGU6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCwgc2tpcExvY2F0aW9uQ2hhbmdpbmdDYWxsYmFjayA9IGZhbHNlKSB7XHJcbiAgaWdub3JlUGVuZGluZ05hdmlnYXRpb24oKTtcclxuXHJcbiAgaWYgKGlzU2FtZVBhZ2VXaXRoSGFzaChsb2NhdGlvbi5ocmVmLCBhYnNvbHV0ZUludGVybmFsSHJlZikpIHtcclxuICAgIHNhdmVUb0Jyb3dzZXJIaXN0b3J5KGFic29sdXRlSW50ZXJuYWxIcmVmLCByZXBsYWNlLCBzdGF0ZSk7XHJcbiAgICBwZXJmb3JtU2Nyb2xsVG9FbGVtZW50T25UaGVTYW1lUGFnZShhYnNvbHV0ZUludGVybmFsSHJlZik7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBjb25zdCBjYWxsYmFja3MgPSBnZXRJbnRlcmFjdGl2ZVJvdXRlck5hdmlnYXRpb25DYWxsYmFja3MoKTtcclxuICBpZiAoIXNraXBMb2NhdGlvbkNoYW5naW5nQ2FsbGJhY2sgJiYgY2FsbGJhY2tzPy5oYXNMb2NhdGlvbkNoYW5naW5nRXZlbnRMaXN0ZW5lcnMpIHtcclxuICAgIGNvbnN0IHNob3VsZENvbnRpbnVlTmF2aWdhdGlvbiA9IGF3YWl0IG5vdGlmeUxvY2F0aW9uQ2hhbmdpbmcoYWJzb2x1dGVJbnRlcm5hbEhyZWYsIHN0YXRlLCBpbnRlcmNlcHRlZExpbmssIGNhbGxiYWNrcyk7XHJcbiAgICBpZiAoIXNob3VsZENvbnRpbnVlTmF2aWdhdGlvbikge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBTaW5jZSB0aGlzIHdhcyAqbm90KiB0cmlnZ2VyZWQgYnkgYSBiYWNrL2ZvcndhcmQgZ2VzdHVyZSAodGhhdCBnb2VzIHRocm91Z2ggYSBkaWZmZXJlbnRcclxuICAvLyBjb2RlIHBhdGggc3RhcnRpbmcgd2l0aCBhIHBvcHN0YXRlIGV2ZW50KSwgd2UgZG9uJ3Qgd2FudCB0byBwcmVzZXJ2ZSB0aGUgY3VycmVudCBzY3JvbGxcclxuICAvLyBwb3NpdGlvbiwgc28gcmVzZXQgaXQuXHJcbiAgLy8gVG8gYXZvaWQgdWdseSBmbGlja2VyaW5nIGVmZmVjdHMsIHdlIGRvbid0IHdhbnQgdG8gY2hhbmdlIHRoZSBzY3JvbGwgcG9zaXRpb24gdW50aWxcclxuICAvLyB3ZSByZW5kZXIgdGhlIG5ldyBwYWdlLiBBcyBhIGJlc3QgYXBwcm94aW1hdGlvbiwgd2FpdCB1bnRpbCB0aGUgbmV4dCBiYXRjaC5cclxuICBpZiAoIWlzRm9yU2FtZVBhdGgoYWJzb2x1dGVJbnRlcm5hbEhyZWYsIGxvY2F0aW9uLmhyZWYpKSB7XHJcbiAgICByZXNldFNjcm9sbEFmdGVyTmV4dEJhdGNoKCk7XHJcbiAgfVxyXG5cclxuICBzYXZlVG9Ccm93c2VySGlzdG9yeShhYnNvbHV0ZUludGVybmFsSHJlZiwgcmVwbGFjZSwgc3RhdGUpO1xyXG5cclxuICBhd2FpdCBub3RpZnlMb2NhdGlvbkNoYW5nZWQoaW50ZXJjZXB0ZWRMaW5rKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2F2ZVRvQnJvd3Nlckhpc3RvcnkoYWJzb2x1dGVJbnRlcm5hbEhyZWY6IHN0cmluZywgcmVwbGFjZTogYm9vbGVhbiwgc3RhdGU6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCk6IHZvaWQge1xyXG4gIGlmICghcmVwbGFjZSkge1xyXG4gICAgY3VycmVudEhpc3RvcnlJbmRleCsrO1xyXG4gICAgaGlzdG9yeS5wdXNoU3RhdGUoe1xyXG4gICAgICB1c2VyU3RhdGU6IHN0YXRlLFxyXG4gICAgICBfaW5kZXg6IGN1cnJlbnRIaXN0b3J5SW5kZXgsXHJcbiAgICB9LCAvKiBpZ25vcmVkIHRpdGxlICovICcnLCBhYnNvbHV0ZUludGVybmFsSHJlZik7XHJcbiAgfSBlbHNlIHtcclxuICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKHtcclxuICAgICAgdXNlclN0YXRlOiBzdGF0ZSxcclxuICAgICAgX2luZGV4OiBjdXJyZW50SGlzdG9yeUluZGV4LFxyXG4gICAgfSwgLyogaWdub3JlZCB0aXRsZSAqLyAnJywgYWJzb2x1dGVJbnRlcm5hbEhyZWYpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gbmF2aWdhdGVIaXN0b3J5V2l0aG91dFBvcFN0YXRlQ2FsbGJhY2soZGVsdGE6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcclxuICAgIGNvbnN0IG9sZFBvcFN0YXRlQ2FsbGJhY2sgPSBwb3BTdGF0ZUNhbGxiYWNrO1xyXG5cclxuICAgIHBvcFN0YXRlQ2FsbGJhY2sgPSAoKSA9PiB7XHJcbiAgICAgIHBvcFN0YXRlQ2FsbGJhY2sgPSBvbGRQb3BTdGF0ZUNhbGxiYWNrO1xyXG4gICAgICByZXNvbHZlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGhpc3RvcnkuZ28oZGVsdGEpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpZ25vcmVQZW5kaW5nTmF2aWdhdGlvbigpIHtcclxuICBpZiAocmVzb2x2ZUN1cnJlbnROYXZpZ2F0aW9uKSB7XHJcbiAgICByZXNvbHZlQ3VycmVudE5hdmlnYXRpb24oZmFsc2UpO1xyXG4gICAgcmVzb2x2ZUN1cnJlbnROYXZpZ2F0aW9uID0gbnVsbDtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG5vdGlmeUxvY2F0aW9uQ2hhbmdpbmcodXJpOiBzdHJpbmcsIHN0YXRlOiBzdHJpbmcgfCB1bmRlZmluZWQsIGludGVyY2VwdGVkOiBib29sZWFuLCBjYWxsYmFja3M6IE5hdmlnYXRpb25DYWxsYmFja3MpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2U8Ym9vbGVhbj4ocmVzb2x2ZSA9PiB7XHJcbiAgICBpZ25vcmVQZW5kaW5nTmF2aWdhdGlvbigpO1xyXG4gICAgY3VycmVudExvY2F0aW9uQ2hhbmdpbmdDYWxsSWQrKztcclxuICAgIHJlc29sdmVDdXJyZW50TmF2aWdhdGlvbiA9IHJlc29sdmU7XHJcbiAgICBjYWxsYmFja3MubG9jYXRpb25DaGFuZ2luZyhjdXJyZW50TG9jYXRpb25DaGFuZ2luZ0NhbGxJZCwgdXJpLCBzdGF0ZSwgaW50ZXJjZXB0ZWQpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBlbmRMb2NhdGlvbkNoYW5naW5nKGNhbGxJZDogbnVtYmVyLCBzaG91bGRDb250aW51ZU5hdmlnYXRpb246IGJvb2xlYW4pIHtcclxuICBpZiAocmVzb2x2ZUN1cnJlbnROYXZpZ2F0aW9uICYmIGNhbGxJZCA9PT0gY3VycmVudExvY2F0aW9uQ2hhbmdpbmdDYWxsSWQpIHtcclxuICAgIHJlc29sdmVDdXJyZW50TmF2aWdhdGlvbihzaG91bGRDb250aW51ZU5hdmlnYXRpb24pO1xyXG4gICAgcmVzb2x2ZUN1cnJlbnROYXZpZ2F0aW9uID0gbnVsbDtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIG9uQnJvd3NlckluaXRpYXRlZFBvcFN0YXRlKHN0YXRlOiBQb3BTdGF0ZUV2ZW50KSB7XHJcbiAgaWdub3JlUGVuZGluZ05hdmlnYXRpb24oKTtcclxuXHJcbiAgY29uc3QgY2FsbGJhY2tzID0gZ2V0SW50ZXJhY3RpdmVSb3V0ZXJOYXZpZ2F0aW9uQ2FsbGJhY2tzKCk7XHJcbiAgaWYgKGNhbGxiYWNrcz8uaGFzTG9jYXRpb25DaGFuZ2luZ0V2ZW50TGlzdGVuZXJzKSB7XHJcbiAgICBjb25zdCBpbmRleCA9IHN0YXRlLnN0YXRlPy5faW5kZXggPz8gMDtcclxuICAgIGNvbnN0IHVzZXJTdGF0ZSA9IHN0YXRlLnN0YXRlPy51c2VyU3RhdGU7XHJcbiAgICBjb25zdCBkZWx0YSA9IGluZGV4IC0gY3VycmVudEhpc3RvcnlJbmRleDtcclxuICAgIGNvbnN0IHVyaSA9IGxvY2F0aW9uLmhyZWY7XHJcblxyXG4gICAgLy8gVGVtcG9yYXJpbHkgcmV2ZXJ0IHRoZSBuYXZpZ2F0aW9uIHVudGlsIHdlIGNvbmZpcm0gaWYgdGhlIG5hdmlnYXRpb24gc2hvdWxkIGNvbnRpbnVlLlxyXG4gICAgYXdhaXQgbmF2aWdhdGVIaXN0b3J5V2l0aG91dFBvcFN0YXRlQ2FsbGJhY2soLWRlbHRhKTtcclxuXHJcbiAgICBjb25zdCBzaG91bGRDb250aW51ZU5hdmlnYXRpb24gPSBhd2FpdCBub3RpZnlMb2NhdGlvbkNoYW5naW5nKHVyaSwgdXNlclN0YXRlLCBmYWxzZSwgY2FsbGJhY2tzKTtcclxuICAgIGlmICghc2hvdWxkQ29udGludWVOYXZpZ2F0aW9uKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBhd2FpdCBuYXZpZ2F0ZUhpc3RvcnlXaXRob3V0UG9wU3RhdGVDYWxsYmFjayhkZWx0YSk7XHJcbiAgfVxyXG5cclxuICAvLyBXZSBkb24ndCBrbm93IGlmIHBvcHN0YXRlIHdhcyB0cmlnZ2VyZWQgZm9yIGEgbmF2aWdhdGlvbiB0aGF0IGNhbiBiZSBoYW5kbGVkIGJ5IHRoZSBjbGllbnQtc2lkZSByb3V0ZXIsXHJcbiAgLy8gc28gd2UgdHJlYXQgaXQgYXMgYSBpbnRlcmNlcHRlZCBsaW5rIHRvIGJlIHNhZmUuXHJcbiAgYXdhaXQgbm90aWZ5TG9jYXRpb25DaGFuZ2VkKC8qIGludGVyY2VwdGVkTGluayAqLyB0cnVlKTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gbm90aWZ5TG9jYXRpb25DaGFuZ2VkKGludGVyY2VwdGVkTGluazogYm9vbGVhbiwgaW50ZXJuYWxEZXN0aW5hdGlvbkhyZWY/OiBzdHJpbmcpIHtcclxuICBjb25zdCB1cmkgPSBpbnRlcm5hbERlc3RpbmF0aW9uSHJlZiA/PyBsb2NhdGlvbi5ocmVmO1xyXG5cclxuICBhd2FpdCBQcm9taXNlLmFsbChBcnJheS5mcm9tKG5hdmlnYXRpb25DYWxsYmFja3MsIGFzeW5jIChbcmVuZGVyZXJJZCwgY2FsbGJhY2tzXSkgPT4ge1xyXG4gICAgaWYgKGlzUmVuZGVyZXJBdHRhY2hlZChyZW5kZXJlcklkKSkge1xyXG4gICAgICBhd2FpdCBjYWxsYmFja3MubG9jYXRpb25DaGFuZ2VkKHVyaSwgaGlzdG9yeS5zdGF0ZT8udXNlclN0YXRlLCBpbnRlcmNlcHRlZExpbmspO1xyXG4gICAgfVxyXG4gIH0pKTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gb25Qb3BTdGF0ZShzdGF0ZTogUG9wU3RhdGVFdmVudCkge1xyXG4gIGlmIChwb3BTdGF0ZUNhbGxiYWNrICYmIHNob3VsZFVzZUNsaWVudFNpZGVSb3V0aW5nKCkpIHtcclxuICAgIGF3YWl0IHBvcFN0YXRlQ2FsbGJhY2soc3RhdGUpO1xyXG4gIH1cclxuXHJcbiAgY3VycmVudEhpc3RvcnlJbmRleCA9IGhpc3Rvcnkuc3RhdGU/Ll9pbmRleCA/PyAwO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRJbnRlcmFjdGl2ZVJvdXRlck5hdmlnYXRpb25DYWxsYmFja3MoKTogTmF2aWdhdGlvbkNhbGxiYWNrcyB8IHVuZGVmaW5lZCB7XHJcbiAgY29uc3QgaW50ZXJhY3RpdmVSb3V0ZXJSZW5kZXJlcklkID0gZ2V0SW50ZXJhY3RpdmVSb3V0ZXJSZW5kZXJlcklkKCk7XHJcbiAgaWYgKGludGVyYWN0aXZlUm91dGVyUmVuZGVyZXJJZCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG5hdmlnYXRpb25DYWxsYmFja3MuZ2V0KGludGVyYWN0aXZlUm91dGVyUmVuZGVyZXJJZCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3VsZFVzZUNsaWVudFNpZGVSb3V0aW5nKCkge1xyXG4gIHJldHVybiBoYXNJbnRlcmFjdGl2ZVJvdXRlcigpIHx8ICFoYXNQcm9ncmFtbWF0aWNFbmhhbmNlZE5hdmlnYXRpb25IYW5kbGVyKCk7XHJcbn1cclxuXHJcbi8vIEtlZXAgaW4gc3luYyB3aXRoIENvbXBvbmVudHMvc3JjL05hdmlnYXRpb25PcHRpb25zLmNzXHJcbmV4cG9ydCBpbnRlcmZhY2UgTmF2aWdhdGlvbk9wdGlvbnMge1xyXG4gIGZvcmNlTG9hZDogYm9vbGVhbjtcclxuICByZXBsYWNlSGlzdG9yeUVudHJ5OiBib29sZWFuO1xyXG4gIGhpc3RvcnlFbnRyeVN0YXRlPzogc3RyaW5nO1xyXG59XHJcbiIsIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cclxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuXHJcbmltcG9ydCB7IFdlYlJlbmRlcmVySWQgfSBmcm9tICcuLi9SZW5kZXJpbmcvV2ViUmVuZGVyZXJJZCc7XHJcblxyXG5sZXQgaW50ZXJhY3RpdmVSb3V0ZXJSZW5kZXJlcklkOiBXZWJSZW5kZXJlcklkIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xyXG5sZXQgcHJvZ3JhbW1hdGljRW5oYW5jZWROYXZpZ2F0aW9uSGFuZGxlcjogdHlwZW9mIHBlcmZvcm1Qcm9ncmFtbWF0aWNFbmhhbmNlZE5hdmlnYXRpb24gfCB1bmRlZmluZWQ7XHJcbmxldCBlbmhhbmNlZE5hdmlnYXRpb25MaXN0ZW5lcjogdHlwZW9mIG5vdGlmeUVuaGFuY2VkTmF2aWdhdGlvbkxpc3RlbmVycyB8IHVuZGVmaW5lZDtcclxuXHJcbi8qKlxyXG4gKiBDaGVja3MgaWYgYSBjbGljayBldmVudCBjb3JyZXNwb25kcyB0byBhbiA8YT4gdGFnIHJlZmVyZW5jaW5nIGEgVVJMIHdpdGhpbiB0aGUgYmFzZSBocmVmLCBhbmQgdGhhdCBpbnRlcmNlcHRpb25cclxuICogaXNuJ3QgYnlwYXNzZWQgKGUuZy4sIGJ5IGEgJ2Rvd25sb2FkJyBhdHRyaWJ1dGUgb3IgdGhlIHVzZXIgaG9sZGluZyBhIG1ldGEga2V5IHdoaWxlIGNsaWNraW5nKS5cclxuICogQHBhcmFtIGV2ZW50IFRoZSBldmVudCB0aGF0IG9jY3VycmVkXHJcbiAqIEBwYXJhbSBjYWxsYmFja0lmSW50ZXJjZXB0ZWQgQSBjYWxsYmFjayB0aGF0IHdpbGwgYmUgaW52b2tlZCBpZiB0aGUgZXZlbnQgY29ycmVzcG9uZHMgdG8gYSBjbGljayBvbiBhbiA8YT4gdGhhdCBjYW4gYmUgaW50ZXJjZXB0ZWQuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlQ2xpY2tGb3JOYXZpZ2F0aW9uSW50ZXJjZXB0aW9uKGV2ZW50OiBNb3VzZUV2ZW50LCBjYWxsYmFja0lmSW50ZXJjZXB0ZWQ6IChhYnNvbHV0ZUludGVybmFsSHJlZjogc3RyaW5nKSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgaWYgKGV2ZW50LmJ1dHRvbiAhPT0gMCB8fCBldmVudEhhc1NwZWNpYWxLZXkoZXZlbnQpKSB7XHJcbiAgICAvLyBEb24ndCBzdG9wIGN0cmwvbWV0YS1jbGljayAoZXRjKSBmcm9tIG9wZW5pbmcgbGlua3MgaW4gbmV3IHRhYnMvd2luZG93c1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8vIEludGVyY2VwdCBjbGlja3Mgb24gYWxsIDxhPiBlbGVtZW50cyB3aGVyZSB0aGUgaHJlZiBpcyB3aXRoaW4gdGhlIDxiYXNlIGhyZWY+IFVSSSBzcGFjZVxyXG4gIC8vIFdlIG11c3QgZXhwbGljaXRseSBjaGVjayBpZiBpdCBoYXMgYW4gJ2hyZWYnIGF0dHJpYnV0ZSwgYmVjYXVzZSBpZiBpdCBkb2Vzbid0LCB0aGUgcmVzdWx0IG1pZ2h0IGJlIG51bGwgb3IgYW4gZW1wdHkgc3RyaW5nIGRlcGVuZGluZyBvbiB0aGUgYnJvd3NlclxyXG4gIGNvbnN0IGFuY2hvclRhcmdldCA9IGZpbmRBbmNob3JUYXJnZXQoZXZlbnQpO1xyXG5cclxuICBpZiAoYW5jaG9yVGFyZ2V0ICYmIGNhblByb2Nlc3NBbmNob3IoYW5jaG9yVGFyZ2V0KSkge1xyXG4gICAgY29uc3QgYW5jaG9ySHJlZiA9IGFuY2hvclRhcmdldC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSE7XHJcblxyXG4gICAgY29uc3QgYWJzb2x1dGVIcmVmID0gdG9BYnNvbHV0ZVVyaShhbmNob3JIcmVmKTtcclxuXHJcbiAgICBpZiAoaXNXaXRoaW5CYXNlVXJpU3BhY2UoYWJzb2x1dGVIcmVmKSkge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBjYWxsYmFja0lmSW50ZXJjZXB0ZWQoYWJzb2x1dGVIcmVmKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1dpdGhpbkJhc2VVcmlTcGFjZShocmVmOiBzdHJpbmcpIHtcclxuICBjb25zdCBiYXNlVXJpV2l0aG91dFRyYWlsaW5nU2xhc2ggPSB0b0Jhc2VVcmlXaXRob3V0VHJhaWxpbmdTbGFzaChkb2N1bWVudC5iYXNlVVJJISk7XHJcbiAgY29uc3QgbmV4dENoYXIgPSBocmVmLmNoYXJBdChiYXNlVXJpV2l0aG91dFRyYWlsaW5nU2xhc2gubGVuZ3RoKTtcclxuXHJcbiAgcmV0dXJuIGhyZWYuc3RhcnRzV2l0aChiYXNlVXJpV2l0aG91dFRyYWlsaW5nU2xhc2gpXHJcbiAgJiYgKG5leHRDaGFyID09PSAnJyB8fCBuZXh0Q2hhciA9PT0gJy8nIHx8IG5leHRDaGFyID09PSAnPycgfHwgbmV4dENoYXIgPT09ICcjJyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1NhbWVQYWdlV2l0aEhhc2gob2xkVXJsOiBzdHJpbmcsIG5ld1VybDogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgY29uc3QgYSA9IG5ldyBVUkwob2xkVXJsKTtcclxuICBjb25zdCBiID0gbmV3IFVSTChuZXdVcmwpO1xyXG4gIHJldHVybiBhLm9yaWdpbiA9PT0gYi5vcmlnaW4gJiYgYS5wYXRobmFtZSA9PT0gYi5wYXRobmFtZVxyXG4gICAgJiYgYS5zZWFyY2ggPT09IGIuc2VhcmNoICYmIGIuaGFzaCAhPT0gJyc7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0ZvclNhbWVQYXRoKHVybDE6IHN0cmluZywgdXJsMjogc3RyaW5nKSB7XHJcbiAgLy8gV2UgYXJlIGdvaW5nIHRvIHVzZSB0aGUgc2NoZW1lLCBob3N0LCBwb3J0IGFuZCBwYXRoIHRvIGRldGVybWluZSBpZiB0aGUgdHdvIFVSTHMgYXJlIGNvbXBhdGlibGUuXHJcbiAgLy8gV2UgZG8gbm90IGFjY291bnQgZm9yIHRoZSBxdWVyeSBzdHJpbmcgYXMgd2Ugd2FudCB0byBhbGxvdyBmb3IgdGhlIHF1ZXJ5IHN0cmluZyB0byBjaGFuZ2UuXHJcbiAgLy8gKEJsYXpvciBkb2Vzbid0IHVzZSB0aGUgcXVlcnkgc3RyaW5nIGZvciByb3V0aW5nIHB1cnBvc2VzKS5cclxuICBjb25zdCBwYXJzZWRVcmwxID0gbmV3IFVSTCh1cmwxKTtcclxuICBjb25zdCBwYXJzZWRVcmwyID0gbmV3IFVSTCh1cmwyKTtcclxuICByZXR1cm4gcGFyc2VkVXJsMS5wcm90b2NvbCA9PT0gcGFyc2VkVXJsMi5wcm90b2NvbFxyXG4gICAgJiYgcGFyc2VkVXJsMS5ob3N0ID09PSBwYXJzZWRVcmwyLmhvc3RcclxuICAgICYmIHBhcnNlZFVybDEucG9ydCA9PT0gcGFyc2VkVXJsMi5wb3J0XHJcbiAgICAmJiBwYXJzZWRVcmwxLnBhdGhuYW1lID09PSBwYXJzZWRVcmwyLnBhdGhuYW1lO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcGVyZm9ybVNjcm9sbFRvRWxlbWVudE9uVGhlU2FtZVBhZ2UoYWJzb2x1dGVIcmVmIDogc3RyaW5nKTogdm9pZCB7XHJcbiAgY29uc3QgaGFzaEluZGV4ID0gYWJzb2x1dGVIcmVmLmluZGV4T2YoJyMnKTtcclxuICBpZiAoaGFzaEluZGV4ID09PSBhYnNvbHV0ZUhyZWYubGVuZ3RoIC0gMSkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgaWRlbnRpZmllciA9IGFic29sdXRlSHJlZi5zdWJzdHJpbmcoaGFzaEluZGV4ICsgMSk7XHJcbiAgc2Nyb2xsVG9FbGVtZW50KGlkZW50aWZpZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2Nyb2xsVG9FbGVtZW50KGlkZW50aWZpZXI6IHN0cmluZyk6IHZvaWQge1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkZW50aWZpZXIpPy5zY3JvbGxJbnRvVmlldygpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYXR0YWNoRW5oYW5jZWROYXZpZ2F0aW9uTGlzdGVuZXIobGlzdGVuZXI6IHR5cGVvZiBlbmhhbmNlZE5hdmlnYXRpb25MaXN0ZW5lcikge1xyXG4gIGVuaGFuY2VkTmF2aWdhdGlvbkxpc3RlbmVyID0gbGlzdGVuZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBub3RpZnlFbmhhbmNlZE5hdmlnYXRpb25MaXN0ZW5lcnMoaW50ZXJuYWxEZXN0aW5hdGlvbkhyZWY6IHN0cmluZywgaW50ZXJjZXB0ZWRMaW5rOiBib29sZWFuKSB7XHJcbiAgZW5oYW5jZWROYXZpZ2F0aW9uTGlzdGVuZXI/LihpbnRlcm5hbERlc3RpbmF0aW9uSHJlZiwgaW50ZXJjZXB0ZWRMaW5rKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhhc1Byb2dyYW1tYXRpY0VuaGFuY2VkTmF2aWdhdGlvbkhhbmRsZXIoKTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIHByb2dyYW1tYXRpY0VuaGFuY2VkTmF2aWdhdGlvbkhhbmRsZXIgIT09IHVuZGVmaW5lZDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGF0dGFjaFByb2dyYW1tYXRpY0VuaGFuY2VkTmF2aWdhdGlvbkhhbmRsZXIoaGFuZGxlcjogdHlwZW9mIHByb2dyYW1tYXRpY0VuaGFuY2VkTmF2aWdhdGlvbkhhbmRsZXIpIHtcclxuICBwcm9ncmFtbWF0aWNFbmhhbmNlZE5hdmlnYXRpb25IYW5kbGVyID0gaGFuZGxlcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHBlcmZvcm1Qcm9ncmFtbWF0aWNFbmhhbmNlZE5hdmlnYXRpb24oYWJzb2x1dGVJbnRlcm5hbEhyZWY6IHN0cmluZywgcmVwbGFjZTogYm9vbGVhbik6IHZvaWQge1xyXG4gIGlmICghcHJvZ3JhbW1hdGljRW5oYW5jZWROYXZpZ2F0aW9uSGFuZGxlcikge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdObyBlbmhhbmNlZCBwcm9ncmFtbWF0aWMgbmF2aWdhdGlvbiBoYW5kbGVyIGhhcyBiZWVuIGF0dGFjaGVkJyk7XHJcbiAgfVxyXG5cclxuICBwcm9ncmFtbWF0aWNFbmhhbmNlZE5hdmlnYXRpb25IYW5kbGVyKGFic29sdXRlSW50ZXJuYWxIcmVmLCByZXBsYWNlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gdG9CYXNlVXJpV2l0aG91dFRyYWlsaW5nU2xhc2goYmFzZVVyaTogc3RyaW5nKSB7XHJcbiAgcmV0dXJuIGJhc2VVcmkuc3Vic3RyaW5nKDAsIGJhc2VVcmkubGFzdEluZGV4T2YoJy8nKSk7XHJcbn1cclxuXHJcbmxldCB0ZXN0QW5jaG9yOiBIVE1MQW5jaG9yRWxlbWVudDtcclxuZXhwb3J0IGZ1bmN0aW9uIHRvQWJzb2x1dGVVcmkocmVsYXRpdmVVcmk6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgdGVzdEFuY2hvciA9IHRlc3RBbmNob3IgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gIHRlc3RBbmNob3IuaHJlZiA9IHJlbGF0aXZlVXJpO1xyXG4gIHJldHVybiB0ZXN0QW5jaG9yLmhyZWY7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGV2ZW50SGFzU3BlY2lhbEtleShldmVudDogTW91c2VFdmVudCkge1xyXG4gIHJldHVybiBldmVudC5jdHJsS2V5IHx8IGV2ZW50LnNoaWZ0S2V5IHx8IGV2ZW50LmFsdEtleSB8fCBldmVudC5tZXRhS2V5O1xyXG59XHJcblxyXG5mdW5jdGlvbiBjYW5Qcm9jZXNzQW5jaG9yKGFuY2hvclRhcmdldDogSFRNTEFuY2hvckVsZW1lbnQgfCBTVkdBRWxlbWVudCkge1xyXG4gIGNvbnN0IHRhcmdldEF0dHJpYnV0ZVZhbHVlID0gYW5jaG9yVGFyZ2V0LmdldEF0dHJpYnV0ZSgndGFyZ2V0Jyk7XHJcbiAgY29uc3Qgb3BlbnNJblNhbWVGcmFtZSA9ICF0YXJnZXRBdHRyaWJ1dGVWYWx1ZSB8fCB0YXJnZXRBdHRyaWJ1dGVWYWx1ZSA9PT0gJ19zZWxmJztcclxuICByZXR1cm4gb3BlbnNJblNhbWVGcmFtZSAmJiBhbmNob3JUYXJnZXQuaGFzQXR0cmlidXRlKCdocmVmJykgJiYgIWFuY2hvclRhcmdldC5oYXNBdHRyaWJ1dGUoJ2Rvd25sb2FkJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbmRBbmNob3JUYXJnZXQoZXZlbnQ6IE1vdXNlRXZlbnQpOiBIVE1MQW5jaG9yRWxlbWVudCB8IFNWR0FFbGVtZW50IHwgbnVsbCB7XHJcbiAgY29uc3QgcGF0aCA9IGV2ZW50LmNvbXBvc2VkUGF0aCAmJiBldmVudC5jb21wb3NlZFBhdGgoKTtcclxuICBpZiAocGF0aCkge1xyXG4gICAgLy8gVGhpcyBsb2dpYyB3b3JrcyB3aXRoIGV2ZW50cyB0aGF0IHRhcmdldCBlbGVtZW50cyB3aXRoaW4gYSBzaGFkb3cgcm9vdCxcclxuICAgIC8vIGFzIGxvbmcgYXMgdGhlIHNoYWRvdyBtb2RlIGlzICdvcGVuJy4gRm9yIGNsb3NlZCBzaGFkb3dzLCB3ZSBjYW4ndCBwb3NzaWJseVxyXG4gICAgLy8ga25vdyB3aGF0IGludGVybmFsIGVsZW1lbnQgd2FzIGNsaWNrZWQuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgY2FuZGlkYXRlID0gcGF0aFtpXTtcclxuICAgICAgaWYgKGNhbmRpZGF0ZSBpbnN0YW5jZW9mIEhUTUxBbmNob3JFbGVtZW50IHx8IGNhbmRpZGF0ZSBpbnN0YW5jZW9mIFNWR0FFbGVtZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhhc0ludGVyYWN0aXZlUm91dGVyKCk6IGJvb2xlYW4ge1xyXG4gIHJldHVybiBpbnRlcmFjdGl2ZVJvdXRlclJlbmRlcmVySWQgIT09IHVuZGVmaW5lZDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEludGVyYWN0aXZlUm91dGVyUmVuZGVyZXJJZCgpIDogV2ViUmVuZGVyZXJJZCB8IHVuZGVmaW5lZCB7XHJcbiAgcmV0dXJuIGludGVyYWN0aXZlUm91dGVyUmVuZGVyZXJJZDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEhhc0ludGVyYWN0aXZlUm91dGVyKHJlbmRlcmVySWQ6IFdlYlJlbmRlcmVySWQpIHtcclxuICBpZiAoaW50ZXJhY3RpdmVSb3V0ZXJSZW5kZXJlcklkICE9PSB1bmRlZmluZWQgJiYgaW50ZXJhY3RpdmVSb3V0ZXJSZW5kZXJlcklkICE9PSByZW5kZXJlcklkKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgb25lIGludGVyYWN0aXZlIHJ1bnRpbWUgbWF5IGVuYWJsZSBuYXZpZ2F0aW9uIGludGVyY2VwdGlvbiBhdCBhIHRpbWUuJyk7XHJcbiAgfVxyXG5cclxuICBpbnRlcmFjdGl2ZVJvdXRlclJlbmRlcmVySWQgPSByZW5kZXJlcklkO1xyXG59XHJcbiIsIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cclxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuXHJcbmltcG9ydCAnLi4vUGxhdGZvcm0vUGxhdGZvcm0nO1xyXG5pbXBvcnQgJy4uL0Vudmlyb25tZW50JztcclxuaW1wb3J0IHsgUmVuZGVyQmF0Y2ggfSBmcm9tICcuL1JlbmRlckJhdGNoL1JlbmRlckJhdGNoJztcclxuaW1wb3J0IHsgQnJvd3NlclJlbmRlcmVyIH0gZnJvbSAnLi9Ccm93c2VyUmVuZGVyZXInO1xyXG5pbXBvcnQgeyB0b0xvZ2ljYWxFbGVtZW50LCBMb2dpY2FsRWxlbWVudCB9IGZyb20gJy4vTG9naWNhbEVsZW1lbnRzJztcclxuaW1wb3J0IHsgZ2V0QW5kUmVtb3ZlUGVuZGluZ1Jvb3RDb21wb25lbnRDb250YWluZXIgfSBmcm9tICcuL0pTUm9vdENvbXBvbmVudHMnO1xyXG5cclxuaW50ZXJmYWNlIEJyb3dzZXJSZW5kZXJlclJlZ2lzdHJ5IHtcclxuICBbYnJvd3NlclJlbmRlcmVySWQ6IG51bWJlcl06IEJyb3dzZXJSZW5kZXJlcjtcclxufVxyXG5jb25zdCBicm93c2VyUmVuZGVyZXJzOiBCcm93c2VyUmVuZGVyZXJSZWdpc3RyeSA9IHt9O1xyXG5sZXQgc2hvdWxkUmVzZXRTY3JvbGxBZnRlck5leHRCYXRjaCA9IGZhbHNlO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGF0dGFjaFJvb3RDb21wb25lbnRUb0xvZ2ljYWxFbGVtZW50KGJyb3dzZXJSZW5kZXJlcklkOiBudW1iZXIsIGxvZ2ljYWxFbGVtZW50OiBMb2dpY2FsRWxlbWVudCwgY29tcG9uZW50SWQ6IG51bWJlciwgYXBwZW5kQ29udGVudDogYm9vbGVhbik6IHZvaWQge1xyXG4gIGxldCBicm93c2VyUmVuZGVyZXIgPSBicm93c2VyUmVuZGVyZXJzW2Jyb3dzZXJSZW5kZXJlcklkXTtcclxuICBpZiAoIWJyb3dzZXJSZW5kZXJlcikge1xyXG4gICAgYnJvd3NlclJlbmRlcmVyID0gbmV3IEJyb3dzZXJSZW5kZXJlcihicm93c2VyUmVuZGVyZXJJZCk7XHJcbiAgICBicm93c2VyUmVuZGVyZXJzW2Jyb3dzZXJSZW5kZXJlcklkXSA9IGJyb3dzZXJSZW5kZXJlcjtcclxuICB9XHJcblxyXG4gIGJyb3dzZXJSZW5kZXJlci5hdHRhY2hSb290Q29tcG9uZW50VG9Mb2dpY2FsRWxlbWVudChjb21wb25lbnRJZCwgbG9naWNhbEVsZW1lbnQsIGFwcGVuZENvbnRlbnQpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYXR0YWNoUm9vdENvbXBvbmVudFRvRWxlbWVudChlbGVtZW50U2VsZWN0b3I6IHN0cmluZywgY29tcG9uZW50SWQ6IG51bWJlciwgYnJvd3NlclJlbmRlcmVySWQ6IG51bWJlcik6IHZvaWQge1xyXG4gIGNvbnN0IGFmdGVyRWxlbWVudFNlbGVjdG9yID0gJzo6YWZ0ZXInO1xyXG4gIGNvbnN0IGJlZm9yZUVsZW1lbnRTZWxlY3RvciA9ICc6OmJlZm9yZSc7XHJcbiAgbGV0IGFwcGVuZENvbnRlbnQgPSBmYWxzZTtcclxuXHJcbiAgaWYgKGVsZW1lbnRTZWxlY3Rvci5lbmRzV2l0aChhZnRlckVsZW1lbnRTZWxlY3RvcikpIHtcclxuICAgIGVsZW1lbnRTZWxlY3RvciA9IGVsZW1lbnRTZWxlY3Rvci5zbGljZSgwLCAtYWZ0ZXJFbGVtZW50U2VsZWN0b3IubGVuZ3RoKTtcclxuICAgIGFwcGVuZENvbnRlbnQgPSB0cnVlO1xyXG4gIH0gZWxzZSBpZiAoZWxlbWVudFNlbGVjdG9yLmVuZHNXaXRoKGJlZm9yZUVsZW1lbnRTZWxlY3RvcikpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgVGhlICcke2JlZm9yZUVsZW1lbnRTZWxlY3Rvcn0nIHNlbGVjdG9yIGlzIG5vdCBzdXBwb3J0ZWQuYCk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBlbGVtZW50ID0gZ2V0QW5kUmVtb3ZlUGVuZGluZ1Jvb3RDb21wb25lbnRDb250YWluZXIoZWxlbWVudFNlbGVjdG9yKVxyXG4gICAgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50U2VsZWN0b3IpO1xyXG4gIGlmICghZWxlbWVudCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCBhbnkgZWxlbWVudCBtYXRjaGluZyBzZWxlY3RvciAnJHtlbGVtZW50U2VsZWN0b3J9Jy5gKTtcclxuICB9XHJcblxyXG4gIC8vICdhbGxvd0V4aXN0aW5nQ29udGVudHMnIHRvIGtlZXAgYW55IHByZXJlbmRlcmVkIGNvbnRlbnQgdW50aWwgd2UgZG8gdGhlIGZpcnN0IGNsaWVudC1zaWRlIHJlbmRlclxyXG4gIC8vIE9ubHkgY2xpZW50LXNpZGUgQmxhem9yIHN1cHBsaWVzIGEgYnJvd3NlciByZW5kZXJlciBJRFxyXG4gIGF0dGFjaFJvb3RDb21wb25lbnRUb0xvZ2ljYWxFbGVtZW50KGJyb3dzZXJSZW5kZXJlcklkLCB0b0xvZ2ljYWxFbGVtZW50KGVsZW1lbnQsIC8qIGFsbG93IGV4aXN0aW5nIGNvbnRlbnRzICovIHRydWUpLCBjb21wb25lbnRJZCwgYXBwZW5kQ29udGVudCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSZW5kZXJlcmVyKGJyb3dzZXJSZW5kZXJlcklkOiBudW1iZXIpOiBCcm93c2VyUmVuZGVyZXIgfCB1bmRlZmluZWQge1xyXG4gIHJldHVybiBicm93c2VyUmVuZGVyZXJzW2Jyb3dzZXJSZW5kZXJlcklkXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlckJhdGNoKGJyb3dzZXJSZW5kZXJlcklkOiBudW1iZXIsIGJhdGNoOiBSZW5kZXJCYXRjaCk6IHZvaWQge1xyXG4gIGNvbnN0IGJyb3dzZXJSZW5kZXJlciA9IGJyb3dzZXJSZW5kZXJlcnNbYnJvd3NlclJlbmRlcmVySWRdO1xyXG4gIGlmICghYnJvd3NlclJlbmRlcmVyKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZXJlIGlzIG5vIGJyb3dzZXIgcmVuZGVyZXIgd2l0aCBJRCAke2Jyb3dzZXJSZW5kZXJlcklkfS5gKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGFycmF5UmFuZ2VSZWFkZXIgPSBiYXRjaC5hcnJheVJhbmdlUmVhZGVyO1xyXG4gIGNvbnN0IHVwZGF0ZWRDb21wb25lbnRzUmFuZ2UgPSBiYXRjaC51cGRhdGVkQ29tcG9uZW50cygpO1xyXG4gIGNvbnN0IHVwZGF0ZWRDb21wb25lbnRzVmFsdWVzID0gYXJyYXlSYW5nZVJlYWRlci52YWx1ZXModXBkYXRlZENvbXBvbmVudHNSYW5nZSk7XHJcbiAgY29uc3QgdXBkYXRlZENvbXBvbmVudHNMZW5ndGggPSBhcnJheVJhbmdlUmVhZGVyLmNvdW50KHVwZGF0ZWRDb21wb25lbnRzUmFuZ2UpO1xyXG4gIGNvbnN0IHJlZmVyZW5jZUZyYW1lcyA9IGJhdGNoLnJlZmVyZW5jZUZyYW1lcygpO1xyXG4gIGNvbnN0IHJlZmVyZW5jZUZyYW1lc1ZhbHVlcyA9IGFycmF5UmFuZ2VSZWFkZXIudmFsdWVzKHJlZmVyZW5jZUZyYW1lcyk7XHJcbiAgY29uc3QgZGlmZlJlYWRlciA9IGJhdGNoLmRpZmZSZWFkZXI7XHJcblxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdXBkYXRlZENvbXBvbmVudHNMZW5ndGg7IGkrKykge1xyXG4gICAgY29uc3QgZGlmZiA9IGJhdGNoLnVwZGF0ZWRDb21wb25lbnRzRW50cnkodXBkYXRlZENvbXBvbmVudHNWYWx1ZXMsIGkpO1xyXG4gICAgY29uc3QgY29tcG9uZW50SWQgPSBkaWZmUmVhZGVyLmNvbXBvbmVudElkKGRpZmYpO1xyXG4gICAgY29uc3QgZWRpdHMgPSBkaWZmUmVhZGVyLmVkaXRzKGRpZmYpO1xyXG4gICAgYnJvd3NlclJlbmRlcmVyLnVwZGF0ZUNvbXBvbmVudChiYXRjaCwgY29tcG9uZW50SWQsIGVkaXRzLCByZWZlcmVuY2VGcmFtZXNWYWx1ZXMpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZGlzcG9zZWRDb21wb25lbnRJZHNSYW5nZSA9IGJhdGNoLmRpc3Bvc2VkQ29tcG9uZW50SWRzKCk7XHJcbiAgY29uc3QgZGlzcG9zZWRDb21wb25lbnRJZHNWYWx1ZXMgPSBhcnJheVJhbmdlUmVhZGVyLnZhbHVlcyhkaXNwb3NlZENvbXBvbmVudElkc1JhbmdlKTtcclxuICBjb25zdCBkaXNwb3NlZENvbXBvbmVudElkc0xlbmd0aCA9IGFycmF5UmFuZ2VSZWFkZXIuY291bnQoZGlzcG9zZWRDb21wb25lbnRJZHNSYW5nZSk7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaXNwb3NlZENvbXBvbmVudElkc0xlbmd0aDsgaSsrKSB7XHJcbiAgICBjb25zdCBjb21wb25lbnRJZCA9IGJhdGNoLmRpc3Bvc2VkQ29tcG9uZW50SWRzRW50cnkoZGlzcG9zZWRDb21wb25lbnRJZHNWYWx1ZXMsIGkpO1xyXG4gICAgYnJvd3NlclJlbmRlcmVyLmRpc3Bvc2VDb21wb25lbnQoY29tcG9uZW50SWQpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZGlzcG9zZWRFdmVudEhhbmRsZXJJZHNSYW5nZSA9IGJhdGNoLmRpc3Bvc2VkRXZlbnRIYW5kbGVySWRzKCk7XHJcbiAgY29uc3QgZGlzcG9zZWRFdmVudEhhbmRsZXJJZHNWYWx1ZXMgPSBhcnJheVJhbmdlUmVhZGVyLnZhbHVlcyhkaXNwb3NlZEV2ZW50SGFuZGxlcklkc1JhbmdlKTtcclxuICBjb25zdCBkaXNwb3NlZEV2ZW50SGFuZGxlcklkc0xlbmd0aCA9IGFycmF5UmFuZ2VSZWFkZXIuY291bnQoZGlzcG9zZWRFdmVudEhhbmRsZXJJZHNSYW5nZSk7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaXNwb3NlZEV2ZW50SGFuZGxlcklkc0xlbmd0aDsgaSsrKSB7XHJcbiAgICBjb25zdCBldmVudEhhbmRsZXJJZCA9IGJhdGNoLmRpc3Bvc2VkRXZlbnRIYW5kbGVySWRzRW50cnkoZGlzcG9zZWRFdmVudEhhbmRsZXJJZHNWYWx1ZXMsIGkpO1xyXG4gICAgYnJvd3NlclJlbmRlcmVyLmRpc3Bvc2VFdmVudEhhbmRsZXIoZXZlbnRIYW5kbGVySWQpO1xyXG4gIH1cclxuXHJcbiAgcmVzZXRTY3JvbGxJZk5lZWRlZCgpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRTY3JvbGxBZnRlck5leHRCYXRjaCgpOiB2b2lkIHtcclxuICBzaG91bGRSZXNldFNjcm9sbEFmdGVyTmV4dEJhdGNoID0gdHJ1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0U2Nyb2xsSWZOZWVkZWQoKSB7XHJcbiAgaWYgKHNob3VsZFJlc2V0U2Nyb2xsQWZ0ZXJOZXh0QmF0Y2gpIHtcclxuICAgIHNob3VsZFJlc2V0U2Nyb2xsQWZ0ZXJOZXh0QmF0Y2ggPSBmYWxzZTtcclxuXHJcbiAgICAvLyBUaGlzIGFzc3VtZXMgdGhlIHNjcm9sbGVyIGlzIG9uIHRoZSB3aW5kb3cgaXRzZWxmLiBUaGVyZSBpc24ndCBhIGdlbmVyYWwgd2F5IHRvIGtub3dcclxuICAgIC8vIGlmIHNvbWUgb3RoZXIgZWxlbWVudCBpcyBwbGF5aW5nIHRoZSByb2xlIG9mIHRoZSBwcmltYXJ5IHNjcm9sbCByZWdpb24uXHJcbiAgICB3aW5kb3cuc2Nyb2xsVG8gJiYgd2luZG93LnNjcm9sbFRvKDAsIDApO1xyXG4gIH1cclxufVxyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG5pbXBvcnQgJ0BtaWNyb3NvZnQvZG90bmV0LWpzLWludGVyb3AnO1xyXG5cclxuZXhwb3J0IGNvbnN0IGRvbUZ1bmN0aW9ucyA9IHtcclxuICBmb2N1cyxcclxuICBmb2N1c0J5U2VsZWN0b3IsXHJcbn07XHJcblxyXG5mdW5jdGlvbiBmb2N1cyhlbGVtZW50OiBIVE1MT3JTVkdFbGVtZW50LCBwcmV2ZW50U2Nyb2xsOiBib29sZWFuKTogdm9pZCB7XHJcbiAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xyXG4gICAgZWxlbWVudC5mb2N1cyh7IHByZXZlbnRTY3JvbGwgfSk7XHJcbiAgfSBlbHNlIGlmIChlbGVtZW50IGluc3RhbmNlb2YgU1ZHRWxlbWVudCkge1xyXG4gICAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKCd0YWJpbmRleCcpKSB7XHJcbiAgICAgIGVsZW1lbnQuZm9jdXMoeyBwcmV2ZW50U2Nyb2xsIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZm9jdXMgYW4gU1ZHIGVsZW1lbnQgdGhhdCBkb2VzIG5vdCBoYXZlIGEgdGFiaW5kZXguJyk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGZvY3VzIGFuIGludmFsaWQgZWxlbWVudC4nKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZvY3VzQnlTZWxlY3RvcihzZWxlY3Rvcjogc3RyaW5nKSB7XHJcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpIGFzIEhUTUxFbGVtZW50O1xyXG4gIGlmIChlbGVtZW50KSB7XHJcbiAgICAvLyBJZiBubyBleHBsaWNpdCB0YWJpbmRleCBpcyBkZWZpbmVkLCBtYXJrIGl0IGFzIHByb2dyYW1tYXRpY2FsbHktZm9jdXNhYmxlLlxyXG4gICAgLy8gVGhpcyBkb2VzIGFjdHVhbGx5IGFkZCBhIG5ldyBIVE1MIGF0dHJpYnV0ZSwgYnV0IGl0IHNob3VsZG4ndCBpbnRlcmZlcmUgd2l0aFxyXG4gICAgLy8gZGlmZmluZyBiZWNhdXNlIGRpZmZpbmcgb25seSBkZWFscyB3aXRoIHRoZSBhdHRyaWJ1dGVzIHlvdSBoYXZlIGluIHlvdXIgY29kZS5cclxuICAgIGlmICghZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ3RhYmluZGV4JykpIHtcclxuICAgICAgZWxlbWVudC50YWJJbmRleCA9IC0xO1xyXG4gICAgfVxyXG5cclxuICAgIGVsZW1lbnQuZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pO1xyXG4gIH1cclxufVxyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG5pbXBvcnQgeyBEb3ROZXQgfSBmcm9tICdAbWljcm9zb2Z0L2RvdG5ldC1qcy1pbnRlcm9wJztcclxuXHJcbmV4cG9ydCBjb25zdCBWaXJ0dWFsaXplID0ge1xyXG4gIGluaXQsXHJcbiAgZGlzcG9zZSxcclxufTtcclxuXHJcbmNvbnN0IGRpc3BhdGNoZXJPYnNlcnZlcnNCeURvdE5ldElkUHJvcG5hbWUgPSBTeW1ib2woKTtcclxuXHJcbmZ1bmN0aW9uIGZpbmRDbG9zZXN0U2Nyb2xsQ29udGFpbmVyKGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCk6IEhUTUxFbGVtZW50IHwgbnVsbCB7XHJcbiAgLy8gSWYgd2UgcmVjdXJzZSB1cCBhcyBmYXIgYXMgYm9keSBvciB0aGUgZG9jdW1lbnQgcm9vdCwgcmV0dXJuIG51bGwgc28gdGhhdCB0aGVcclxuICAvLyBJbnRlcnNlY3Rpb25PYnNlcnZlciBvYnNlcnZlcyBpbnRlcnNlY3Rpb24gd2l0aCB0aGUgdG9wLWxldmVsIHNjcm9sbCB2aWV3cG9ydFxyXG4gIC8vIGluc3RlYWQgb2YgdGhlIHdpdGggYm9keS9kb2N1bWVudEVsZW1lbnQgd2hpY2ggY2FuIGJlIGFyYml0cmFyaWx5IHRhbGwuXHJcbiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9kb3RuZXQvYXNwbmV0Y29yZS9pc3N1ZXMvMzc2NTkgZm9yIG1vcmUgYWJvdXQgd2hhdCB0aGlzIGZpeGVzLlxyXG4gIGlmICghZWxlbWVudCB8fCBlbGVtZW50ID09PSBkb2N1bWVudC5ib2R5IHx8IGVsZW1lbnQgPT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBjb25zdCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XHJcblxyXG4gIGlmIChzdHlsZS5vdmVyZmxvd1kgIT09ICd2aXNpYmxlJykge1xyXG4gICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZmluZENsb3Nlc3RTY3JvbGxDb250YWluZXIoZWxlbWVudC5wYXJlbnRFbGVtZW50KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdChkb3ROZXRIZWxwZXI6IERvdE5ldC5Eb3ROZXRPYmplY3QsIHNwYWNlckJlZm9yZTogSFRNTEVsZW1lbnQsIHNwYWNlckFmdGVyOiBIVE1MRWxlbWVudCwgcm9vdE1hcmdpbiA9IDUwKTogdm9pZCB7XHJcbiAgLy8gT3ZlcmZsb3cgYW5jaG9yaW5nIGNhbiBjYXVzZSBhbiBvbmdvaW5nIHNjcm9sbCBsb29wLCBiZWNhdXNlIHdoZW4gd2UgcmVzaXplIHRoZSBzcGFjZXJzLCB0aGUgYnJvd3NlclxyXG4gIC8vIHdvdWxkIHVwZGF0ZSB0aGUgc2Nyb2xsIHBvc2l0aW9uIHRvIGNvbXBlbnNhdGUuIFRoZW4gdGhlIHNwYWNlciB3b3VsZCByZW1haW4gdmlzaWJsZSBhbmQgd2UnZCBrZWVwIG9uXHJcbiAgLy8gdHJ5aW5nIHRvIHJlc2l6ZSBpdC5cclxuICBjb25zdCBzY3JvbGxDb250YWluZXIgPSBmaW5kQ2xvc2VzdFNjcm9sbENvbnRhaW5lcihzcGFjZXJCZWZvcmUpO1xyXG4gIChzY3JvbGxDb250YWluZXIgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5zdHlsZS5vdmVyZmxvd0FuY2hvciA9ICdub25lJztcclxuXHJcbiAgY29uc3QgcmFuZ2VCZXR3ZWVuU3BhY2VycyA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XHJcblxyXG4gIGlmIChpc1ZhbGlkVGFibGVFbGVtZW50KHNwYWNlckFmdGVyLnBhcmVudEVsZW1lbnQpKSB7XHJcbiAgICBzcGFjZXJCZWZvcmUuc3R5bGUuZGlzcGxheSA9ICd0YWJsZS1yb3cnO1xyXG4gICAgc3BhY2VyQWZ0ZXIuc3R5bGUuZGlzcGxheSA9ICd0YWJsZS1yb3cnO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgaW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoaW50ZXJzZWN0aW9uQ2FsbGJhY2ssIHtcclxuICAgIHJvb3Q6IHNjcm9sbENvbnRhaW5lcixcclxuICAgIHJvb3RNYXJnaW46IGAke3Jvb3RNYXJnaW59cHhgLFxyXG4gIH0pO1xyXG5cclxuICBpbnRlcnNlY3Rpb25PYnNlcnZlci5vYnNlcnZlKHNwYWNlckJlZm9yZSk7XHJcbiAgaW50ZXJzZWN0aW9uT2JzZXJ2ZXIub2JzZXJ2ZShzcGFjZXJBZnRlcik7XHJcblxyXG4gIGNvbnN0IG11dGF0aW9uT2JzZXJ2ZXJCZWZvcmUgPSBjcmVhdGVTcGFjZXJNdXRhdGlvbk9ic2VydmVyKHNwYWNlckJlZm9yZSk7XHJcbiAgY29uc3QgbXV0YXRpb25PYnNlcnZlckFmdGVyID0gY3JlYXRlU3BhY2VyTXV0YXRpb25PYnNlcnZlcihzcGFjZXJBZnRlcik7XHJcblxyXG4gIGNvbnN0IHsgb2JzZXJ2ZXJzQnlEb3ROZXRPYmplY3RJZCwgaWQgfSA9IGdldE9ic2VydmVyc01hcEVudHJ5KGRvdE5ldEhlbHBlcik7XHJcbiAgb2JzZXJ2ZXJzQnlEb3ROZXRPYmplY3RJZFtpZF0gPSB7XHJcbiAgICBpbnRlcnNlY3Rpb25PYnNlcnZlcixcclxuICAgIG11dGF0aW9uT2JzZXJ2ZXJCZWZvcmUsXHJcbiAgICBtdXRhdGlvbk9ic2VydmVyQWZ0ZXIsXHJcbiAgfTtcclxuXHJcbiAgZnVuY3Rpb24gY3JlYXRlU3BhY2VyTXV0YXRpb25PYnNlcnZlcihzcGFjZXI6IEhUTUxFbGVtZW50KTogTXV0YXRpb25PYnNlcnZlciB7XHJcbiAgICAvLyBXaXRob3V0IHRoZSB1c2Ugb2YgdGhyZXNob2xkcywgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgb25seSBkZXRlY3RzIGJpbmFyeSBjaGFuZ2VzIGluIHZpc2liaWxpdHksXHJcbiAgICAvLyBzbyBpZiBhIHNwYWNlciBnZXRzIHJlc2l6ZWQgYnV0IHJlbWFpbnMgdmlzaWJsZSwgbm8gYWRkaXRpb25hbCBjYWxsYmFja3Mgd2lsbCBvY2N1ci4gQnkgdW5vYnNlcnZpbmdcclxuICAgIC8vIGFuZCByZW9ic2VydmluZyBzcGFjZXJzIHdoZW4gdGhleSBnZXQgcmVzaXplZCwgdGhlIGludGVyc2VjdGlvbiBjYWxsYmFjayB3aWxsIHJlLXJ1biBpZiB0aGV5IHJlbWFpbiB2aXNpYmxlLlxyXG4gICAgY29uc3Qgb2JzZXJ2ZXJPcHRpb25zID0geyBhdHRyaWJ1dGVzOiB0cnVlIH07XHJcbiAgICBjb25zdCBtdXRhdGlvbk9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9uczogTXV0YXRpb25SZWNvcmRbXSwgb2JzZXJ2ZXI6IE11dGF0aW9uT2JzZXJ2ZXIpOiB2b2lkID0+IHtcclxuICAgICAgaWYgKGlzVmFsaWRUYWJsZUVsZW1lbnQoc3BhY2VyLnBhcmVudEVsZW1lbnQpKSB7XHJcbiAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgIHNwYWNlci5zdHlsZS5kaXNwbGF5ID0gJ3RhYmxlLXJvdyc7XHJcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShzcGFjZXIsIG9ic2VydmVyT3B0aW9ucyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGludGVyc2VjdGlvbk9ic2VydmVyLnVub2JzZXJ2ZShzcGFjZXIpO1xyXG4gICAgICBpbnRlcnNlY3Rpb25PYnNlcnZlci5vYnNlcnZlKHNwYWNlcik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBtdXRhdGlvbk9ic2VydmVyLm9ic2VydmUoc3BhY2VyLCBvYnNlcnZlck9wdGlvbnMpO1xyXG5cclxuICAgIHJldHVybiBtdXRhdGlvbk9ic2VydmVyO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaW50ZXJzZWN0aW9uQ2FsbGJhY2soZW50cmllczogSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeVtdKTogdm9pZCB7XHJcbiAgICBlbnRyaWVzLmZvckVhY2goKGVudHJ5KTogdm9pZCA9PiB7XHJcbiAgICAgIGlmICghZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFRvIGNvbXB1dGUgdGhlIEl0ZW1TaXplLCB3b3JrIG91dCB0aGUgc2VwYXJhdGlvbiBiZXR3ZWVuIHRoZSB0d28gc3BhY2Vycy4gV2UgY2FuJ3QganVzdCBtZWFzdXJlIGFuIGluZGl2aWR1YWwgZWxlbWVudFxyXG4gICAgICAvLyBiZWNhdXNlIGVhY2ggY29uY2VwdHVhbCBpdGVtIGNvdWxkIGJlIG1hZGUgZnJvbSBtdWx0aXBsZSBlbGVtZW50cy4gVXNpbmcgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGFsbG93cyBmb3IgdGhlIHNpemUgdG8gYmVcclxuICAgICAgLy8gYSBmcmFjdGlvbmFsIHZhbHVlLiBJdCdzIGltcG9ydGFudCBub3QgdG8gYWRkIG9yIHN1YnRyYWN0IGFueSBzdWNoIGZyYWN0aW9uYWwgdmFsdWVzIChlLmcuLCB0byBzdWJ0cmFjdCB0aGUgJ3RvcCcgb2ZcclxuICAgICAgLy8gb25lIGl0ZW0gZnJvbSB0aGUgJ2JvdHRvbScgb2YgYW5vdGhlciB0byBnZXQgdGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlbSkgYmVjYXVzZSBmbG9hdGluZyBwb2ludCBlcnJvcnMgd291bGQgY2F1c2VcclxuICAgICAgLy8gc2Nyb2xsaW5nIGdsaXRjaGVzLlxyXG4gICAgICByYW5nZUJldHdlZW5TcGFjZXJzLnNldFN0YXJ0QWZ0ZXIoc3BhY2VyQmVmb3JlKTtcclxuICAgICAgcmFuZ2VCZXR3ZWVuU3BhY2Vycy5zZXRFbmRCZWZvcmUoc3BhY2VyQWZ0ZXIpO1xyXG4gICAgICBjb25zdCBzcGFjZXJTZXBhcmF0aW9uID0gcmFuZ2VCZXR3ZWVuU3BhY2Vycy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICAgIGNvbnN0IGNvbnRhaW5lclNpemUgPSBlbnRyeS5yb290Qm91bmRzPy5oZWlnaHQ7XHJcblxyXG4gICAgICBpZiAoZW50cnkudGFyZ2V0ID09PSBzcGFjZXJCZWZvcmUpIHtcclxuICAgICAgICBkb3ROZXRIZWxwZXIuaW52b2tlTWV0aG9kQXN5bmMoJ09uU3BhY2VyQmVmb3JlVmlzaWJsZScsIGVudHJ5LmludGVyc2VjdGlvblJlY3QudG9wIC0gZW50cnkuYm91bmRpbmdDbGllbnRSZWN0LnRvcCwgc3BhY2VyU2VwYXJhdGlvbiwgY29udGFpbmVyU2l6ZSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoZW50cnkudGFyZ2V0ID09PSBzcGFjZXJBZnRlciAmJiBzcGFjZXJBZnRlci5vZmZzZXRIZWlnaHQgPiAwKSB7XHJcbiAgICAgICAgLy8gV2hlbiB3ZSBmaXJzdCBzdGFydCB1cCwgYm90aCB0aGUgXCJiZWZvcmVcIiBhbmQgXCJhZnRlclwiIHNwYWNlcnMgd2lsbCBiZSB2aXNpYmxlLCBidXQgaXQncyBvbmx5IHJlbGV2YW50IHRvIHJhaXNlIGFcclxuICAgICAgICAvLyBzaW5nbGUgZXZlbnQgdG8gbG9hZCB0aGUgaW5pdGlhbCBkYXRhLiBUbyBhdm9pZCByYWlzaW5nIHR3byBldmVudHMsIHNraXAgdGhlIG9uZSBmb3IgdGhlIFwiYWZ0ZXJcIiBzcGFjZXIgaWYgd2Uga25vd1xyXG4gICAgICAgIC8vIGl0J3MgbWVhbmluZ2xlc3MgdG8gdGFsayBhYm91dCBhbnkgb3ZlcmxhcCBpbnRvIGl0LlxyXG4gICAgICAgIGRvdE5ldEhlbHBlci5pbnZva2VNZXRob2RBc3luYygnT25TcGFjZXJBZnRlclZpc2libGUnLCBlbnRyeS5ib3VuZGluZ0NsaWVudFJlY3QuYm90dG9tIC0gZW50cnkuaW50ZXJzZWN0aW9uUmVjdC5ib3R0b20sIHNwYWNlclNlcGFyYXRpb24sIGNvbnRhaW5lclNpemUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGlzVmFsaWRUYWJsZUVsZW1lbnQoZWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsKTogYm9vbGVhbiB7XHJcbiAgICBpZiAoZWxlbWVudCA9PT0gbnVsbCkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuICgoZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxUYWJsZUVsZW1lbnQgJiYgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID09PSAnJykgfHwgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID09PSAndGFibGUnKVxyXG4gICAgICB8fCAoKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MVGFibGVTZWN0aW9uRWxlbWVudCAmJiBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPT09ICcnKSB8fCBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPT09ICd0YWJsZS1yb3ctZ3JvdXAnKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldE9ic2VydmVyc01hcEVudHJ5KGRvdE5ldEhlbHBlcjogRG90TmV0LkRvdE5ldE9iamVjdCk6IHsgb2JzZXJ2ZXJzQnlEb3ROZXRPYmplY3RJZDoge1tpZDogbnVtYmVyXTogYW55IH0sIGlkOiBudW1iZXIgfSB7XHJcbiAgY29uc3QgZG90TmV0SGVscGVyRGlzcGF0Y2hlciA9IGRvdE5ldEhlbHBlclsnX2NhbGxEaXNwYXRjaGVyJ107XHJcbiAgY29uc3QgZG90TmV0SGVscGVySWQgPSBkb3ROZXRIZWxwZXJbJ19pZCddO1xyXG4gIGRvdE5ldEhlbHBlckRpc3BhdGNoZXJbZGlzcGF0Y2hlck9ic2VydmVyc0J5RG90TmV0SWRQcm9wbmFtZV0gPz89IHsgfTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIG9ic2VydmVyc0J5RG90TmV0T2JqZWN0SWQ6IGRvdE5ldEhlbHBlckRpc3BhdGNoZXJbZGlzcGF0Y2hlck9ic2VydmVyc0J5RG90TmV0SWRQcm9wbmFtZV0sXHJcbiAgICBpZDogZG90TmV0SGVscGVySWQsXHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGlzcG9zZShkb3ROZXRIZWxwZXI6IERvdE5ldC5Eb3ROZXRPYmplY3QpOiB2b2lkIHtcclxuICBjb25zdCB7IG9ic2VydmVyc0J5RG90TmV0T2JqZWN0SWQsIGlkIH0gPSBnZXRPYnNlcnZlcnNNYXBFbnRyeShkb3ROZXRIZWxwZXIpO1xyXG4gIGNvbnN0IG9ic2VydmVycyA9IG9ic2VydmVyc0J5RG90TmV0T2JqZWN0SWRbaWRdO1xyXG5cclxuICBpZiAob2JzZXJ2ZXJzKSB7XHJcbiAgICBvYnNlcnZlcnMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xyXG4gICAgb2JzZXJ2ZXJzLm11dGF0aW9uT2JzZXJ2ZXJCZWZvcmUuZGlzY29ubmVjdCgpO1xyXG4gICAgb2JzZXJ2ZXJzLm11dGF0aW9uT2JzZXJ2ZXJBZnRlci5kaXNjb25uZWN0KCk7XHJcblxyXG4gICAgZG90TmV0SGVscGVyLmRpc3Bvc2UoKTtcclxuXHJcbiAgICBkZWxldGUgb2JzZXJ2ZXJzQnlEb3ROZXRPYmplY3RJZFtpZF07XHJcbiAgfVxyXG59XHJcbiIsIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cclxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuXHJcbmltcG9ydCB7IGdldExvZ2ljYWxQYXJlbnQsIExvZ2ljYWxFbGVtZW50IH0gZnJvbSAnLi9SZW5kZXJpbmcvTG9naWNhbEVsZW1lbnRzJztcclxuXHJcbmV4cG9ydCBjb25zdCBQYWdlVGl0bGUgPSB7XHJcbiAgZ2V0QW5kUmVtb3ZlRXhpc3RpbmdUaXRsZSxcclxufTtcclxuXHJcbmZ1bmN0aW9uIGdldEFuZFJlbW92ZUV4aXN0aW5nVGl0bGUoKTogc3RyaW5nIHwgbnVsbCB7XHJcbiAgLy8gT3RoZXIgPHRpdGxlPiBlbGVtZW50cyBtYXkgZXhpc3Qgb3V0c2lkZSA8aGVhZD4gKGUuZy4sIGluc2lkZSA8c3ZnPiBlbGVtZW50cykgYnV0IHRoZXkgYXJlbid0IHBhZ2UgdGl0bGVzXHJcbiAgY29uc3QgdGl0bGVFbGVtZW50cyA9IGRvY3VtZW50LmhlYWQgPyBkb2N1bWVudC5oZWFkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0aXRsZScpIDogW107XHJcblxyXG4gIGlmICh0aXRsZUVsZW1lbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBsZXQgZXhpc3RpbmdUaXRsZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XHJcblxyXG4gIGZvciAobGV0IGluZGV4ID0gdGl0bGVFbGVtZW50cy5sZW5ndGggLSAxOyBpbmRleCA+PSAwOyBpbmRleC0tKSB7XHJcbiAgICBjb25zdCBjdXJyZW50VGl0bGVFbGVtZW50ID0gdGl0bGVFbGVtZW50c1tpbmRleF07XHJcbiAgICBjb25zdCBwcmV2aW91c1NpYmxpbmcgPSBjdXJyZW50VGl0bGVFbGVtZW50LnByZXZpb3VzU2libGluZztcclxuICAgIGNvbnN0IGlzQmxhem9yVGl0bGUgPSBwcmV2aW91c1NpYmxpbmcgaW5zdGFuY2VvZiBDb21tZW50ICYmIGdldExvZ2ljYWxQYXJlbnQocHJldmlvdXNTaWJsaW5nIGFzIHVua25vd24gYXMgTG9naWNhbEVsZW1lbnQpICE9PSBudWxsO1xyXG5cclxuICAgIGlmIChpc0JsYXpvclRpdGxlKSB7XHJcbiAgICAgIGNvbnRpbnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChleGlzdGluZ1RpdGxlID09PSBudWxsKSB7XHJcbiAgICAgIGV4aXN0aW5nVGl0bGUgPSBjdXJyZW50VGl0bGVFbGVtZW50LnRleHRDb250ZW50O1xyXG4gICAgfVxyXG5cclxuICAgIGN1cnJlbnRUaXRsZUVsZW1lbnQucGFyZW50Tm9kZT8ucmVtb3ZlQ2hpbGQoY3VycmVudFRpdGxlRWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZXhpc3RpbmdUaXRsZTtcclxufVxyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG5leHBvcnQgY29uc3QgSW5wdXRGaWxlID0ge1xyXG4gIGluaXQsXHJcbiAgdG9JbWFnZUZpbGUsXHJcbiAgcmVhZEZpbGVEYXRhLFxyXG59O1xyXG5cclxuaW50ZXJmYWNlIEJyb3dzZXJGaWxlIHtcclxuICBpZDogbnVtYmVyO1xyXG4gIGxhc3RNb2RpZmllZDogc3RyaW5nO1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBzaXplOiBudW1iZXI7XHJcbiAgY29udGVudFR5cGU6IHN0cmluZztcclxuICBibG9iOiBCbG9iO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElucHV0RWxlbWVudCBleHRlbmRzIEhUTUxJbnB1dEVsZW1lbnQge1xyXG4gIF9ibGF6b3JJbnB1dEZpbGVOZXh0RmlsZUlkOiBudW1iZXI7XHJcbiAgX2JsYXpvckZpbGVzQnlJZDogeyBbaWQ6IG51bWJlcl06IEJyb3dzZXJGaWxlIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXQoY2FsbGJhY2tXcmFwcGVyOiBhbnksIGVsZW06IElucHV0RWxlbWVudCk6IHZvaWQge1xyXG4gIGVsZW0uX2JsYXpvcklucHV0RmlsZU5leHRGaWxlSWQgPSAwO1xyXG5cclxuICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKTogdm9pZCB7XHJcbiAgICAvLyBQZXJtaXRzIHJlcGxhY2luZyBhbiBleGlzdGluZyBmaWxlIHdpdGggYSBuZXcgb25lIG9mIHRoZSBzYW1lIGZpbGUgbmFtZS5cclxuICAgIGVsZW0udmFsdWUgPSAnJztcclxuICB9KTtcclxuXHJcbiAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbigpOiB2b2lkIHtcclxuICAgIC8vIFJlZHVjZSB0byBwdXJlbHkgc2VyaWFsaXphYmxlIGRhdGEsIHBsdXMgYW4gaW5kZXggYnkgSUQuXHJcbiAgICBlbGVtLl9ibGF6b3JGaWxlc0J5SWQgPSB7fTtcclxuXHJcbiAgICBjb25zdCBmaWxlTGlzdCA9IEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChlbGVtLmZpbGVzLCBmdW5jdGlvbihmaWxlOiBGaWxlKTogQnJvd3NlckZpbGUge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSB7XHJcbiAgICAgICAgaWQ6ICsrZWxlbS5fYmxhem9ySW5wdXRGaWxlTmV4dEZpbGVJZCxcclxuICAgICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKGZpbGUubGFzdE1vZGlmaWVkKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgIG5hbWU6IGZpbGUubmFtZSxcclxuICAgICAgICBzaXplOiBmaWxlLnNpemUsXHJcbiAgICAgICAgY29udGVudFR5cGU6IGZpbGUudHlwZSxcclxuICAgICAgICByZWFkUHJvbWlzZTogdW5kZWZpbmVkLFxyXG4gICAgICAgIGFycmF5QnVmZmVyOiB1bmRlZmluZWQsXHJcbiAgICAgICAgYmxvYjogZmlsZSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGVsZW0uX2JsYXpvckZpbGVzQnlJZFtyZXN1bHQuaWRdID0gcmVzdWx0O1xyXG5cclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH0pO1xyXG5cclxuICAgIGNhbGxiYWNrV3JhcHBlci5pbnZva2VNZXRob2RBc3luYygnTm90aWZ5Q2hhbmdlJywgZmlsZUxpc3QpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiB0b0ltYWdlRmlsZShlbGVtOiBJbnB1dEVsZW1lbnQsIGZpbGVJZDogbnVtYmVyLCBmb3JtYXQ6IHN0cmluZywgbWF4V2lkdGg6IG51bWJlciwgbWF4SGVpZ2h0OiBudW1iZXIpOiBQcm9taXNlPEJyb3dzZXJGaWxlPiB7XHJcbiAgY29uc3Qgb3JpZ2luYWxGaWxlID0gZ2V0RmlsZUJ5SWQoZWxlbSwgZmlsZUlkKTtcclxuXHJcbiAgY29uc3QgbG9hZGVkSW1hZ2UgPSBhd2FpdCBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlOiAobG9hZGVkSW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgIGNvbnN0IG9yaWdpbmFsRmlsZUltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICBvcmlnaW5hbEZpbGVJbWFnZS5vbmxvYWQgPSBmdW5jdGlvbigpOiB2b2lkIHtcclxuICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChvcmlnaW5hbEZpbGVJbWFnZS5zcmMpO1xyXG4gICAgICByZXNvbHZlKG9yaWdpbmFsRmlsZUltYWdlKTtcclxuICAgIH07XHJcbiAgICBvcmlnaW5hbEZpbGVJbWFnZS5vbmVycm9yID0gZnVuY3Rpb24oKTogdm9pZCB7XHJcbiAgICAgIG9yaWdpbmFsRmlsZUltYWdlLm9uZXJyb3IgPSBudWxsO1xyXG4gICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKG9yaWdpbmFsRmlsZUltYWdlLnNyYyk7XHJcbiAgICB9O1xyXG4gICAgb3JpZ2luYWxGaWxlSW1hZ2Uuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChvcmlnaW5hbEZpbGVbJ2Jsb2InXSk7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IHJlc2l6ZWRJbWFnZUJsb2IgPSBhd2FpdCBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlOiBCbG9iQ2FsbGJhY2spOiB2b2lkIHtcclxuICAgIGNvbnN0IGRlc2lyZWRXaWR0aFJhdGlvID0gTWF0aC5taW4oMSwgbWF4V2lkdGggLyBsb2FkZWRJbWFnZS53aWR0aCk7XHJcbiAgICBjb25zdCBkZXNpcmVkSGVpZ2h0UmF0aW8gPSBNYXRoLm1pbigxLCBtYXhIZWlnaHQgLyBsb2FkZWRJbWFnZS5oZWlnaHQpO1xyXG4gICAgY29uc3QgY2hvc2VuU2l6ZVJhdGlvID0gTWF0aC5taW4oZGVzaXJlZFdpZHRoUmF0aW8sIGRlc2lyZWRIZWlnaHRSYXRpbyk7XHJcblxyXG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICBjYW52YXMud2lkdGggPSBNYXRoLnJvdW5kKGxvYWRlZEltYWdlLndpZHRoICogY2hvc2VuU2l6ZVJhdGlvKTtcclxuICAgIGNhbnZhcy5oZWlnaHQgPSBNYXRoLnJvdW5kKGxvYWRlZEltYWdlLmhlaWdodCAqIGNob3NlblNpemVSYXRpbyk7XHJcbiAgICBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKT8uZHJhd0ltYWdlKGxvYWRlZEltYWdlLCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG4gICAgY2FudmFzLnRvQmxvYihyZXNvbHZlLCBmb3JtYXQpO1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCByZXN1bHQ6IEJyb3dzZXJGaWxlID0ge1xyXG4gICAgaWQ6ICsrZWxlbS5fYmxhem9ySW5wdXRGaWxlTmV4dEZpbGVJZCxcclxuICAgIGxhc3RNb2RpZmllZDogb3JpZ2luYWxGaWxlLmxhc3RNb2RpZmllZCxcclxuICAgIG5hbWU6IG9yaWdpbmFsRmlsZS5uYW1lLFxyXG4gICAgc2l6ZTogcmVzaXplZEltYWdlQmxvYj8uc2l6ZSB8fCAwLFxyXG4gICAgY29udGVudFR5cGU6IGZvcm1hdCxcclxuICAgIGJsb2I6IHJlc2l6ZWRJbWFnZUJsb2IgPyByZXNpemVkSW1hZ2VCbG9iIDogb3JpZ2luYWxGaWxlLmJsb2IsXHJcbiAgfTtcclxuXHJcbiAgZWxlbS5fYmxhem9yRmlsZXNCeUlkW3Jlc3VsdC5pZF0gPSByZXN1bHQ7XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHJlYWRGaWxlRGF0YShlbGVtOiBJbnB1dEVsZW1lbnQsIGZpbGVJZDogbnVtYmVyKTogUHJvbWlzZTxCbG9iPiB7XHJcbiAgY29uc3QgZmlsZSA9IGdldEZpbGVCeUlkKGVsZW0sIGZpbGVJZCk7XHJcbiAgcmV0dXJuIGZpbGUuYmxvYjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpbGVCeUlkKGVsZW06IElucHV0RWxlbWVudCwgZmlsZUlkOiBudW1iZXIpOiBCcm93c2VyRmlsZSB7XHJcbiAgY29uc3QgZmlsZSA9IGVsZW0uX2JsYXpvckZpbGVzQnlJZFtmaWxlSWRdO1xyXG5cclxuICBpZiAoIWZpbGUpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgVGhlcmUgaXMgbm8gZmlsZSB3aXRoIElEICR7ZmlsZUlkfS4gVGhlIGZpbGUgbGlzdCBtYXkgaGF2ZSBjaGFuZ2VkLiBTZWUgaHR0cHM6Ly9ha2EubXMvYXNwbmV0L2JsYXpvci1pbnB1dC1maWxlLW11bHRpcGxlLXNlbGVjdGlvbnMuYCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZmlsZTtcclxufVxyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG5jb25zdCByZWdpc3RlcmVkTG9ja3MgPSBuZXcgU2V0PHN0cmluZz4oKTtcclxuXHJcbmV4cG9ydCBjb25zdCBOYXZpZ2F0aW9uTG9jayA9IHtcclxuICBlbmFibGVOYXZpZ2F0aW9uUHJvbXB0LFxyXG4gIGRpc2FibGVOYXZpZ2F0aW9uUHJvbXB0LFxyXG59O1xyXG5cclxuZnVuY3Rpb24gb25CZWZvcmVVbmxvYWQoZXZlbnQ6IEJlZm9yZVVubG9hZEV2ZW50KSB7XHJcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAvLyBNb2Rlcm4gYnJvd3NlcnMgZGlzcGxheSBhIGNvbmZpcm1hdGlvbiBwcm9tcHQgd2hlbiByZXR1cm5WYWx1ZSBpcyBzb21lIHZhbHVlIG90aGVyIHRoYW5cclxuICAvLyBudWxsIG9yIHVuZGVmaW5lZC5cclxuICAvLyBTZWU6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XaW5kb3cvYmVmb3JldW5sb2FkX2V2ZW50I2NvbXBhdGliaWxpdHlfbm90ZXNcclxuICBldmVudC5yZXR1cm5WYWx1ZSA9IHRydWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVuYWJsZU5hdmlnYXRpb25Qcm9tcHQoaWQ6IHN0cmluZykge1xyXG4gIGlmIChyZWdpc3RlcmVkTG9ja3Muc2l6ZSA9PT0gMCkge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIG9uQmVmb3JlVW5sb2FkKTtcclxuICB9XHJcblxyXG4gIHJlZ2lzdGVyZWRMb2Nrcy5hZGQoaWQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkaXNhYmxlTmF2aWdhdGlvblByb21wdChpZDogc3RyaW5nKSB7XHJcbiAgcmVnaXN0ZXJlZExvY2tzLmRlbGV0ZShpZCk7XHJcblxyXG4gIGlmIChyZWdpc3RlcmVkTG9ja3Muc2l6ZSA9PT0gMCkge1xyXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIG9uQmVmb3JlVW5sb2FkKTtcclxuICB9XHJcbn1cclxuIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxyXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG5cclxuaW1wb3J0IHsgRG90TmV0IH0gZnJvbSAnQG1pY3Jvc29mdC9kb3RuZXQtanMtaW50ZXJvcCc7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TmV4dENodW5rKGRhdGE6IEFycmF5QnVmZmVyVmlldyB8IEJsb2IsIHBvc2l0aW9uOiBudW1iZXIsIG5leHRDaHVua1NpemU6IG51bWJlcik6IFByb21pc2U8VWludDhBcnJheT4ge1xyXG4gIGlmIChkYXRhIGluc3RhbmNlb2YgQmxvYikge1xyXG4gICAgcmV0dXJuIGF3YWl0IGdldENodW5rRnJvbUJsb2IoZGF0YSwgcG9zaXRpb24sIG5leHRDaHVua1NpemUpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gZ2V0Q2h1bmtGcm9tQXJyYXlCdWZmZXJWaWV3KGRhdGEsIHBvc2l0aW9uLCBuZXh0Q2h1bmtTaXplKTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldENodW5rRnJvbUJsb2IoZGF0YTogQmxvYiwgcG9zaXRpb246IG51bWJlciwgbmV4dENodW5rU2l6ZTogbnVtYmVyKTogUHJvbWlzZTxVaW50OEFycmF5PiB7XHJcbiAgY29uc3QgY2h1bmtCbG9iID0gZGF0YS5zbGljZShwb3NpdGlvbiwgcG9zaXRpb24gKyBuZXh0Q2h1bmtTaXplKTtcclxuICBjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IGNodW5rQmxvYi5hcnJheUJ1ZmZlcigpO1xyXG4gIGNvbnN0IG5leHRDaHVua0RhdGEgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcik7XHJcbiAgcmV0dXJuIG5leHRDaHVua0RhdGE7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldENodW5rRnJvbUFycmF5QnVmZmVyVmlldyhkYXRhOiBBcnJheUJ1ZmZlclZpZXcsIHBvc2l0aW9uOiBudW1iZXIsIG5leHRDaHVua1NpemU6IG51bWJlcik6IFVpbnQ4QXJyYXkge1xyXG4gIGNvbnN0IG5leHRDaHVua0RhdGEgPSBuZXcgVWludDhBcnJheShkYXRhLmJ1ZmZlciwgZGF0YS5ieXRlT2Zmc2V0ICsgcG9zaXRpb24sIG5leHRDaHVua1NpemUpO1xyXG4gIHJldHVybiBuZXh0Q2h1bmtEYXRhO1xyXG59XHJcblxyXG5jb25zdCB0cmFuc21pdHRpbmdEb3ROZXRUb0pTU3RyZWFtcyA9IG5ldyBNYXA8bnVtYmVyLCBSZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXI8YW55Pj4oKTtcclxuZXhwb3J0IGZ1bmN0aW9uIHJlY2VpdmVEb3ROZXREYXRhU3RyZWFtKGRpc3BhdGNoZXI6IERvdE5ldC5JQ2FsbERpc3BhdGNoZXIsIHN0cmVhbUlkOiBudW1iZXIsIGRhdGE6IFVpbnQ4QXJyYXksIGJ5dGVzUmVhZDogbnVtYmVyLCBlcnJvck1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xyXG4gIGxldCBzdHJlYW1Db250cm9sbGVyID0gdHJhbnNtaXR0aW5nRG90TmV0VG9KU1N0cmVhbXMuZ2V0KHN0cmVhbUlkKTtcclxuICBpZiAoIXN0cmVhbUNvbnRyb2xsZXIpIHtcclxuICAgIGNvbnN0IHJlYWRhYmxlU3RyZWFtID0gbmV3IFJlYWRhYmxlU3RyZWFtKHtcclxuICAgICAgc3RhcnQoY29udHJvbGxlcikge1xyXG4gICAgICAgIHRyYW5zbWl0dGluZ0RvdE5ldFRvSlNTdHJlYW1zLnNldChzdHJlYW1JZCwgY29udHJvbGxlcik7XHJcbiAgICAgICAgc3RyZWFtQ29udHJvbGxlciA9IGNvbnRyb2xsZXI7XHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBkaXNwYXRjaGVyLnN1cHBseURvdE5ldFN0cmVhbShzdHJlYW1JZCwgcmVhZGFibGVTdHJlYW0pO1xyXG4gIH1cclxuXHJcbiAgaWYgKGVycm9yTWVzc2FnZSkge1xyXG4gICAgc3RyZWFtQ29udHJvbGxlciEuZXJyb3IoZXJyb3JNZXNzYWdlKTtcclxuICAgIHRyYW5zbWl0dGluZ0RvdE5ldFRvSlNTdHJlYW1zLmRlbGV0ZShzdHJlYW1JZCk7XHJcbiAgfSBlbHNlIGlmIChieXRlc1JlYWQgPT09IDApIHtcclxuICAgIHN0cmVhbUNvbnRyb2xsZXIhLmNsb3NlKCk7XHJcbiAgICB0cmFuc21pdHRpbmdEb3ROZXRUb0pTU3RyZWFtcy5kZWxldGUoc3RyZWFtSWQpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBzdHJlYW1Db250cm9sbGVyIS5lbnF1ZXVlKGRhdGEubGVuZ3RoID09PSBieXRlc1JlYWQgPyBkYXRhIDogZGF0YS5zdWJhcnJheSgwLCBieXRlc1JlYWQpKTtcclxuICB9XHJcbn1cclxuIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxyXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG5cclxuaW1wb3J0IHsgbmF2aWdhdGVUbywgaW50ZXJuYWxGdW5jdGlvbnMgYXMgbmF2aWdhdGlvbk1hbmFnZXJJbnRlcm5hbEZ1bmN0aW9ucywgTmF2aWdhdGlvbk9wdGlvbnMgfSBmcm9tICcuL1NlcnZpY2VzL05hdmlnYXRpb25NYW5hZ2VyJztcclxuaW1wb3J0IHsgZG9tRnVuY3Rpb25zIH0gZnJvbSAnLi9Eb21XcmFwcGVyJztcclxuaW1wb3J0IHsgVmlydHVhbGl6ZSB9IGZyb20gJy4vVmlydHVhbGl6ZSc7XHJcbmltcG9ydCB7IFBhZ2VUaXRsZSB9IGZyb20gJy4vUGFnZVRpdGxlJztcclxuaW1wb3J0IHsgcmVnaXN0ZXJDdXN0b21FdmVudFR5cGUsIEV2ZW50VHlwZU9wdGlvbnMgfSBmcm9tICcuL1JlbmRlcmluZy9FdmVudHMvRXZlbnRUeXBlcyc7XHJcbmltcG9ydCB7IEh1YkNvbm5lY3Rpb24gfSBmcm9tICdAbWljcm9zb2Z0L3NpZ25hbHInO1xyXG5pbXBvcnQgeyBJbnB1dEZpbGUgfSBmcm9tICcuL0lucHV0RmlsZSc7XHJcbmltcG9ydCB7IE5hdmlnYXRpb25Mb2NrIH0gZnJvbSAnLi9OYXZpZ2F0aW9uTG9jayc7XHJcbmltcG9ydCB7IERlZmF1bHRSZWNvbm5lY3Rpb25IYW5kbGVyIH0gZnJvbSAnLi9QbGF0Zm9ybS9DaXJjdWl0cy9EZWZhdWx0UmVjb25uZWN0aW9uSGFuZGxlcic7XHJcbmltcG9ydCB7IENpcmN1aXRTdGFydE9wdGlvbnMgfSBmcm9tICcuL1BsYXRmb3JtL0NpcmN1aXRzL0NpcmN1aXRTdGFydE9wdGlvbnMnO1xyXG5pbXBvcnQgeyBXZWJBc3NlbWJseVN0YXJ0T3B0aW9ucyB9IGZyb20gJy4vUGxhdGZvcm0vV2ViQXNzZW1ibHlTdGFydE9wdGlvbnMnO1xyXG5pbXBvcnQgeyBQbGF0Zm9ybSwgUG9pbnRlciB9IGZyb20gJy4vUGxhdGZvcm0vUGxhdGZvcm0nO1xyXG5pbXBvcnQgeyBnZXROZXh0Q2h1bmsgfSBmcm9tICcuL1N0cmVhbWluZ0ludGVyb3AnO1xyXG5pbXBvcnQgeyBSb290Q29tcG9uZW50c0Z1bmN0aW9ucyB9IGZyb20gJy4vUmVuZGVyaW5nL0pTUm9vdENvbXBvbmVudHMnO1xyXG5pbXBvcnQgeyBhdHRhY2hXZWJSZW5kZXJlckludGVyb3AgfSBmcm9tICcuL1JlbmRlcmluZy9XZWJSZW5kZXJlckludGVyb3BNZXRob2RzJztcclxuaW1wb3J0IHsgV2ViU3RhcnRPcHRpb25zIH0gZnJvbSAnLi9QbGF0Zm9ybS9XZWJTdGFydE9wdGlvbnMnO1xyXG5pbXBvcnQgeyBSdW50aW1lQVBJIH0gZnJvbSAnQG1pY3Jvc29mdC9kb3RuZXQtcnVudGltZSc7XHJcbmltcG9ydCB7IEpTRXZlbnRSZWdpc3RyeSB9IGZyb20gJy4vU2VydmljZXMvSlNFdmVudFJlZ2lzdHJ5JztcclxuXHJcbi8vIFRPRE86IEl0J3Mga2luZCBvZiBoYXJkIHRvIHRlbGwgd2hpY2ggLk5FVCBwbGF0Zm9ybShzKSBzb21lIG9mIHRoZXNlIEFQSXMgYXJlIHJlbGV2YW50IHRvLlxyXG4vLyBJdCdzIGltcG9ydGFudCB0byBrbm93IHRoaXMgaW5mb3JtYXRpb24gd2hlbiBkZWFsaW5nIHdpdGggdGhlIHBvc3NpYmlsaXR5IG9mIG11bGl0cGxlIC5ORVQgcGxhdGZvcm1zIGJlaW5nIGF2YWlsYWJsZS5cclxuLy8gZS5nLiwgd2hpY2ggb2YgdGhlc2UgQVBJcyBuZWVkIHRvIGFjY291bnQgZm9yIHRoZXJlIGJlaW5nIG11bHRpcGxlIC5ORVQgcnVudGltZXMsIGFuZCB3aGljaCBkb24ndD9cclxuXHJcbi8vIFdlIHNob3VsZCBjb25zaWRlciBzZXBhcmF0aW5nIGl0IGFsbCBvdXQgc28gdGhhdCB3ZSBjYW4gZWFzaWx5IGlkZW50aWZ5IHRoZSBwbGF0Zm9ybSByZXF1aXJlbWVudHMgb2YgZWFjaCBBUEkuXHJcbi8vIEZvciBleGFtcGxlOlxyXG4vLyAqIEJsYXpvci57Zm9vfTogcHVibGljIEJsYXpvciBBUElzXHJcbi8vICogQmxhem9yLl9pbnRlcm5hbC57Zm9vfTogaW50ZXJuYWwsIHBsYXRmb3JtLWFnbm9zdGljIEJsYXpvciBBUElzXHJcbi8vICogQmxhem9yLnBsYXRmb3JtLntzb21lUGxhdGZvcm1OYW1lfS57Zm9vfTogcHVibGljLCBwbGF0Zm9ybS1zcGVjaWZpYyBCbGF6b3IgQVBJcyAod291bGQgYmUgZW1wdHkgYXQgZmlyc3QsIHNvIG5vIGluaXRpYWwgYnJlYWtpbmcgY2hhbmdlcylcclxuLy8gKiBCbGF6b3IucGxhdGZvcm0ue3NvbWVQbGF0Zm9ybU5hbWV9LntfaW50ZXJuYWx9Lntmb299OiBpbnRlcm5hbCwgcGxhdGZvcm0tc3BlY2lmaWMgQmxhem9yIEFQSXNcclxuZXhwb3J0IGludGVyZmFjZSBJQmxhem9yIHtcclxuICBuYXZpZ2F0ZVRvOiAodXJpOiBzdHJpbmcsIG9wdGlvbnM6IE5hdmlnYXRpb25PcHRpb25zKSA9PiB2b2lkO1xyXG4gIHJlZ2lzdGVyQ3VzdG9tRXZlbnRUeXBlOiAoZXZlbnROYW1lOiBzdHJpbmcsIG9wdGlvbnM6IEV2ZW50VHlwZU9wdGlvbnMpID0+IHZvaWQ7XHJcblxyXG4gIGFkZEV2ZW50TGlzdGVuZXI/OiB0eXBlb2YgSlNFdmVudFJlZ2lzdHJ5LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyO1xyXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXI/OiB0eXBlb2YgSlNFdmVudFJlZ2lzdHJ5LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyO1xyXG4gIGRpc2Nvbm5lY3Q/OiAoKSA9PiB2b2lkO1xyXG4gIHJlY29ubmVjdD86IChleGlzdGluZ0Nvbm5lY3Rpb24/OiBIdWJDb25uZWN0aW9uKSA9PiBQcm9taXNlPGJvb2xlYW4+O1xyXG4gIHBhdXNlQ2lyY3VpdD86ICgpID0+IFByb21pc2U8Ym9vbGVhbj47XHJcbiAgcmVzdW1lQ2lyY3VpdD86ICgpID0+IFByb21pc2U8Ym9vbGVhbj47XHJcbiAgZGVmYXVsdFJlY29ubmVjdGlvbkhhbmRsZXI/OiBEZWZhdWx0UmVjb25uZWN0aW9uSGFuZGxlcjtcclxuICBzdGFydD86ICgodXNlck9wdGlvbnM/OiBQYXJ0aWFsPENpcmN1aXRTdGFydE9wdGlvbnM+KSA9PiBQcm9taXNlPHZvaWQ+KSB8ICgob3B0aW9ucz86IFBhcnRpYWw8V2ViQXNzZW1ibHlTdGFydE9wdGlvbnM+KSA9PiBQcm9taXNlPHZvaWQ+KSB8ICgob3B0aW9ucz86IFBhcnRpYWw8V2ViU3RhcnRPcHRpb25zPikgPT4gUHJvbWlzZTx2b2lkPik7XHJcbiAgcGxhdGZvcm0/OiBQbGF0Zm9ybTtcclxuICByb290Q29tcG9uZW50czogdHlwZW9mIFJvb3RDb21wb25lbnRzRnVuY3Rpb25zO1xyXG4gIHJ1bnRpbWU6IFJ1bnRpbWVBUEksXHJcblxyXG4gIF9pbnRlcm5hbDoge1xyXG4gICAgbmF2aWdhdGlvbk1hbmFnZXI6IHR5cGVvZiBuYXZpZ2F0aW9uTWFuYWdlckludGVybmFsRnVuY3Rpb25zIHwgYW55O1xyXG4gICAgZG9tV3JhcHBlcjogdHlwZW9mIGRvbUZ1bmN0aW9ucztcclxuICAgIFZpcnR1YWxpemU6IHR5cGVvZiBWaXJ0dWFsaXplO1xyXG4gICAgUGFnZVRpdGxlOiB0eXBlb2YgUGFnZVRpdGxlO1xyXG4gICAgZm9yY2VDbG9zZUNvbm5lY3Rpb24/OiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xyXG4gICAgSW5wdXRGaWxlPzogdHlwZW9mIElucHV0RmlsZTtcclxuICAgIE5hdmlnYXRpb25Mb2NrOiB0eXBlb2YgTmF2aWdhdGlvbkxvY2s7XHJcbiAgICBpbnZva2VKU0pzb24/OiAoaWRlbnRpZmllcjogc3RyaW5nLCB0YXJnZXRJbnN0YW5jZUlkOiBudW1iZXIsIHJlc3VsdFR5cGU6IG51bWJlciwgYXJnc0pzb246IHN0cmluZywgYXN5bmNIYW5kbGU6IG51bWJlciwgY2FsbFR5cGU6IG51bWJlcikgPT4gc3RyaW5nIHwgbnVsbDtcclxuICAgIGVuZEludm9rZURvdE5ldEZyb21KUz86IChjYWxsSWQ6IHN0cmluZywgc3VjY2VzczogYm9vbGVhbiwgcmVzdWx0SnNvbk9yRXJyb3JNZXNzYWdlOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgICByZWNlaXZlQnl0ZUFycmF5PzogKGlkOiBudW1iZXIsIGRhdGE6IFVpbnQ4QXJyYXkpID0+IHZvaWQ7XHJcbiAgICBnZXRQZXJzaXN0ZWRTdGF0ZT86ICgpID0+IHN0cmluZztcclxuICAgIGdldEluaXRpYWxDb21wb25lbnRzVXBkYXRlPzogKCkgPT4gUHJvbWlzZTxzdHJpbmc+O1xyXG4gICAgdXBkYXRlUm9vdENvbXBvbmVudHM/OiAob3BlcmF0aW9uczogc3RyaW5nLCB3ZWJBc3NlbWJseVN0YXRlOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgICBlbmRVcGRhdGVSb290Q29tcG9uZW50cz86IChiYXRjaElkOiBudW1iZXIpID0+IHZvaWQ7XHJcbiAgICBhdHRhY2hSb290Q29tcG9uZW50VG9FbGVtZW50PzogKGFyZzA6IGFueSwgYXJnMTogYW55LCBhcmcyOiBhbnksIGFyZzM6IGFueSkgPT4gdm9pZDtcclxuICAgIHJlZ2lzdGVyZWRDb21wb25lbnRzPzoge1xyXG4gICAgICBnZXRSZWdpc3RlcmVkQ29tcG9uZW50c0NvdW50OiAoKSA9PiBudW1iZXI7XHJcbiAgICAgIGdldEFzc2VtYmx5OiAoaWQpID0+IHN0cmluZztcclxuICAgICAgZ2V0VHlwZU5hbWU6IChpZCkgPT4gc3RyaW5nO1xyXG4gICAgICBnZXRQYXJhbWV0ZXJEZWZpbml0aW9uczogKGlkKSA9PiBzdHJpbmc7XHJcbiAgICAgIGdldFBhcmFtZXRlclZhbHVlczogKGlkKSA9PiBhbnk7XHJcbiAgICB9O1xyXG4gICAgcmVuZGVyQmF0Y2g/OiAoYnJvd3NlclJlbmRlcmVySWQ6IG51bWJlciwgYmF0Y2hBZGRyZXNzOiBQb2ludGVyKSA9PiB2b2lkO1xyXG4gICAgZ2V0Q29uZmlnPzogKGZpbGVOYW1lOiBzdHJpbmcpID0+IFVpbnQ4QXJyYXkgfCB1bmRlZmluZWQ7XHJcbiAgICBnZXRBcHBsaWNhdGlvbkVudmlyb25tZW50PzogKCkgPT4gc3RyaW5nO1xyXG4gICAgZG90TmV0Q3JpdGljYWxFcnJvcj86IGFueTtcclxuICAgIGxvYWRMYXp5QXNzZW1ibHk/OiBhbnk7XHJcbiAgICBsb2FkU2F0ZWxsaXRlQXNzZW1ibGllcz86IGFueTtcclxuICAgIHNlbmRKU0RhdGFTdHJlYW0/OiAoZGF0YTogYW55LCBzdHJlYW1JZDogbnVtYmVyLCBjaHVua1NpemU6IG51bWJlcikgPT4gdm9pZDtcclxuICAgIGdldEpTRGF0YVN0cmVhbUNodW5rPzogKGRhdGE6IGFueSwgcG9zaXRpb246IG51bWJlciwgY2h1bmtTaXplOiBudW1iZXIpID0+IFByb21pc2U8VWludDhBcnJheT47XHJcbiAgICByZWNlaXZlV2ViQXNzZW1ibHlEb3ROZXREYXRhU3RyZWFtPzogKHN0cmVhbUlkOiBudW1iZXIsIGRhdGE6IGFueSwgYnl0ZXNSZWFkOiBudW1iZXIsIGVycm9yTWVzc2FnZTogc3RyaW5nKSA9PiB2b2lkO1xyXG4gICAgcmVjZWl2ZVdlYlZpZXdEb3ROZXREYXRhU3RyZWFtPzogKHN0cmVhbUlkOiBudW1iZXIsIGRhdGE6IGFueSwgYnl0ZXNSZWFkOiBudW1iZXIsIGVycm9yTWVzc2FnZTogc3RyaW5nKSA9PiB2b2lkO1xyXG4gICAgYXR0YWNoV2ViUmVuZGVyZXJJbnRlcm9wPzogdHlwZW9mIGF0dGFjaFdlYlJlbmRlcmVySW50ZXJvcDtcclxuXHJcbiAgICAvLyBKU0V4cG9ydCBBUElzXHJcbiAgICBkb3ROZXRFeHBvcnRzPzoge1xyXG4gICAgICBJbnZva2VEb3ROZXQ6IChhc3NlbWJseU5hbWU6IHN0cmluZyB8IG51bGwsIG1ldGhvZElkZW50aWZpZXI6IHN0cmluZywgZG90TmV0T2JqZWN0SWQ6IG51bWJlciwgYXJnc0pzb246IHN0cmluZykgPT4gc3RyaW5nIHwgbnVsbDtcclxuICAgICAgRW5kSW52b2tlSlM6IChhcmdzSnNvbjogc3RyaW5nKSA9PiB2b2lkO1xyXG4gICAgICBCZWdpbkludm9rZURvdE5ldDogKGNhbGxJZDogc3RyaW5nIHwgbnVsbCwgYXNzZW1ibHlOYW1lT3JEb3ROZXRPYmplY3RJZDogc3RyaW5nLCBtZXRob2RJZGVudGlmaWVyOiBzdHJpbmcsIGFyZ3NKc29uOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgICAgIFJlY2VpdmVCeXRlQXJyYXlGcm9tSlM6IChpZDogbnVtYmVyLCBkYXRhOiBVaW50OEFycmF5KSA9PiB2b2lkO1xyXG4gICAgICBVcGRhdGVSb290Q29tcG9uZW50c0NvcmU6IChvcGVyYXRpb25zSnNvbjogc3RyaW5nLCBhcHBTdGF0ZTogc3RyaW5nKSA9PiB2b2lkO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFQSXMgaW52b2tlZCBieSBob3QgcmVsb2FkXHJcblxyXG4gICAgaG90UmVsb2FkQXBwbGllZD86ICgpID0+IHZvaWQ7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQmxhem9yOiBJQmxhem9yID0ge1xyXG4gIG5hdmlnYXRlVG8sXHJcbiAgcmVnaXN0ZXJDdXN0b21FdmVudFR5cGUsXHJcbiAgcm9vdENvbXBvbmVudHM6IFJvb3RDb21wb25lbnRzRnVuY3Rpb25zLFxyXG4gIHJ1bnRpbWU6IHt9IGFzIFJ1bnRpbWVBUEksXHJcblxyXG4gIF9pbnRlcm5hbDoge1xyXG4gICAgbmF2aWdhdGlvbk1hbmFnZXI6IG5hdmlnYXRpb25NYW5hZ2VySW50ZXJuYWxGdW5jdGlvbnMsXHJcbiAgICBkb21XcmFwcGVyOiBkb21GdW5jdGlvbnMsXHJcbiAgICBWaXJ0dWFsaXplLFxyXG4gICAgUGFnZVRpdGxlLFxyXG4gICAgSW5wdXRGaWxlLFxyXG4gICAgTmF2aWdhdGlvbkxvY2ssXHJcbiAgICBnZXRKU0RhdGFTdHJlYW1DaHVuazogZ2V0TmV4dENodW5rLFxyXG4gICAgYXR0YWNoV2ViUmVuZGVyZXJJbnRlcm9wLFxyXG4gIH0sXHJcbn07XHJcblxyXG4vLyBNYWtlIHRoZSBmb2xsb3dpbmcgQVBJcyBhdmFpbGFibGUgaW4gZ2xvYmFsIHNjb3BlIGZvciBpbnZvY2F0aW9uIGZyb20gSlNcclxud2luZG93WydCbGF6b3InXSA9IEJsYXpvcjtcclxuIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxyXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG5cclxubGV0IGhhc0ZhaWxlZCA9IGZhbHNlO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNob3dFcnJvck5vdGlmaWNhdGlvbigpOiB2b2lkIHtcclxuICBjb25zdCBlcnJvclVpID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2JsYXpvci1lcnJvci11aScpIGFzIEhUTUxFbGVtZW50O1xyXG4gIGlmIChlcnJvclVpKSB7XHJcbiAgICBlcnJvclVpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFoYXNGYWlsZWQpIHtcclxuICAgIGhhc0ZhaWxlZCA9IHRydWU7XHJcbiAgICBjb25zdCBlcnJvclVpUmVsb2FkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw8SFRNTEVsZW1lbnQ+KCcjYmxhem9yLWVycm9yLXVpIC5yZWxvYWQnKTtcclxuICAgIGVycm9yVWlSZWxvYWRzLmZvckVhY2gocmVsb2FkID0+IHtcclxuICAgICAgcmVsb2FkLm9uY2xpY2sgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgZXJyb3JVaURpc21pc3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsPEhUTUxFbGVtZW50PignI2JsYXpvci1lcnJvci11aSAuZGlzbWlzcycpO1xyXG4gICAgZXJyb3JVaURpc21pc3MuZm9yRWFjaChkaXNtaXNzID0+IHtcclxuICAgICAgZGlzbWlzcy5vbmNsaWNrID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGNvbnN0IGVycm9yVWkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxFbGVtZW50PignI2JsYXpvci1lcnJvci11aScpO1xyXG4gICAgICAgIGlmIChlcnJvclVpKSB7XHJcbiAgICAgICAgICBlcnJvclVpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG5jb25zdCBuYXRpdmVEZWNvZGVyID0gdHlwZW9mIFRleHREZWNvZGVyID09PSAnZnVuY3Rpb24nXHJcbiAgPyBuZXcgVGV4dERlY29kZXIoJ3V0Zi04JylcclxuICA6IG51bGw7XHJcblxyXG5leHBvcnQgY29uc3QgZGVjb2RlVXRmODogKGJ5dGVzOiBVaW50OEFycmF5KSA9PiBzdHJpbmdcclxuICA9IG5hdGl2ZURlY29kZXIgPyBuYXRpdmVEZWNvZGVyLmRlY29kZS5iaW5kKG5hdGl2ZURlY29kZXIpIDogZGVjb2RlSW1wbDtcclxuXHJcbi8qICFcclxuTG9naWMgaW4gZGVjb2RlSW1wbCBpcyBkZXJpdmVkIGZyb20gZmFzdC10ZXh0LWVuY29kaW5nXHJcbmh0dHBzOi8vZ2l0aHViLmNvbS9zYW10aG9yL2Zhc3QtdGV4dC1lbmNvZGluZ1xyXG5cclxuTGljZW5zZSBmb3IgZmFzdC10ZXh0LWVuY29kaW5nOiBBcGFjaGUgMi4wXHJcbmh0dHBzOi8vZ2l0aHViLmNvbS9zYW10aG9yL2Zhc3QtdGV4dC1lbmNvZGluZy9ibG9iL21hc3Rlci9MSUNFTlNFXHJcbiovXHJcblxyXG5mdW5jdGlvbiBkZWNvZGVJbXBsKGJ5dGVzOiBVaW50OEFycmF5KTogc3RyaW5nIHtcclxuICBsZXQgcG9zID0gMDtcclxuICBjb25zdCBsZW4gPSBieXRlcy5sZW5ndGg7XHJcbiAgY29uc3Qgb3V0OiBudW1iZXJbXSA9IFtdO1xyXG4gIGNvbnN0IHN1YnN0cmluZ3M6IHN0cmluZ1tdID0gW107XHJcblxyXG4gIHdoaWxlIChwb3MgPCBsZW4pIHtcclxuICAgIGNvbnN0IGJ5dGUxID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgaWYgKGJ5dGUxID09PSAwKSB7XHJcbiAgICAgIGJyZWFrOyAvLyBOVUxMXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKChieXRlMSAmIDB4ODApID09PSAwKSB7IC8vIDEtYnl0ZVxyXG4gICAgICBvdXQucHVzaChieXRlMSk7XHJcbiAgICB9IGVsc2UgaWYgKChieXRlMSAmIDB4ZTApID09PSAweGMwKSB7IC8vIDItYnl0ZVxyXG4gICAgICBjb25zdCBieXRlMiA9IGJ5dGVzW3BvcysrXSAmIDB4M2Y7XHJcbiAgICAgIG91dC5wdXNoKCgoYnl0ZTEgJiAweDFmKSA8PCA2KSB8IGJ5dGUyKTtcclxuICAgIH0gZWxzZSBpZiAoKGJ5dGUxICYgMHhmMCkgPT09IDB4ZTApIHtcclxuICAgICAgY29uc3QgYnl0ZTIgPSBieXRlc1twb3MrK10gJiAweDNmO1xyXG4gICAgICBjb25zdCBieXRlMyA9IGJ5dGVzW3BvcysrXSAmIDB4M2Y7XHJcbiAgICAgIG91dC5wdXNoKCgoYnl0ZTEgJiAweDFmKSA8PCAxMikgfCAoYnl0ZTIgPDwgNikgfCBieXRlMyk7XHJcbiAgICB9IGVsc2UgaWYgKChieXRlMSAmIDB4ZjgpID09PSAweGYwKSB7XHJcbiAgICAgIGNvbnN0IGJ5dGUyID0gYnl0ZXNbcG9zKytdICYgMHgzZjtcclxuICAgICAgY29uc3QgYnl0ZTMgPSBieXRlc1twb3MrK10gJiAweDNmO1xyXG4gICAgICBjb25zdCBieXRlNCA9IGJ5dGVzW3BvcysrXSAmIDB4M2Y7XHJcblxyXG4gICAgICAvLyB0aGlzIGNhbiBiZSA+IDB4ZmZmZiwgc28gcG9zc2libHkgZ2VuZXJhdGUgc3Vycm9nYXRlc1xyXG4gICAgICBsZXQgY29kZXBvaW50ID0gKChieXRlMSAmIDB4MDcpIDw8IDB4MTIpIHwgKGJ5dGUyIDw8IDB4MGMpIHwgKGJ5dGUzIDw8IDB4MDYpIHwgYnl0ZTQ7XHJcbiAgICAgIGlmIChjb2RlcG9pbnQgPiAweGZmZmYpIHtcclxuICAgICAgICAvLyBjb2RlcG9pbnQgJj0gfjB4MTAwMDA7XHJcbiAgICAgICAgY29kZXBvaW50IC09IDB4MTAwMDA7XHJcbiAgICAgICAgb3V0LnB1c2goKGNvZGVwb2ludCA+Pj4gMTApICYgMHgzZmYgfCAweGQ4MDApO1xyXG4gICAgICAgIGNvZGVwb2ludCA9IDB4ZGMwMCB8IGNvZGVwb2ludCAmIDB4M2ZmO1xyXG4gICAgICB9XHJcbiAgICAgIG91dC5wdXNoKGNvZGVwb2ludCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBGSVhNRTogd2UncmUgaWdub3JpbmcgdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFzIGEgd29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL3NhbXRob3IvZmFzdC10ZXh0LWVuY29kaW5nL2lzc3Vlcy8xLFxyXG4gICAgLy8gbWFrZSBzdXJlIHRoZSAnb3V0JyBhcnJheSBuZXZlciBnZXRzIHRvbyBsb25nLiBXaGVuIGl0IHJlYWNoZXMgYSBsaW1pdCwgd2VcclxuICAgIC8vIHN0cmluZ2lmeSB3aGF0IHdlIGhhdmUgc28gZmFyIGFuZCBhcHBlbmQgdG8gYSBsaXN0IG9mIG91dHB1dHMuXHJcbiAgICBpZiAob3V0Lmxlbmd0aCA+IDEwMjQpIHtcclxuICAgICAgc3Vic3RyaW5ncy5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgb3V0KSk7XHJcbiAgICAgIG91dC5sZW5ndGggPSAwO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3Vic3RyaW5ncy5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgb3V0KSk7XHJcbiAgcmV0dXJuIHN1YnN0cmluZ3Muam9pbignJyk7XHJcbn1cclxuIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxyXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG5cclxuY29uc3QgdWludDY0SGlnaFBhcnRTaGlmdCA9IE1hdGgucG93KDIsIDMyKTtcclxuY29uc3QgbWF4U2FmZU51bWJlckhpZ2hQYXJ0ID0gTWF0aC5wb3coMiwgMjEpIC0gMTsgLy8gVGhlIGhpZ2gtb3JkZXIgaW50MzIgZnJvbSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUlxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlYWRJbnQzMkxFKGJ1ZmZlcjogVWludDhBcnJheSwgcG9zaXRpb246IG51bWJlcik6IGFueSB7XHJcbiAgcmV0dXJuIChidWZmZXJbcG9zaXRpb25dKVxyXG4gICAgICAgIHwgKGJ1ZmZlcltwb3NpdGlvbiArIDFdIDw8IDgpXHJcbiAgICAgICAgfCAoYnVmZmVyW3Bvc2l0aW9uICsgMl0gPDwgMTYpXHJcbiAgICAgICAgfCAoYnVmZmVyW3Bvc2l0aW9uICsgM10gPDwgMjQpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVhZFVpbnQzMkxFKGJ1ZmZlcjogVWludDhBcnJheSwgcG9zaXRpb246IG51bWJlcik6IGFueSB7XHJcbiAgcmV0dXJuIChidWZmZXJbcG9zaXRpb25dKVxyXG4gICAgICAgICsgKGJ1ZmZlcltwb3NpdGlvbiArIDFdIDw8IDgpXHJcbiAgICAgICAgKyAoYnVmZmVyW3Bvc2l0aW9uICsgMl0gPDwgMTYpXHJcbiAgICAgICAgKyAoKGJ1ZmZlcltwb3NpdGlvbiArIDNdIDw8IDI0KSA+Pj4gMCk7IC8vIFRoZSA+Pj4gMCBjb2VyY2VzIHRoZSB2YWx1ZSB0byB1bnNpZ25lZFxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVhZFVpbnQ2NExFKGJ1ZmZlcjogVWludDhBcnJheSwgcG9zaXRpb246IG51bWJlcik6IGFueSB7XHJcbiAgLy8gVGhpcyBjYW5ub3QgYmUgZG9uZSB1c2luZyBiaXQtc2hpZnQgb3BlcmF0b3JzIGluIEphdmFTY3JpcHQsIGJlY2F1c2VcclxuICAvLyB0aG9zZSBhbGwgaW1wbGljaXRseSBjb252ZXJ0IHRvIGludDMyXHJcbiAgY29uc3QgaGlnaFBhcnQgPSByZWFkVWludDMyTEUoYnVmZmVyLCBwb3NpdGlvbiArIDQpO1xyXG4gIGlmIChoaWdoUGFydCA+IG1heFNhZmVOdW1iZXJIaWdoUGFydCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgcmVhZCB1aW50NjQgd2l0aCBoaWdoIG9yZGVyIHBhcnQgJHtoaWdoUGFydH0sIGJlY2F1c2UgdGhlIHJlc3VsdCB3b3VsZCBleGNlZWQgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIuYCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKGhpZ2hQYXJ0ICogdWludDY0SGlnaFBhcnRTaGlmdCkgKyByZWFkVWludDMyTEUoYnVmZmVyLCBwb3NpdGlvbik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWFkTEVCMTI4KGJ1ZmZlcjogVWludDhBcnJheSwgcG9zaXRpb246IG51bWJlcik6IG51bWJlciB7XHJcbiAgbGV0IHJlc3VsdCA9IDA7XHJcbiAgbGV0IHNoaWZ0ID0gMDtcclxuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgNDsgaW5kZXgrKykge1xyXG4gICAgY29uc3QgYnl0ZSA9IGJ1ZmZlcltwb3NpdGlvbiArIGluZGV4XTtcclxuICAgIHJlc3VsdCB8PSAoYnl0ZSAmIDEyNykgPDwgc2hpZnQ7XHJcbiAgICBpZiAoYnl0ZSA8IDEyOCkge1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICAgIHNoaWZ0ICs9IDc7XHJcbiAgfVxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBudW1MRUIxMjhCeXRlcyh2YWx1ZTogbnVtYmVyKTogMSB8IDIgfCAzIHwgNCB7XHJcbiAgcmV0dXJuIHZhbHVlIDwgMTI4ID8gMVxyXG4gICAgOiB2YWx1ZSA8IDE2Mzg0ID8gMlxyXG4gICAgICA6IHZhbHVlIDwgMjA5NzE1MiA/IDMgOiA0O1xyXG59XHJcbiIsIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cclxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuXHJcbmltcG9ydCB7IFJlbmRlckJhdGNoLCBBcnJheVJhbmdlLCBSZW5kZXJUcmVlRGlmZiwgQXJyYXlWYWx1ZXMsIFJlbmRlclRyZWVFZGl0LCBSZW5kZXJUcmVlRnJhbWUsIFJlbmRlclRyZWVEaWZmUmVhZGVyLCBSZW5kZXJUcmVlRnJhbWVSZWFkZXIsIFJlbmRlclRyZWVFZGl0UmVhZGVyLCBBcnJheVJhbmdlUmVhZGVyLCBBcnJheUJ1aWxkZXJTZWdtZW50UmVhZGVyLCBBcnJheUJ1aWxkZXJTZWdtZW50IH0gZnJvbSAnLi9SZW5kZXJCYXRjaCc7XHJcbmltcG9ydCB7IGRlY29kZVV0ZjggfSBmcm9tICcuLi8uLi9VdGY4RGVjb2Rlcic7XHJcbmltcG9ydCB7IHJlYWRJbnQzMkxFLCByZWFkVWludDY0TEUsIHJlYWRMRUIxMjgsIG51bUxFQjEyOEJ5dGVzIH0gZnJvbSAnLi4vLi4vQmluYXJ5RGVjb2Rlcic7XHJcblxyXG5jb25zdCB1cGRhdGVkQ29tcG9uZW50c0VudHJ5TGVuZ3RoID0gNDsgLy8gRWFjaCBpcyBhIHNpbmdsZSBpbnQzMiBnaXZpbmcgdGhlIGxvY2F0aW9uIG9mIHRoZSBkYXRhXHJcbmNvbnN0IHJlZmVyZW5jZUZyYW1lc0VudHJ5TGVuZ3RoID0gMjA7IC8vIDEgaW50IGZvciBmcmFtZSB0eXBlLCB0aGVuIDE2IGJ5dGVzIGZvciB0eXBlLXNwZWNpZmljIGRhdGFcclxuY29uc3QgZGlzcG9zZWRDb21wb25lbnRJZHNFbnRyeUxlbmd0aCA9IDQ7IC8vIEVhY2ggaXMgYW4gaW50MzIgZ2l2aW5nIHRoZSBJRFxyXG5jb25zdCBkaXNwb3NlZEV2ZW50SGFuZGxlcklkc0VudHJ5TGVuZ3RoID0gODsgLy8gRWFjaCBpcyBhbiBpbnQ2NCBnaXZpbmcgdGhlIElEXHJcbmNvbnN0IGVkaXRzRW50cnlMZW5ndGggPSAxNjsgLy8gNCBpbnRzXHJcbmNvbnN0IHN0cmluZ1RhYmxlRW50cnlMZW5ndGggPSA0OyAvLyBFYWNoIGlzIGFuIGludDMyIGdpdmluZyB0aGUgc3RyaW5nIGRhdGEgbG9jYXRpb24sIG9yIC0xIGZvciBudWxsXHJcblxyXG5leHBvcnQgY2xhc3MgT3V0T2ZQcm9jZXNzUmVuZGVyQmF0Y2ggaW1wbGVtZW50cyBSZW5kZXJCYXRjaCB7XHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBiYXRjaERhdGE6IFVpbnQ4QXJyYXkpIHtcclxuICAgIGNvbnN0IHN0cmluZ1JlYWRlciA9IG5ldyBPdXRPZlByb2Nlc3NTdHJpbmdSZWFkZXIoYmF0Y2hEYXRhKTtcclxuXHJcbiAgICB0aGlzLmFycmF5UmFuZ2VSZWFkZXIgPSBuZXcgT3V0T2ZQcm9jZXNzQXJyYXlSYW5nZVJlYWRlcihiYXRjaERhdGEpO1xyXG4gICAgdGhpcy5hcnJheUJ1aWxkZXJTZWdtZW50UmVhZGVyID0gbmV3IE91dE9mUHJvY2Vzc0FycmF5QnVpbGRlclNlZ21lbnRSZWFkZXIoYmF0Y2hEYXRhKTtcclxuICAgIHRoaXMuZGlmZlJlYWRlciA9IG5ldyBPdXRPZlByb2Nlc3NSZW5kZXJUcmVlRGlmZlJlYWRlcihiYXRjaERhdGEpO1xyXG4gICAgdGhpcy5lZGl0UmVhZGVyID0gbmV3IE91dE9mUHJvY2Vzc1JlbmRlclRyZWVFZGl0UmVhZGVyKGJhdGNoRGF0YSwgc3RyaW5nUmVhZGVyKTtcclxuICAgIHRoaXMuZnJhbWVSZWFkZXIgPSBuZXcgT3V0T2ZQcm9jZXNzUmVuZGVyVHJlZUZyYW1lUmVhZGVyKGJhdGNoRGF0YSwgc3RyaW5nUmVhZGVyKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZWRDb21wb25lbnRzKCk6IEFycmF5UmFuZ2U8UmVuZGVyVHJlZURpZmY+IHtcclxuICAgIHJldHVybiByZWFkSW50MzJMRSh0aGlzLmJhdGNoRGF0YSwgdGhpcy5iYXRjaERhdGEubGVuZ3RoIC0gMjApOyAvLyA1dGgtZnJvbS1sYXN0IGludDMyXHJcbiAgfVxyXG5cclxuICByZWZlcmVuY2VGcmFtZXMoKTogQXJyYXlSYW5nZTxSZW5kZXJUcmVlRnJhbWU+IHtcclxuICAgIHJldHVybiByZWFkSW50MzJMRSh0aGlzLmJhdGNoRGF0YSwgdGhpcy5iYXRjaERhdGEubGVuZ3RoIC0gMTYpOyAvLyA0dGgtZnJvbS1sYXN0IGludDMyXHJcbiAgfVxyXG5cclxuICBkaXNwb3NlZENvbXBvbmVudElkcygpOiBBcnJheVJhbmdlPG51bWJlcj4ge1xyXG4gICAgcmV0dXJuIHJlYWRJbnQzMkxFKHRoaXMuYmF0Y2hEYXRhLCB0aGlzLmJhdGNoRGF0YS5sZW5ndGggLSAxMik7IC8vIDNyZC1mcm9tLWxhc3QgaW50MzJcclxuICB9XHJcblxyXG4gIGRpc3Bvc2VkRXZlbnRIYW5kbGVySWRzKCk6IEFycmF5UmFuZ2U8bnVtYmVyPiB7XHJcbiAgICByZXR1cm4gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGEsIHRoaXMuYmF0Y2hEYXRhLmxlbmd0aCAtIDgpOyAvLyAydGgtZnJvbS1sYXN0IGludDMyXHJcbiAgfVxyXG5cclxuICB1cGRhdGVkQ29tcG9uZW50c0VudHJ5KHZhbHVlczogQXJyYXlWYWx1ZXM8UmVuZGVyVHJlZURpZmY+LCBpbmRleDogbnVtYmVyKTogUmVuZGVyVHJlZURpZmYge1xyXG4gICAgY29uc3QgdGFibGVFbnRyeVBvcyA9ICh2YWx1ZXMgYXMgYW55KSArIGluZGV4ICogdXBkYXRlZENvbXBvbmVudHNFbnRyeUxlbmd0aDtcclxuICAgIHJldHVybiByZWFkSW50MzJMRSh0aGlzLmJhdGNoRGF0YSwgdGFibGVFbnRyeVBvcyk7XHJcbiAgfVxyXG5cclxuICByZWZlcmVuY2VGcmFtZXNFbnRyeSh2YWx1ZXM6IEFycmF5VmFsdWVzPFJlbmRlclRyZWVGcmFtZT4sIGluZGV4OiBudW1iZXIpOiBSZW5kZXJUcmVlRnJhbWUge1xyXG4gICAgcmV0dXJuICh2YWx1ZXMgYXMgYW55KSArIGluZGV4ICogcmVmZXJlbmNlRnJhbWVzRW50cnlMZW5ndGggYXMgYW55O1xyXG4gIH1cclxuXHJcbiAgZGlzcG9zZWRDb21wb25lbnRJZHNFbnRyeSh2YWx1ZXM6IEFycmF5VmFsdWVzPG51bWJlcj4sIGluZGV4OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgY29uc3QgZW50cnlQb3MgPSAodmFsdWVzIGFzIGFueSkgKyBpbmRleCAqIGRpc3Bvc2VkQ29tcG9uZW50SWRzRW50cnlMZW5ndGg7XHJcbiAgICByZXR1cm4gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGEsIGVudHJ5UG9zKTtcclxuICB9XHJcblxyXG4gIGRpc3Bvc2VkRXZlbnRIYW5kbGVySWRzRW50cnkodmFsdWVzOiBBcnJheVZhbHVlczxudW1iZXI+LCBpbmRleDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IGVudHJ5UG9zID0gKHZhbHVlcyBhcyBhbnkpICsgaW5kZXggKiBkaXNwb3NlZEV2ZW50SGFuZGxlcklkc0VudHJ5TGVuZ3RoO1xyXG4gICAgcmV0dXJuIHJlYWRVaW50NjRMRSh0aGlzLmJhdGNoRGF0YSwgZW50cnlQb3MpO1xyXG4gIH1cclxuXHJcbiAgZGlmZlJlYWRlcjogUmVuZGVyVHJlZURpZmZSZWFkZXI7XHJcblxyXG4gIGVkaXRSZWFkZXI6IFJlbmRlclRyZWVFZGl0UmVhZGVyO1xyXG5cclxuICBmcmFtZVJlYWRlcjogUmVuZGVyVHJlZUZyYW1lUmVhZGVyO1xyXG5cclxuICBhcnJheVJhbmdlUmVhZGVyOiBBcnJheVJhbmdlUmVhZGVyO1xyXG5cclxuICBhcnJheUJ1aWxkZXJTZWdtZW50UmVhZGVyOiBBcnJheUJ1aWxkZXJTZWdtZW50UmVhZGVyO1xyXG59XHJcblxyXG5jbGFzcyBPdXRPZlByb2Nlc3NSZW5kZXJUcmVlRGlmZlJlYWRlciBpbXBsZW1lbnRzIFJlbmRlclRyZWVEaWZmUmVhZGVyIHtcclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGJhdGNoRGF0YVVpbnQ4OiBVaW50OEFycmF5KSB7XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRJZChkaWZmOiBSZW5kZXJUcmVlRGlmZikge1xyXG4gICAgLy8gRmlyc3QgaW50MzIgaXMgY29tcG9uZW50SWRcclxuICAgIHJldHVybiByZWFkSW50MzJMRSh0aGlzLmJhdGNoRGF0YVVpbnQ4LCBkaWZmIGFzIGFueSk7XHJcbiAgfVxyXG5cclxuICBlZGl0cyhkaWZmOiBSZW5kZXJUcmVlRGlmZikge1xyXG4gICAgLy8gRW50cmllcyBkYXRhIHN0YXJ0cyBhZnRlciB0aGUgY29tcG9uZW50SWQgKHdoaWNoIGlzIGEgNC1ieXRlIGludClcclxuICAgIHJldHVybiAoZGlmZiBhcyBhbnkgKyA0KTtcclxuICB9XHJcblxyXG4gIGVkaXRzRW50cnkodmFsdWVzOiBBcnJheVZhbHVlczxSZW5kZXJUcmVlRWRpdD4sIGluZGV4OiBudW1iZXIpIHtcclxuICAgIHJldHVybiAodmFsdWVzIGFzIGFueSkgKyBpbmRleCAqIGVkaXRzRW50cnlMZW5ndGg7XHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBPdXRPZlByb2Nlc3NSZW5kZXJUcmVlRWRpdFJlYWRlciBpbXBsZW1lbnRzIFJlbmRlclRyZWVFZGl0UmVhZGVyIHtcclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGJhdGNoRGF0YVVpbnQ4OiBVaW50OEFycmF5LCBwcml2YXRlIHN0cmluZ1JlYWRlcjogT3V0T2ZQcm9jZXNzU3RyaW5nUmVhZGVyKSB7XHJcbiAgfVxyXG5cclxuICBlZGl0VHlwZShlZGl0OiBSZW5kZXJUcmVlRWRpdCkge1xyXG4gICAgcmV0dXJuIHJlYWRJbnQzMkxFKHRoaXMuYmF0Y2hEYXRhVWludDgsIGVkaXQgYXMgYW55KTsgLy8gMXN0IGludFxyXG4gIH1cclxuXHJcbiAgc2libGluZ0luZGV4KGVkaXQ6IFJlbmRlclRyZWVFZGl0KSB7XHJcbiAgICByZXR1cm4gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGFVaW50OCwgZWRpdCBhcyBhbnkgKyA0KTsgLy8gMm5kIGludFxyXG4gIH1cclxuXHJcbiAgbmV3VHJlZUluZGV4KGVkaXQ6IFJlbmRlclRyZWVFZGl0KSB7XHJcbiAgICByZXR1cm4gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGFVaW50OCwgZWRpdCBhcyBhbnkgKyA4KTsgLy8gM3JkIGludFxyXG4gIH1cclxuXHJcbiAgbW92ZVRvU2libGluZ0luZGV4KGVkaXQ6IFJlbmRlclRyZWVFZGl0KSB7XHJcbiAgICByZXR1cm4gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGFVaW50OCwgZWRpdCBhcyBhbnkgKyA4KTsgLy8gM3JkIGludFxyXG4gIH1cclxuXHJcbiAgcmVtb3ZlZEF0dHJpYnV0ZU5hbWUoZWRpdDogUmVuZGVyVHJlZUVkaXQpIHtcclxuICAgIGNvbnN0IHN0cmluZ0luZGV4ID0gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGFVaW50OCwgZWRpdCBhcyBhbnkgKyAxMik7IC8vIDR0aCBpbnRcclxuICAgIHJldHVybiB0aGlzLnN0cmluZ1JlYWRlci5yZWFkU3RyaW5nKHN0cmluZ0luZGV4KTtcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIE91dE9mUHJvY2Vzc1JlbmRlclRyZWVGcmFtZVJlYWRlciBpbXBsZW1lbnRzIFJlbmRlclRyZWVGcmFtZVJlYWRlciB7XHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBiYXRjaERhdGFVaW50ODogVWludDhBcnJheSwgcHJpdmF0ZSBzdHJpbmdSZWFkZXI6IE91dE9mUHJvY2Vzc1N0cmluZ1JlYWRlcikge1xyXG4gIH1cclxuXHJcbiAgLy8gRm9yIHJlbmRlciBmcmFtZXMsIHRoZSAybmQtNHRoIGludHMgaGF2ZSBkaWZmZXJlbnQgbWVhbmluZ3MgZGVwZW5kaW5nIG9uIGZyYW1lVHlwZS5cclxuICAvLyBJdCdzIHRoZSBjYWxsZXIncyByZXNwb25zaWJpbGl0eSBub3QgdG8gZXZhbHVhdGUgcHJvcGVydGllcyB0aGF0IGFyZW4ndCBhcHBsaWNhYmxlIHRvIHRoZSBmcmFtZVR5cGUuXHJcblxyXG4gIGZyYW1lVHlwZShmcmFtZTogUmVuZGVyVHJlZUZyYW1lKSB7XHJcbiAgICByZXR1cm4gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGFVaW50OCwgZnJhbWUgYXMgYW55KTsgLy8gMXN0IGludFxyXG4gIH1cclxuXHJcbiAgc3VidHJlZUxlbmd0aChmcmFtZTogUmVuZGVyVHJlZUZyYW1lKSB7XHJcbiAgICByZXR1cm4gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGFVaW50OCwgZnJhbWUgYXMgYW55ICsgNCk7IC8vIDJuZCBpbnRcclxuICB9XHJcblxyXG4gIGVsZW1lbnRSZWZlcmVuY2VDYXB0dXJlSWQoZnJhbWU6IFJlbmRlclRyZWVGcmFtZSkge1xyXG4gICAgY29uc3Qgc3RyaW5nSW5kZXggPSByZWFkSW50MzJMRSh0aGlzLmJhdGNoRGF0YVVpbnQ4LCBmcmFtZSBhcyBhbnkgKyA0KTsgLy8gMm5kIGludFxyXG4gICAgcmV0dXJuIHRoaXMuc3RyaW5nUmVhZGVyLnJlYWRTdHJpbmcoc3RyaW5nSW5kZXgpO1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50SWQoZnJhbWU6IFJlbmRlclRyZWVGcmFtZSkge1xyXG4gICAgcmV0dXJuIHJlYWRJbnQzMkxFKHRoaXMuYmF0Y2hEYXRhVWludDgsIGZyYW1lIGFzIGFueSArIDgpOyAvLyAzcmQgaW50XHJcbiAgfVxyXG5cclxuICBlbGVtZW50TmFtZShmcmFtZTogUmVuZGVyVHJlZUZyYW1lKSB7XHJcbiAgICBjb25zdCBzdHJpbmdJbmRleCA9IHJlYWRJbnQzMkxFKHRoaXMuYmF0Y2hEYXRhVWludDgsIGZyYW1lIGFzIGFueSArIDgpOyAvLyAzcmQgaW50XHJcbiAgICByZXR1cm4gdGhpcy5zdHJpbmdSZWFkZXIucmVhZFN0cmluZyhzdHJpbmdJbmRleCk7XHJcbiAgfVxyXG5cclxuICB0ZXh0Q29udGVudChmcmFtZTogUmVuZGVyVHJlZUZyYW1lKSB7XHJcbiAgICBjb25zdCBzdHJpbmdJbmRleCA9IHJlYWRJbnQzMkxFKHRoaXMuYmF0Y2hEYXRhVWludDgsIGZyYW1lIGFzIGFueSArIDQpOyAvLyAybmQgaW50XHJcbiAgICByZXR1cm4gdGhpcy5zdHJpbmdSZWFkZXIucmVhZFN0cmluZyhzdHJpbmdJbmRleCk7XHJcbiAgfVxyXG5cclxuICBtYXJrdXBDb250ZW50KGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpIHtcclxuICAgIGNvbnN0IHN0cmluZ0luZGV4ID0gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGFVaW50OCwgZnJhbWUgYXMgYW55ICsgNCk7IC8vIDJuZCBpbnRcclxuICAgIHJldHVybiB0aGlzLnN0cmluZ1JlYWRlci5yZWFkU3RyaW5nKHN0cmluZ0luZGV4KSE7XHJcbiAgfVxyXG5cclxuICBhdHRyaWJ1dGVOYW1lKGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpIHtcclxuICAgIGNvbnN0IHN0cmluZ0luZGV4ID0gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGFVaW50OCwgZnJhbWUgYXMgYW55ICsgNCk7IC8vIDJuZCBpbnRcclxuICAgIHJldHVybiB0aGlzLnN0cmluZ1JlYWRlci5yZWFkU3RyaW5nKHN0cmluZ0luZGV4KTtcclxuICB9XHJcblxyXG4gIGF0dHJpYnV0ZVZhbHVlKGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpIHtcclxuICAgIGNvbnN0IHN0cmluZ0luZGV4ID0gcmVhZEludDMyTEUodGhpcy5iYXRjaERhdGFVaW50OCwgZnJhbWUgYXMgYW55ICsgOCk7IC8vIDNyZCBpbnRcclxuICAgIHJldHVybiB0aGlzLnN0cmluZ1JlYWRlci5yZWFkU3RyaW5nKHN0cmluZ0luZGV4KTtcclxuICB9XHJcblxyXG4gIGF0dHJpYnV0ZUV2ZW50SGFuZGxlcklkKGZyYW1lOiBSZW5kZXJUcmVlRnJhbWUpIHtcclxuICAgIHJldHVybiByZWFkVWludDY0TEUodGhpcy5iYXRjaERhdGFVaW50OCwgZnJhbWUgYXMgYW55ICsgMTIpOyAvLyBCeXRlcyAxMi0xOVxyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgT3V0T2ZQcm9jZXNzU3RyaW5nUmVhZGVyIHtcclxuICBwcml2YXRlIHN0cmluZ1RhYmxlU3RhcnRJbmRleDogbnVtYmVyO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGJhdGNoRGF0YVVpbnQ4OiBVaW50OEFycmF5KSB7XHJcbiAgICAvLyBGaW5hbCBpbnQgZ2l2ZXMgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHN0cmluZyB0YWJsZVxyXG4gICAgdGhpcy5zdHJpbmdUYWJsZVN0YXJ0SW5kZXggPSByZWFkSW50MzJMRShiYXRjaERhdGFVaW50OCwgYmF0Y2hEYXRhVWludDgubGVuZ3RoIC0gNCk7XHJcbiAgfVxyXG5cclxuICByZWFkU3RyaW5nKGluZGV4OiBudW1iZXIpOiBzdHJpbmcgfCBudWxsIHtcclxuICAgIGlmIChpbmRleCA9PT0gLTEpIHsgLy8gU3BlY2lhbCB2YWx1ZSBlbmNvZGVzICdudWxsJ1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IHN0cmluZ1RhYmxlRW50cnlQb3MgPSByZWFkSW50MzJMRSh0aGlzLmJhdGNoRGF0YVVpbnQ4LCB0aGlzLnN0cmluZ1RhYmxlU3RhcnRJbmRleCArIGluZGV4ICogc3RyaW5nVGFibGVFbnRyeUxlbmd0aCk7XHJcblxyXG4gICAgICAvLyBCeSBkZWZhdWx0LCAuTkVUJ3MgQmluYXJ5V3JpdGVyIGdpdmVzIExFQjEyOC1sZW5ndGgtcHJlZml4ZWQgVVRGLTggZGF0YS5cclxuICAgICAgLy8gVGhpcyBpcyBjb252ZW5pZW50IGVub3VnaCB0byBkZWNvZGUgaW4gSmF2YVNjcmlwdC5cclxuICAgICAgY29uc3QgbnVtVXRmOEJ5dGVzID0gcmVhZExFQjEyOCh0aGlzLmJhdGNoRGF0YVVpbnQ4LCBzdHJpbmdUYWJsZUVudHJ5UG9zKTtcclxuICAgICAgY29uc3QgY2hhcnNTdGFydCA9IHN0cmluZ1RhYmxlRW50cnlQb3MgKyBudW1MRUIxMjhCeXRlcyhudW1VdGY4Qnl0ZXMpO1xyXG4gICAgICBjb25zdCB1dGY4RGF0YSA9IG5ldyBVaW50OEFycmF5KFxyXG4gICAgICAgIHRoaXMuYmF0Y2hEYXRhVWludDguYnVmZmVyLFxyXG4gICAgICAgIHRoaXMuYmF0Y2hEYXRhVWludDguYnl0ZU9mZnNldCArIGNoYXJzU3RhcnQsXHJcbiAgICAgICAgbnVtVXRmOEJ5dGVzXHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybiBkZWNvZGVVdGY4KHV0ZjhEYXRhKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIE91dE9mUHJvY2Vzc0FycmF5UmFuZ2VSZWFkZXIgaW1wbGVtZW50cyBBcnJheVJhbmdlUmVhZGVyIHtcclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGJhdGNoRGF0YVVpbnQ4OiBVaW50OEFycmF5KSB7XHJcbiAgfVxyXG5cclxuICBjb3VudDxUPihhcnJheVJhbmdlOiBBcnJheVJhbmdlPFQ+KSB7XHJcbiAgICAvLyBGaXJzdCBpbnQgaXMgY291bnRcclxuICAgIHJldHVybiByZWFkSW50MzJMRSh0aGlzLmJhdGNoRGF0YVVpbnQ4LCBhcnJheVJhbmdlIGFzIGFueSk7XHJcbiAgfVxyXG5cclxuICB2YWx1ZXM8VD4oYXJyYXlSYW5nZTogQXJyYXlSYW5nZTxUPikge1xyXG4gICAgLy8gRW50cmllcyBkYXRhIHN0YXJ0cyBhZnRlciB0aGUgJ2NvdW50JyBpbnQgKGkuZS4sIGFmdGVyIDQgYnl0ZXMpXHJcbiAgICByZXR1cm4gYXJyYXlSYW5nZSBhcyBhbnkgKyA0O1xyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgT3V0T2ZQcm9jZXNzQXJyYXlCdWlsZGVyU2VnbWVudFJlYWRlciBpbXBsZW1lbnRzIEFycmF5QnVpbGRlclNlZ21lbnRSZWFkZXIge1xyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgYmF0Y2hEYXRhVWludDg6IFVpbnQ4QXJyYXkpIHtcclxuICB9XHJcblxyXG4gIG9mZnNldDxUPihfYXJyYXlCdWlsZGVyU2VnbWVudDogQXJyYXlCdWlsZGVyU2VnbWVudDxUPik6IG51bWJlciB7XHJcbiAgICAvLyBOb3QgdXNlZCBieSB0aGUgb3V0LW9mLXByb2Nlc3MgcmVwcmVzZW50YXRpb24gb2YgUmVuZGVyQmF0Y2ggZGF0YS5cclxuICAgIC8vIFRoaXMgb25seSBleGlzdHMgb24gdGhlIEFycmF5QnVpbGRlclNlZ21lbnRSZWFkZXIgZm9yIHRoZSBzaGFyZWQtbWVtb3J5IHJlcHJlc2VudGF0aW9uLlxyXG4gICAgcmV0dXJuIDA7XHJcbiAgfVxyXG5cclxuICBjb3VudDxUPihhcnJheUJ1aWxkZXJTZWdtZW50OiBBcnJheUJ1aWxkZXJTZWdtZW50PFQ+KSB7XHJcbiAgICAvLyBGaXJzdCBpbnQgaXMgY291bnRcclxuICAgIHJldHVybiByZWFkSW50MzJMRSh0aGlzLmJhdGNoRGF0YVVpbnQ4LCBhcnJheUJ1aWxkZXJTZWdtZW50IGFzIGFueSk7XHJcbiAgfVxyXG5cclxuICB2YWx1ZXM8VD4oYXJyYXlCdWlsZGVyU2VnbWVudDogQXJyYXlCdWlsZGVyU2VnbWVudDxUPik6IEFycmF5VmFsdWVzPFQ+IHtcclxuICAgIC8vIEVudHJpZXMgZGF0YSBzdGFydHMgYWZ0ZXIgdGhlICdjb3VudCcgaW50IChpLmUuLCBhZnRlciA0IGJ5dGVzKVxyXG4gICAgcmV0dXJuIGFycmF5QnVpbGRlclNlZ21lbnQgYXMgYW55ICsgNDtcclxuICB9XHJcbn1cclxuXHJcblxyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG5jb25zdCBpcGNNZXNzYWdlUHJlZml4ID0gJ19fYnd2Oic7XHJcbmxldCBhcHBsaWNhdGlvbklzVGVybWluYXRlZCA9IGZhbHNlO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRyeVNlcmlhbGl6ZU1lc3NhZ2UobWVzc2FnZVR5cGU6IHN0cmluZywgYXJnczogYW55W10pOiBzdHJpbmcgfCBudWxsIHtcclxuICByZXR1cm4gYXBwbGljYXRpb25Jc1Rlcm1pbmF0ZWRcclxuICAgID8gbnVsbFxyXG4gICAgOiBgJHtpcGNNZXNzYWdlUHJlZml4fSR7SlNPTi5zdHJpbmdpZnkoW21lc3NhZ2VUeXBlLCAuLi5hcmdzXSl9YDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRyeURlc2VyaWFsaXplTWVzc2FnZShtZXNzYWdlOiBzdHJpbmcpOiBJcGNNZXNzYWdlIHwgbnVsbCB7XHJcbiAgaWYgKGFwcGxpY2F0aW9uSXNUZXJtaW5hdGVkIHx8ICFtZXNzYWdlIHx8ICFtZXNzYWdlLnN0YXJ0c1dpdGgoaXBjTWVzc2FnZVByZWZpeCkpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgbWVzc2FnZUFmdGVyUHJlZml4ID0gbWVzc2FnZS5zdWJzdHJpbmcoaXBjTWVzc2FnZVByZWZpeC5sZW5ndGgpO1xyXG4gIGNvbnN0IFttZXNzYWdlVHlwZSwgLi4uYXJnc10gPSBKU09OLnBhcnNlKG1lc3NhZ2VBZnRlclByZWZpeCk7XHJcbiAgcmV0dXJuIHsgbWVzc2FnZVR5cGUsIGFyZ3MgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEFwcGxpY2F0aW9uSXNUZXJtaW5hdGVkKCk6IHZvaWQge1xyXG4gIC8vIElmIHRoZXJlJ3MgYW4gdW5oYW5kbGVkIGV4Y2VwdGlvbiwgd2UnbGwgcHJldmVudCB0aGUgd2VidmlldyBmcm9tIGRvaW5nIGFueXRoaW5nIGVsc2UgdW50aWxcclxuICAvLyBpdCByZWxvYWRzIHRoZSBwYWdlLiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gd2hhdCBoYXBwZW5zIGluIEJsYXpvciBTZXJ2ZXIsIGFuZCBhdm9pZHMgYW55b25lXHJcbiAgLy8gdGFraW5nIGEgZGVwZW5kZW5jeSBvbiBiZWluZyBhYmxlIHRvIGNvbnRpbnVlIGludGVyYWN0aW5nIGFmdGVyIGEgZmF0YWwgZXJyb3IuXHJcbiAgYXBwbGljYXRpb25Jc1Rlcm1pbmF0ZWQgPSB0cnVlO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgSXBjTWVzc2FnZSB7XHJcbiAgbWVzc2FnZVR5cGU6IHN0cmluZztcclxuICBhcmdzOiB1bmtub3duW107XHJcbn1cclxuIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxyXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG5cclxuaW1wb3J0IHsgdHJ5U2VyaWFsaXplTWVzc2FnZSB9IGZyb20gJy4vV2ViVmlld0lwY0NvbW1vbic7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2VuZEF0dGFjaFBhZ2UoYmFzZVVybDogc3RyaW5nLCBzdGFydFVybDogc3RyaW5nKTogdm9pZCB7XHJcbiAgc2VuZCgnQXR0YWNoUGFnZScsIGJhc2VVcmwsIHN0YXJ0VXJsKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNlbmRSZW5kZXJDb21wbGV0ZWQoYmF0Y2hJZDogbnVtYmVyLCBlcnJvck9yTnVsbDogc3RyaW5nIHwgbnVsbCk6IHZvaWQge1xyXG4gIHNlbmQoJ09uUmVuZGVyQ29tcGxldGVkJywgYmF0Y2hJZCwgZXJyb3JPck51bGwpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2VuZEJlZ2luSW52b2tlRG90TmV0RnJvbUpTKGNhbGxJZDogbnVtYmVyLCBhc3NlbWJseU5hbWU6IHN0cmluZyB8IG51bGwsIG1ldGhvZElkZW50aWZpZXI6IHN0cmluZywgZG90TmV0T2JqZWN0SWQ6IG51bWJlciB8IG51bGwsIGFyZ3NKc29uOiBzdHJpbmcpOiB2b2lkIHtcclxuICBzZW5kKCdCZWdpbkludm9rZURvdE5ldCcsIGNhbGxJZCA/IGNhbGxJZC50b1N0cmluZygpIDogbnVsbCwgYXNzZW1ibHlOYW1lLCBtZXRob2RJZGVudGlmaWVyLCBkb3ROZXRPYmplY3RJZCB8fCAwLCBhcmdzSnNvbik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZW5kRW5kSW52b2tlSlNGcm9tRG90TmV0KGFzeW5jSGFuZGxlOiBudW1iZXIsIHN1Y2NlZWRlZDogYm9vbGVhbiwgYXJnc0pzb246IGFueSk6IHZvaWQge1xyXG4gIHNlbmQoJ0VuZEludm9rZUpTJywgYXN5bmNIYW5kbGUsIHN1Y2NlZWRlZCwgYXJnc0pzb24pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2VuZEJ5dGVBcnJheShpZDogbnVtYmVyLCBkYXRhOiBVaW50OEFycmF5KTogdm9pZCB7XHJcbiAgY29uc3QgZGF0YUJhc2U2NEVuY29kZWQgPSBiYXNlNjRFbmNvZGVCeXRlQXJyYXkoZGF0YSk7XHJcbiAgc2VuZCgnUmVjZWl2ZUJ5dGVBcnJheUZyb21KUycsIGlkLCBkYXRhQmFzZTY0RW5jb2RlZCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGJhc2U2NEVuY29kZUJ5dGVBcnJheShkYXRhOiBVaW50OEFycmF5KSB7XHJcbiAgLy8gQmFzZTY0IGVuY29kZSBhIChsYXJnZSkgYnl0ZSBhcnJheVxyXG4gIC8vIE5vdGUgYGJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBkYXRhIGFzIHVua25vd24gYXMgbnVtYmVyW10pKTtgXHJcbiAgLy8gaXNuJ3Qgc3VmZmljaWVudCBhcyB0aGUgYGFwcGx5YCBvdmVyIGEgbGFyZ2UgYXJyYXkgb3ZlcmZsb3dzIHRoZSBzdGFjay5cclxuICBjb25zdCBjaGFyQnl0ZXMgPSBuZXcgQXJyYXkoZGF0YS5sZW5ndGgpO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgY2hhckJ5dGVzW2ldID0gU3RyaW5nLmZyb21DaGFyQ29kZShkYXRhW2ldKTtcclxuICB9XHJcbiAgY29uc3QgZGF0YUJhc2U2NEVuY29kZWQgPSBidG9hKGNoYXJCeXRlcy5qb2luKCcnKSk7XHJcbiAgcmV0dXJuIGRhdGFCYXNlNjRFbmNvZGVkO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2VuZExvY2F0aW9uQ2hhbmdlZCh1cmk6IHN0cmluZywgc3RhdGU6IHN0cmluZyB8IHVuZGVmaW5lZCwgaW50ZXJjZXB0ZWQ6IGJvb2xlYW4pOiBQcm9taXNlPHZvaWQ+IHtcclxuICBzZW5kKCdPbkxvY2F0aW9uQ2hhbmdlZCcsIHVyaSwgc3RhdGUsIGludGVyY2VwdGVkKTtcclxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7IC8vIExpa2UgaW4gQmxhem9yIFNlcnZlciwgd2Ugb25seSBpc3N1ZSB0aGUgbm90aWZpY2F0aW9uIGhlcmUgLSB0aGVyZSdzIG5vIG5lZWQgdG8gd2FpdCBmb3IgYSByZXNwb25zZVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2VuZExvY2F0aW9uQ2hhbmdpbmcoY2FsbElkOiBudW1iZXIsIHVyaTogc3RyaW5nLCBzdGF0ZTogc3RyaW5nIHwgdW5kZWZpbmVkLCBpbnRlcmNlcHRlZDogYm9vbGVhbik6IFByb21pc2U8dm9pZD4ge1xyXG4gIHNlbmQoJ09uTG9jYXRpb25DaGFuZ2luZycsIGNhbGxJZCwgdXJpLCBzdGF0ZSwgaW50ZXJjZXB0ZWQpO1xyXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTsgLy8gTGlrZSBpbiBCbGF6b3IgU2VydmVyLCB3ZSBvbmx5IGlzc3VlIHRoZSBub3RpZmljYXRpb24gaGVyZSAtIHRoZXJlJ3Mgbm8gbmVlZCB0byB3YWl0IGZvciBhIHJlc3BvbnNlXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNlbmQobWVzc2FnZVR5cGU6IHN0cmluZywgLi4uYXJnczogdW5rbm93bltdKSB7XHJcbiAgY29uc3Qgc2VyaWFsaXplZE1lc3NhZ2UgPSB0cnlTZXJpYWxpemVNZXNzYWdlKG1lc3NhZ2VUeXBlLCBhcmdzKTtcclxuICBpZiAoc2VyaWFsaXplZE1lc3NhZ2UpIHtcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAod2luZG93LmV4dGVybmFsIGFzIGFueSkuc2VuZE1lc3NhZ2Uoc2VyaWFsaXplZE1lc3NhZ2UpO1xyXG4gIH1cclxufVxyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG4vLyBUaGVzZSBJRHMgbmVlZCB0byBiZSBrZXB0IGluIHN5bmMgd2l0aCBSZW5kZXJlcklkLmNzXHJcbmV4cG9ydCBlbnVtIFdlYlJlbmRlcmVySWQge1xyXG4gIERlZmF1bHQgPSAwLFxyXG4gIFNlcnZlciA9IDEsXHJcbiAgV2ViQXNzZW1ibHkgPSAyLFxyXG4gIFdlYlZpZXcgPSAzLFxyXG59XHJcbiIsIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cclxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuXHJcbi8vIFRoZXNlIHZhbHVlcyBhcmUgZGVzaWduZWQgdG8gbWF0Y2ggdGhlIEFTUC5ORVQgTG9nIExldmVscyBzaW5jZSB0aGF0J3MgdGhlIHBhdHRlcm4gd2UncmUgZW11bGF0aW5nIGhlcmUuXHJcbi8qKiBJbmRpY2F0ZXMgdGhlIHNldmVyaXR5IG9mIGEgbG9nIG1lc3NhZ2UuXHJcbiAqXHJcbiAqIExvZyBMZXZlbHMgYXJlIG9yZGVyZWQgaW4gaW5jcmVhc2luZyBzZXZlcml0eS4gU28gYERlYnVnYCBpcyBtb3JlIHNldmVyZSB0aGFuIGBUcmFjZWAsIGV0Yy5cclxuICovXHJcbmV4cG9ydCBlbnVtIExvZ0xldmVsIHtcclxuICAvKiogTG9nIGxldmVsIGZvciB2ZXJ5IGxvdyBzZXZlcml0eSBkaWFnbm9zdGljIG1lc3NhZ2VzLiAqL1xyXG4gIFRyYWNlID0gMCxcclxuICAvKiogTG9nIGxldmVsIGZvciBsb3cgc2V2ZXJpdHkgZGlhZ25vc3RpYyBtZXNzYWdlcy4gKi9cclxuICBEZWJ1ZyA9IDEsXHJcbiAgLyoqIExvZyBsZXZlbCBmb3IgaW5mb3JtYXRpb25hbCBkaWFnbm9zdGljIG1lc3NhZ2VzLiAqL1xyXG4gIEluZm9ybWF0aW9uID0gMixcclxuICAvKiogTG9nIGxldmVsIGZvciBkaWFnbm9zdGljIG1lc3NhZ2VzIHRoYXQgaW5kaWNhdGUgYSBub24tZmF0YWwgcHJvYmxlbS4gKi9cclxuICBXYXJuaW5nID0gMyxcclxuICAvKiogTG9nIGxldmVsIGZvciBkaWFnbm9zdGljIG1lc3NhZ2VzIHRoYXQgaW5kaWNhdGUgYSBmYWlsdXJlIGluIHRoZSBjdXJyZW50IG9wZXJhdGlvbi4gKi9cclxuICBFcnJvciA9IDQsXHJcbiAgLyoqIExvZyBsZXZlbCBmb3IgZGlhZ25vc3RpYyBtZXNzYWdlcyB0aGF0IGluZGljYXRlIGEgZmFpbHVyZSB0aGF0IHdpbGwgdGVybWluYXRlIHRoZSBlbnRpcmUgYXBwbGljYXRpb24uICovXHJcbiAgQ3JpdGljYWwgPSA1LFxyXG4gIC8qKiBUaGUgaGlnaGVzdCBwb3NzaWJsZSBsb2cgbGV2ZWwuIFVzZWQgd2hlbiBjb25maWd1cmluZyBsb2dnaW5nIHRvIGluZGljYXRlIHRoYXQgbm8gbG9nIG1lc3NhZ2VzIHNob3VsZCBiZSBlbWl0dGVkLiAqL1xyXG4gIE5vbmUgPSA2LFxyXG59XHJcblxyXG4vKiogQW4gYWJzdHJhY3Rpb24gdGhhdCBwcm92aWRlcyBhIHNpbmsgZm9yIGRpYWdub3N0aWMgbWVzc2FnZXMuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTG9nZ2VyIHtcclxuICAvKiogQ2FsbGVkIGJ5IHRoZSBmcmFtZXdvcmsgdG8gZW1pdCBhIGRpYWdub3N0aWMgbWVzc2FnZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7TG9nTGV2ZWx9IGxvZ0xldmVsIFRoZSBzZXZlcml0eSBsZXZlbCBvZiB0aGUgbWVzc2FnZS5cclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgbWVzc2FnZS5cclxuICAgKi9cclxuICBsb2cobG9nTGV2ZWw6IExvZ0xldmVsLCBtZXNzYWdlOiBzdHJpbmcgfCBFcnJvcik6IHZvaWQ7XHJcbn1cclxuIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxyXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG5cclxuaW1wb3J0IHsgc2hvd0Vycm9yTm90aWZpY2F0aW9uIH0gZnJvbSAnLi4vLi4vQm9vdEVycm9ycyc7XHJcbmltcG9ydCB7IE91dE9mUHJvY2Vzc1JlbmRlckJhdGNoIH0gZnJvbSAnLi4vLi4vUmVuZGVyaW5nL1JlbmRlckJhdGNoL091dE9mUHJvY2Vzc1JlbmRlckJhdGNoJztcclxuaW1wb3J0IHsgYXR0YWNoUm9vdENvbXBvbmVudFRvRWxlbWVudCwgcmVuZGVyQmF0Y2ggfSBmcm9tICcuLi8uLi9SZW5kZXJpbmcvUmVuZGVyZXInO1xyXG5pbXBvcnQgeyBzZXRBcHBsaWNhdGlvbklzVGVybWluYXRlZCwgdHJ5RGVzZXJpYWxpemVNZXNzYWdlIH0gZnJvbSAnLi9XZWJWaWV3SXBjQ29tbW9uJztcclxuaW1wb3J0IHsgc2VuZFJlbmRlckNvbXBsZXRlZCB9IGZyb20gJy4vV2ViVmlld0lwY1NlbmRlcic7XHJcbmltcG9ydCB7IGludGVybmFsRnVuY3Rpb25zIGFzIG5hdmlnYXRpb25NYW5hZ2VyRnVuY3Rpb25zIH0gZnJvbSAnLi4vLi4vU2VydmljZXMvTmF2aWdhdGlvbk1hbmFnZXInO1xyXG5pbXBvcnQgeyBkaXNwYXRjaGVyIH0gZnJvbSAnLi4vLi4vQm9vdC5XZWJWaWV3JztcclxuaW1wb3J0IHsgV2ViUmVuZGVyZXJJZCB9IGZyb20gJy4uLy4uL1JlbmRlcmluZy9XZWJSZW5kZXJlcklkJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdGFydElwY1JlY2VpdmVyKCk6IHZvaWQge1xyXG4gIGNvbnN0IG1lc3NhZ2VIYW5kbGVycyA9IHtcclxuXHJcbiAgICAnQXR0YWNoVG9Eb2N1bWVudCc6IChjb21wb25lbnRJZDogbnVtYmVyLCBlbGVtZW50U2VsZWN0b3I6IHN0cmluZykgPT4ge1xyXG4gICAgICBhdHRhY2hSb290Q29tcG9uZW50VG9FbGVtZW50KGVsZW1lbnRTZWxlY3RvciwgY29tcG9uZW50SWQsIFdlYlJlbmRlcmVySWQuV2ViVmlldyk7XHJcbiAgICB9LFxyXG5cclxuICAgICdSZW5kZXJCYXRjaCc6IChiYXRjaElkOiBudW1iZXIsIGJhdGNoRGF0YUJhc2U2NDogc3RyaW5nKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgYmF0Y2hEYXRhID0gYmFzZTY0VG9BcnJheUJ1ZmZlcihiYXRjaERhdGFCYXNlNjQpO1xyXG4gICAgICAgIHJlbmRlckJhdGNoKFdlYlJlbmRlcmVySWQuV2ViVmlldywgbmV3IE91dE9mUHJvY2Vzc1JlbmRlckJhdGNoKGJhdGNoRGF0YSkpO1xyXG4gICAgICAgIHNlbmRSZW5kZXJDb21wbGV0ZWQoYmF0Y2hJZCwgbnVsbCk7XHJcbiAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgc2VuZFJlbmRlckNvbXBsZXRlZChiYXRjaElkLCAoZXggYXMgRXJyb3IpLnRvU3RyaW5nKCkpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgICdOb3RpZnlVbmhhbmRsZWRFeGNlcHRpb24nOiAobWVzc2FnZTogc3RyaW5nLCBzdGFja1RyYWNlOiBzdHJpbmcpID0+IHtcclxuICAgICAgc2V0QXBwbGljYXRpb25Jc1Rlcm1pbmF0ZWQoKTtcclxuICAgICAgY29uc29sZS5lcnJvcihgJHttZXNzYWdlfVxcbiR7c3RhY2tUcmFjZX1gKTtcclxuICAgICAgc2hvd0Vycm9yTm90aWZpY2F0aW9uKCk7XHJcbiAgICB9LFxyXG5cclxuICAgICdCZWdpbkludm9rZUpTJzogZGlzcGF0Y2hlci5iZWdpbkludm9rZUpTRnJvbURvdE5ldC5iaW5kKGRpc3BhdGNoZXIpLFxyXG5cclxuICAgICdFbmRJbnZva2VEb3ROZXQnOiBkaXNwYXRjaGVyLmVuZEludm9rZURvdE5ldEZyb21KUy5iaW5kKGRpc3BhdGNoZXIpLFxyXG5cclxuICAgICdTZW5kQnl0ZUFycmF5VG9KUyc6IHJlY2VpdmVCYXNlNjRCeXRlQXJyYXksXHJcblxyXG4gICAgJ05hdmlnYXRlJzogbmF2aWdhdGlvbk1hbmFnZXJGdW5jdGlvbnMubmF2aWdhdGVUbyxcclxuXHJcbiAgICAnUmVmcmVzaCc6IG5hdmlnYXRpb25NYW5hZ2VyRnVuY3Rpb25zLnJlZnJlc2gsXHJcblxyXG4gICAgJ1NldEhhc0xvY2F0aW9uQ2hhbmdpbmdMaXN0ZW5lcnMnOiAoaGFzTGlzdGVuZXJzOiBib29sZWFuKSA9PiB7XHJcbiAgICAgIG5hdmlnYXRpb25NYW5hZ2VyRnVuY3Rpb25zLnNldEhhc0xvY2F0aW9uQ2hhbmdpbmdMaXN0ZW5lcnMoV2ViUmVuZGVyZXJJZC5XZWJWaWV3LCBoYXNMaXN0ZW5lcnMpO1xyXG4gICAgfSxcclxuXHJcbiAgICAnRW5kTG9jYXRpb25DaGFuZ2luZyc6IG5hdmlnYXRpb25NYW5hZ2VyRnVuY3Rpb25zLmVuZExvY2F0aW9uQ2hhbmdpbmcsXHJcbiAgfTtcclxuXHJcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAod2luZG93LmV4dGVybmFsIGFzIGFueSkucmVjZWl2ZU1lc3NhZ2UoKG1lc3NhZ2U6IHN0cmluZykgPT4ge1xyXG4gICAgY29uc3QgcGFyc2VkTWVzc2FnZSA9IHRyeURlc2VyaWFsaXplTWVzc2FnZShtZXNzYWdlKTtcclxuICAgIGlmIChwYXJzZWRNZXNzYWdlKSB7XHJcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobWVzc2FnZUhhbmRsZXJzLCBwYXJzZWRNZXNzYWdlLm1lc3NhZ2VUeXBlKSkge1xyXG4gICAgICAgIG1lc3NhZ2VIYW5kbGVyc1twYXJzZWRNZXNzYWdlLm1lc3NhZ2VUeXBlXS5hcHBseShudWxsLCBwYXJzZWRNZXNzYWdlLmFyZ3MpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgSVBDIG1lc3NhZ2UgdHlwZSAnJHtwYXJzZWRNZXNzYWdlLm1lc3NhZ2VUeXBlfSdgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZWNlaXZlQmFzZTY0Qnl0ZUFycmF5KGlkOiBudW1iZXIsIGJhc2U2NERhdGE6IHN0cmluZykge1xyXG4gIGNvbnN0IGRhdGEgPSBiYXNlNjRUb0FycmF5QnVmZmVyKGJhc2U2NERhdGEpO1xyXG4gIGRpc3BhdGNoZXIucmVjZWl2ZUJ5dGVBcnJheShpZCwgZGF0YSk7XHJcbn1cclxuXHJcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMTc5NzM4MVxyXG4vLyBUT0RPOiBJZiB0aGUgZGF0YSBpcyBsYXJnZSwgY29uc2lkZXIgc3dpdGNoaW5nIG92ZXIgdG8gdGhlIG5hdGl2ZSBkZWNvZGVyIGFzIGluIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS81NDEyMzI3NVxyXG4vLyBCdXQgZG9uJ3QgZm9yY2UgaXQgdG8gYmUgYXN5bmMgYWxsIHRoZSB0aW1lLiBZaWVsZGluZyBleGVjdXRpb24gbGVhZHMgdG8gcGVyY2VwdGlibGUgbGFnLlxyXG5mdW5jdGlvbiBiYXNlNjRUb0FycmF5QnVmZmVyKGJhc2U2NDogc3RyaW5nKTogVWludDhBcnJheSB7XHJcbiAgY29uc3QgYmluYXJ5U3RyaW5nID0gYXRvYihiYXNlNjQpO1xyXG4gIGNvbnN0IGxlbmd0aCA9IGJpbmFyeVN0cmluZy5sZW5ndGg7XHJcbiAgY29uc3QgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICByZXN1bHRbaV0gPSBiaW5hcnlTdHJpbmcuY2hhckNvZGVBdChpKTtcclxuICB9XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG5pbXBvcnQgeyBCbGF6b3IsIElCbGF6b3IgfSBmcm9tICcuLi9HbG9iYWxFeHBvcnRzJztcclxuaW1wb3J0IHsgQWZ0ZXJCbGF6b3JTZXJ2ZXJTdGFydGVkQ2FsbGJhY2ssIEJlZm9yZUJsYXpvclNlcnZlclN0YXJ0ZWRDYWxsYmFjaywgQ2lyY3VpdFN0YXJ0T3B0aW9ucywgU2VydmVySW5pdGlhbGl6ZXJzIH0gZnJvbSAnLi4vUGxhdGZvcm0vQ2lyY3VpdHMvQ2lyY3VpdFN0YXJ0T3B0aW9ucyc7XHJcbmltcG9ydCB7IExvZ0xldmVsLCBMb2dnZXIgfSBmcm9tICcuLi9QbGF0Zm9ybS9Mb2dnaW5nL0xvZ2dlcic7XHJcbmltcG9ydCB7IEFmdGVyQmxhem9yV2ViQXNzZW1ibHlTdGFydGVkQ2FsbGJhY2ssIEJlZm9yZUJsYXpvcldlYkFzc2VtYmx5U3RhcnRlZENhbGxiYWNrLCBXZWJBc3NlbWJseUluaXRpYWxpemVycywgV2ViQXNzZW1ibHlTdGFydE9wdGlvbnMgfSBmcm9tICcuLi9QbGF0Zm9ybS9XZWJBc3NlbWJseVN0YXJ0T3B0aW9ucyc7XHJcbmltcG9ydCB7IFdlYlN0YXJ0T3B0aW9ucyB9IGZyb20gJy4uL1BsYXRmb3JtL1dlYlN0YXJ0T3B0aW9ucyc7XHJcbmltcG9ydCB7IFdlYlJlbmRlcmVySWQgfSBmcm9tICcuLi9SZW5kZXJpbmcvV2ViUmVuZGVyZXJJZCc7XHJcbmltcG9ydCB7IGdldFJlbmRlcmVyQXR0YWNoZWRQcm9taXNlIH0gZnJvbSAnLi4vUmVuZGVyaW5nL1dlYlJlbmRlcmVySW50ZXJvcE1ldGhvZHMnO1xyXG5cclxudHlwZSBCZWZvcmVCbGF6b3JTdGFydGVkQ2FsbGJhY2sgPSAoLi4uYXJnczogdW5rbm93bltdKSA9PiBQcm9taXNlPHZvaWQ+O1xyXG5leHBvcnQgdHlwZSBBZnRlckJsYXpvclN0YXJ0ZWRDYWxsYmFjayA9IChibGF6b3I6IHR5cGVvZiBCbGF6b3IpID0+IFByb21pc2U8dm9pZD47XHJcbnR5cGUgQmVmb3JlQmxhem9yV2ViU3RhcnRlZENhbGxiYWNrID0gKG9wdGlvbnM6IFdlYlN0YXJ0T3B0aW9ucykgPT4gUHJvbWlzZTx2b2lkPjtcclxudHlwZSBBZnRlckJsYXpvcldlYlN0YXJ0ZWRDYWxsYmFjayA9IChibGF6b3I6IElCbGF6b3IpID0+IFByb21pc2U8dm9pZD47XHJcbmV4cG9ydCB0eXBlIEJsYXpvckluaXRpYWxpemVyID0ge1xyXG4gIGJlZm9yZVN0YXJ0OiBCZWZvcmVCbGF6b3JTdGFydGVkQ2FsbGJhY2ssXHJcbiAgYWZ0ZXJTdGFydGVkOiBBZnRlckJsYXpvclN0YXJ0ZWRDYWxsYmFjayxcclxuICBiZWZvcmVXZWJTdGFydDogQmVmb3JlQmxhem9yV2ViU3RhcnRlZENhbGxiYWNrLFxyXG4gIGFmdGVyV2ViU3RhcnRlZDogQWZ0ZXJCbGF6b3JXZWJTdGFydGVkQ2FsbGJhY2ssXHJcbiAgYmVmb3JlV2ViQXNzZW1ibHlTdGFydDogQmVmb3JlQmxhem9yV2ViQXNzZW1ibHlTdGFydGVkQ2FsbGJhY2ssXHJcbiAgYWZ0ZXJXZWJBc3NlbWJseVN0YXJ0ZWQ6IEFmdGVyQmxhem9yV2ViQXNzZW1ibHlTdGFydGVkQ2FsbGJhY2ssXHJcbiAgYmVmb3JlU2VydmVyU3RhcnQ6IEJlZm9yZUJsYXpvclNlcnZlclN0YXJ0ZWRDYWxsYmFjayxcclxuICBhZnRlclNlcnZlclN0YXJ0ZWQ6IEFmdGVyQmxhem9yU2VydmVyU3RhcnRlZENhbGxiYWNrLFxyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgSlNBc3NldCA9IHtcclxuICAgIG1vZHVsZUV4cG9ydHM/OiBhbnkgfCBQcm9taXNlPGFueT4sXHJcbiAgICBuYW1lPzogc3RyaW5nOyAvLyBhY3R1YWxseSBVUkxcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEpTSW5pdGlhbGl6ZXIge1xyXG4gIHByaXZhdGUgYWZ0ZXJTdGFydGVkQ2FsbGJhY2tzOiBBZnRlckJsYXpvclN0YXJ0ZWRDYWxsYmFja1tdID0gW107XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSBzaW5nbGVSdW50aW1lID0gdHJ1ZSxcclxuICAgIHByaXZhdGUgbG9nZ2VyPzogTG9nZ2VyLFxyXG4gICAgYWZ0ZXJzdGFydGVkQ2FsbGJhY2tzPzogQWZ0ZXJCbGF6b3JTdGFydGVkQ2FsbGJhY2tbXSxcclxuICAgIHByaXZhdGUgd2ViUmVuZGVyZXJJZDogbnVtYmVyID0gMFxyXG4gICkge1xyXG4gICAgaWYgKGFmdGVyc3RhcnRlZENhbGxiYWNrcykge1xyXG4gICAgICB0aGlzLmFmdGVyU3RhcnRlZENhbGxiYWNrcy5wdXNoKC4uLmFmdGVyc3RhcnRlZENhbGxiYWNrcyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBpbXBvcnRJbml0aWFsaXplcnNBc3luYyhpbml0aWFsaXplckZpbGVzOiBKU0Fzc2V0W10sIGluaXRpYWxpemVyQXJndW1lbnRzOiB1bmtub3duW10pOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIC8vIFRoaXMgY29kZSBpcyBub3QgY2FsbGVkIG9uIFdBU00sIGJlY2F1c2UgbGlicmFyeSBpbnRpYWxpemVycyBhcmUgaW1wb3J0ZWQgYnkgcnVudGltZS5cclxuXHJcbiAgICBhd2FpdCBQcm9taXNlLmFsbChpbml0aWFsaXplckZpbGVzLm1hcChmID0+IGltcG9ydEFuZEludm9rZUluaXRpYWxpemVyKHRoaXMsIGYpKSk7XHJcblxyXG4gICAgZnVuY3Rpb24gYWRqdXN0UGF0aChwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAvLyBVc2UgVVJMIGNvbnN0cnVjdG9yIHRvIHByb3Blcmx5IHJlc29sdmUgcmVsYXRpdmUgcGF0aHMsIGF2b2lkaW5nIGlzc3VlcyB3aXRoIHF1ZXJ5IHBhcmFtZXRlcnNcclxuICAgICAgLy8gVGhpcyBpcyB0aGUgc2FtZSBtZWNoYW5pc20gYXMgZm9yIGltcG9ydCBkb3RuZXQuanMgaW4gTW9ub1BsYXRmb3JtLnRzXHJcbiAgICAgIHJldHVybiBuZXcgVVJMKHBhdGgsIGRvY3VtZW50LmJhc2VVUkkpLnRvU3RyaW5nKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZnVuY3Rpb24gaW1wb3J0QW5kSW52b2tlSW5pdGlhbGl6ZXIoanNJbml0aWFsaXplcjogSlNJbml0aWFsaXplciwgYXNzZXQ6IEpTQXNzZXQpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgbGV0IGFkanVzdGVkUGF0aDtcclxuICAgICAgaWYgKCFhc3NldC5tb2R1bGVFeHBvcnRzKSB7XHJcbiAgICAgICAgYWRqdXN0ZWRQYXRoID0gYWRqdXN0UGF0aChhc3NldC5uYW1lISk7XHJcbiAgICAgICAgYXNzZXQubW9kdWxlRXhwb3J0cyA9IGF3YWl0IGltcG9ydCgvKiB3ZWJwYWNrSWdub3JlOiB0cnVlICovIGFkanVzdGVkUGF0aCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGluaXRpYWxpemVyID0gYXNzZXQubW9kdWxlRXhwb3J0cyBhcyBQYXJ0aWFsPEJsYXpvckluaXRpYWxpemVyPjtcclxuICAgICAgaWYgKGluaXRpYWxpemVyID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghanNJbml0aWFsaXplci5zaW5nbGVSdW50aW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHJ1bk11bHRpUnVudGltZUluaXRpYWxpemVycyhqc0luaXRpYWxpemVyLCBpbml0aWFsaXplciwgaW5pdGlhbGl6ZXJBcmd1bWVudHMpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IHsgYmVmb3JlU3RhcnQsIGFmdGVyU3RhcnRlZCwgYmVmb3JlV2ViQXNzZW1ibHlTdGFydCwgYWZ0ZXJXZWJBc3NlbWJseVN0YXJ0ZWQsIGJlZm9yZVNlcnZlclN0YXJ0LCBhZnRlclNlcnZlclN0YXJ0ZWQgfSA9IGluaXRpYWxpemVyO1xyXG4gICAgICAgIGxldCBmaW5hbEJlZm9yZVN0YXJ0ID0gYmVmb3JlU3RhcnQ7XHJcbiAgICAgICAgaWYgKGpzSW5pdGlhbGl6ZXIud2ViUmVuZGVyZXJJZCA9PT0gV2ViUmVuZGVyZXJJZC5TZXJ2ZXIgJiYgYmVmb3JlU2VydmVyU3RhcnQpIHtcclxuICAgICAgICAgIGZpbmFsQmVmb3JlU3RhcnQgPSBiZWZvcmVTZXJ2ZXJTdGFydCBhcyB1bmtub3duIGFzIEJlZm9yZUJsYXpvclN0YXJ0ZWRDYWxsYmFjaztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGpzSW5pdGlhbGl6ZXIud2ViUmVuZGVyZXJJZCA9PT0gV2ViUmVuZGVyZXJJZC5XZWJBc3NlbWJseSAmJiBiZWZvcmVXZWJBc3NlbWJseVN0YXJ0KSB7XHJcbiAgICAgICAgICBmaW5hbEJlZm9yZVN0YXJ0ID0gYmVmb3JlV2ViQXNzZW1ibHlTdGFydCBhcyB1bmtub3duIGFzIEJlZm9yZUJsYXpvclN0YXJ0ZWRDYWxsYmFjaztcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGZpbmFsQWZ0ZXJTdGFydGVkID0gYWZ0ZXJTdGFydGVkO1xyXG4gICAgICAgIGlmIChqc0luaXRpYWxpemVyLndlYlJlbmRlcmVySWQgPT09IFdlYlJlbmRlcmVySWQuU2VydmVyICYmIGFmdGVyU2VydmVyU3RhcnRlZCkge1xyXG4gICAgICAgICAgZmluYWxBZnRlclN0YXJ0ZWQgPSBhZnRlclNlcnZlclN0YXJ0ZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChqc0luaXRpYWxpemVyLndlYlJlbmRlcmVySWQgPT09IFdlYlJlbmRlcmVySWQuV2ViQXNzZW1ibHkgJiYgYWZ0ZXJXZWJBc3NlbWJseVN0YXJ0ZWQpIHtcclxuICAgICAgICAgIGZpbmFsQWZ0ZXJTdGFydGVkID0gYWZ0ZXJXZWJBc3NlbWJseVN0YXJ0ZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcnVuQ2xhc3NpY0luaXRpYWxpemVycyhqc0luaXRpYWxpemVyLCBmaW5hbEJlZm9yZVN0YXJ0LCBmaW5hbEFmdGVyU3RhcnRlZCwgaW5pdGlhbGl6ZXJBcmd1bWVudHMpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBydW5NdWx0aVJ1bnRpbWVJbml0aWFsaXplcnMoXHJcbiAgICAgICAganNJbml0aWFsaXplcjogSlNJbml0aWFsaXplcixcclxuICAgICAgICBpbml0aWFsaXplck1vZHVsZTogUGFydGlhbDxCbGF6b3JJbml0aWFsaXplcj4sIGluaXRpYWxpemVyQXJndW1lbnRzOiB1bmtub3duW10pOiB2b2lkIHwgUHJvbWlzZUxpa2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBpbml0aWFsaXplckFyZ3VtZW50c1swXSBhcyBXZWJTdGFydE9wdGlvbnM7XHJcbiAgICAgICAgY29uc3QgeyBiZWZvcmVTdGFydCwgYWZ0ZXJTdGFydGVkLCBiZWZvcmVXZWJTdGFydCwgYWZ0ZXJXZWJTdGFydGVkLCBiZWZvcmVXZWJBc3NlbWJseVN0YXJ0LCBhZnRlcldlYkFzc2VtYmx5U3RhcnRlZCwgYmVmb3JlU2VydmVyU3RhcnQsIGFmdGVyU2VydmVyU3RhcnRlZCB9ID0gaW5pdGlhbGl6ZXJNb2R1bGU7XHJcbiAgICAgICAgY29uc3QgcnVudGltZVNwZWNpZmljRXhwb3J0cyA9ICEhKGJlZm9yZVdlYlN0YXJ0IHx8IGFmdGVyV2ViU3RhcnRlZCB8fCBiZWZvcmVXZWJBc3NlbWJseVN0YXJ0IHx8IGFmdGVyV2ViQXNzZW1ibHlTdGFydGVkIHx8IGJlZm9yZVNlcnZlclN0YXJ0IHx8IGFmdGVyU2VydmVyU3RhcnRlZCk7XHJcbiAgICAgICAgY29uc3QgaGFzT25seUNsYXNzaWNJbml0aWFsaXplcnMgPSAhISghcnVudGltZVNwZWNpZmljRXhwb3J0cyAmJiAoYmVmb3JlU3RhcnQgfHwgYWZ0ZXJTdGFydGVkKSk7XHJcbiAgICAgICAgY29uc3QgcnVuTGVnYWN5SW5pdGlhbGl6ZXJzID0gaGFzT25seUNsYXNzaWNJbml0aWFsaXplcnMgJiYgb3B0aW9ucy5lbmFibGVDbGFzc2ljSW5pdGlhbGl6ZXJzO1xyXG4gICAgICAgIGlmIChoYXNPbmx5Q2xhc3NpY0luaXRpYWxpemVycyAmJiAhb3B0aW9ucy5lbmFibGVDbGFzc2ljSW5pdGlhbGl6ZXJzKSB7XHJcbiAgICAgICAgICAvLyBsb2cgd2FybmluZyBcImNsYXNzaWMgaW5pdGlhbGl6ZXJzIHdpbGwgYmUgaWdub3JlZCB3aGVuIG11bHRpcGxlIHJ1bnRpbWVzIGFyZSB1c2VkXCIuXHJcbiAgICAgICAgICAvLyBTa2lwcGluZyBcImFkanVzdGVkUGF0aFwiIGluaXRpYWxpemVyLlxyXG4gICAgICAgICAganNJbml0aWFsaXplci5sb2dnZXI/LmxvZyhcclxuICAgICAgICAgICAgTG9nTGV2ZWwuV2FybmluZyxcclxuICAgICAgICAgICAgYEluaXRpYWxpemVyICcke2FkanVzdGVkUGF0aH0nIHdpbGwgYmUgaWdub3JlZCBiZWNhdXNlIG11bHRpcGxlIHJ1bnRpbWVzIGFyZSBhdmFpbGFibGUuIFVzZSAnYmVmb3JlKFdlYnxXZWJBc3NlbWJseXxTZXJ2ZXIpU3RhcnQnIGFuZCAnYWZ0ZXIoV2VifFdlYkFzc2VtYmx5fFNlcnZlcilTdGFydGVkJyBpbnN0ZWFkLmBcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChydW5MZWdhY3lJbml0aWFsaXplcnMpIHtcclxuICAgICAgICAgIHJldHVybiBydW5DbGFzc2ljSW5pdGlhbGl6ZXJzKGpzSW5pdGlhbGl6ZXIsIGJlZm9yZVN0YXJ0LCBhZnRlclN0YXJ0ZWQsIGluaXRpYWxpemVyQXJndW1lbnRzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGVuc3VyZUluaXRpYWxpemVycyhvcHRpb25zKTtcclxuXHJcbiAgICAgICAgaWYgKGJlZm9yZVdlYkFzc2VtYmx5U3RhcnQpIHtcclxuICAgICAgICAgIG9wdGlvbnMud2ViQXNzZW1ibHkuaW5pdGlhbGl6ZXJzLmJlZm9yZVN0YXJ0LnB1c2goYmVmb3JlV2ViQXNzZW1ibHlTdGFydCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYWZ0ZXJXZWJBc3NlbWJseVN0YXJ0ZWQpIHtcclxuICAgICAgICAgIG9wdGlvbnMud2ViQXNzZW1ibHkuaW5pdGlhbGl6ZXJzLmFmdGVyU3RhcnRlZC5wdXNoKGFmdGVyV2ViQXNzZW1ibHlTdGFydGVkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChiZWZvcmVTZXJ2ZXJTdGFydCkge1xyXG4gICAgICAgICAgb3B0aW9ucy5jaXJjdWl0LmluaXRpYWxpemVycy5iZWZvcmVTdGFydC5wdXNoKGJlZm9yZVNlcnZlclN0YXJ0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChhZnRlclNlcnZlclN0YXJ0ZWQpIHtcclxuICAgICAgICAgIG9wdGlvbnMuY2lyY3VpdC5pbml0aWFsaXplcnMuYWZ0ZXJTdGFydGVkLnB1c2goYWZ0ZXJTZXJ2ZXJTdGFydGVkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChhZnRlcldlYlN0YXJ0ZWQpIHtcclxuICAgICAgICAgIGpzSW5pdGlhbGl6ZXIuYWZ0ZXJTdGFydGVkQ2FsbGJhY2tzLnB1c2goYWZ0ZXJXZWJTdGFydGVkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChiZWZvcmVXZWJTdGFydCkge1xyXG4gICAgICAgICAgcmV0dXJuIGJlZm9yZVdlYlN0YXJ0KG9wdGlvbnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gcnVuQ2xhc3NpY0luaXRpYWxpemVycyhqc0luaXRpYWxpemVyOiBKU0luaXRpYWxpemVyLCBiZWZvcmVTdGFydDogQmVmb3JlQmxhem9yU3RhcnRlZENhbGxiYWNrIHwgdW5kZWZpbmVkLCBhZnRlclN0YXJ0ZWQ6IEFmdGVyQmxhem9yU3RhcnRlZENhbGxiYWNrIHwgdW5kZWZpbmVkLCBpbml0aWFsaXplckFyZ3VtZW50czogdW5rbm93bltdKTogdm9pZCB8IFByb21pc2VMaWtlPHZvaWQ+IHtcclxuICAgICAgICBpZiAoYWZ0ZXJTdGFydGVkKSB7XHJcbiAgICAgICAgICBqc0luaXRpYWxpemVyLmFmdGVyU3RhcnRlZENhbGxiYWNrcy5wdXNoKGFmdGVyU3RhcnRlZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYmVmb3JlU3RhcnQpIHtcclxuICAgICAgICAgIHJldHVybiBiZWZvcmVTdGFydCguLi5pbml0aWFsaXplckFyZ3VtZW50cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBlbnN1cmVJbml0aWFsaXplcnMob3B0aW9uczogUGFydGlhbDxXZWJTdGFydE9wdGlvbnM+KTpcclxuICAgICAgICBhc3NlcnRzIG9wdGlvbnMgaXMgT3B0aW9uc1dpdGhJbml0aWFsaXplcnMge1xyXG4gICAgICAgIGlmICghb3B0aW9uc1snd2ViQXNzZW1ibHknXSkge1xyXG4gICAgICAgICAgb3B0aW9uc1snd2ViQXNzZW1ibHknXSA9ICh7IGluaXRpYWxpemVyczogeyBiZWZvcmVTdGFydDogW10sIGFmdGVyU3RhcnRlZDogW10gfSB9KSBhcyB1bmtub3duIGFzIFdlYkFzc2VtYmx5U3RhcnRPcHRpb25zO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIW9wdGlvbnNbJ3dlYkFzc2VtYmx5J10uaW5pdGlhbGl6ZXJzKSB7XHJcbiAgICAgICAgICBvcHRpb25zWyd3ZWJBc3NlbWJseSddLmluaXRpYWxpemVycyA9IHsgYmVmb3JlU3RhcnQ6IFtdLCBhZnRlclN0YXJ0ZWQ6IFtdIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIW9wdGlvbnNbJ2NpcmN1aXQnXSkge1xyXG4gICAgICAgICAgb3B0aW9uc1snY2lyY3VpdCddID0gKHsgaW5pdGlhbGl6ZXJzOiB7IGJlZm9yZVN0YXJ0OiBbXSwgYWZ0ZXJTdGFydGVkOiBbXSB9IH0pIGFzIHVua25vd24gYXMgQ2lyY3VpdFN0YXJ0T3B0aW9ucztcclxuICAgICAgICB9IGVsc2UgaWYgKCFvcHRpb25zWydjaXJjdWl0J10uaW5pdGlhbGl6ZXJzKSB7XHJcbiAgICAgICAgICBvcHRpb25zWydjaXJjdWl0J10uaW5pdGlhbGl6ZXJzID0geyBiZWZvcmVTdGFydDogW10sIGFmdGVyU3RhcnRlZDogW10gfTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGludm9rZUFmdGVyU3RhcnRlZENhbGxiYWNrcyhibGF6b3I6IHR5cGVvZiBCbGF6b3IpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGNvbnN0IGF0dGFjaGVkID0gZ2V0UmVuZGVyZXJBdHRhY2hlZFByb21pc2UodGhpcy53ZWJSZW5kZXJlcklkKTtcclxuICAgIGlmIChhdHRhY2hlZCkge1xyXG4gICAgICBhd2FpdCBhdHRhY2hlZDtcclxuICAgIH1cclxuICAgIGF3YWl0IFByb21pc2UuYWxsKHRoaXMuYWZ0ZXJTdGFydGVkQ2FsbGJhY2tzLm1hcChjYWxsYmFjayA9PiBjYWxsYmFjayhibGF6b3IpKSk7XHJcbiAgfVxyXG59XHJcblxyXG50eXBlIE9wdGlvbnNXaXRoSW5pdGlhbGl6ZXJzID0ge1xyXG4gIHdlYkFzc2VtYmx5OiBXZWJBc3NlbWJseVN0YXJ0T3B0aW9ucyAmIHsgaW5pdGlhbGl6ZXJzOiBXZWJBc3NlbWJseUluaXRpYWxpemVycyB9LFxyXG4gIGNpcmN1aXQ6IENpcmN1aXRTdGFydE9wdGlvbnMgJiB7IGluaXRpYWxpemVyczogU2VydmVySW5pdGlhbGl6ZXJzIH1cclxufVxyXG4iLCIvLyBMaWNlbnNlZCB0byB0aGUgLk5FVCBGb3VuZGF0aW9uIHVuZGVyIG9uZSBvciBtb3JlIGFncmVlbWVudHMuXHJcbi8vIFRoZSAuTkVUIEZvdW5kYXRpb24gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcblxyXG5pbXBvcnQgeyBEb3ROZXQgfSBmcm9tICdAbWljcm9zb2Z0L2RvdG5ldC1qcy1pbnRlcm9wJztcclxuaW1wb3J0IHsgQmxhem9yIH0gZnJvbSAnLi9HbG9iYWxFeHBvcnRzJztcclxuaW1wb3J0IHsgc2hvdWxkQXV0b1N0YXJ0IH0gZnJvbSAnLi9Cb290Q29tbW9uJztcclxuaW1wb3J0IHsgaW50ZXJuYWxGdW5jdGlvbnMgYXMgbmF2aWdhdGlvbk1hbmFnZXJGdW5jdGlvbnMgfSBmcm9tICcuL1NlcnZpY2VzL05hdmlnYXRpb25NYW5hZ2VyJztcclxuaW1wb3J0IHsgc3RhcnRJcGNSZWNlaXZlciB9IGZyb20gJy4vUGxhdGZvcm0vV2ViVmlldy9XZWJWaWV3SXBjUmVjZWl2ZXInO1xyXG5pbXBvcnQgeyBzZW5kQXR0YWNoUGFnZSwgc2VuZEJlZ2luSW52b2tlRG90TmV0RnJvbUpTLCBzZW5kRW5kSW52b2tlSlNGcm9tRG90TmV0LCBzZW5kQnl0ZUFycmF5LCBzZW5kTG9jYXRpb25DaGFuZ2VkLCBzZW5kTG9jYXRpb25DaGFuZ2luZyB9IGZyb20gJy4vUGxhdGZvcm0vV2ViVmlldy9XZWJWaWV3SXBjU2VuZGVyJztcclxuaW1wb3J0IHsgZmV0Y2hBbmRJbnZva2VJbml0aWFsaXplcnMgfSBmcm9tICcuL0pTSW5pdGlhbGl6ZXJzL0pTSW5pdGlhbGl6ZXJzLldlYlZpZXcnO1xyXG5pbXBvcnQgeyByZWNlaXZlRG90TmV0RGF0YVN0cmVhbSB9IGZyb20gJy4vU3RyZWFtaW5nSW50ZXJvcCc7XHJcbmltcG9ydCB7IFdlYlJlbmRlcmVySWQgfSBmcm9tICcuL1JlbmRlcmluZy9XZWJSZW5kZXJlcklkJztcclxuXHJcbmxldCBzdGFydGVkID0gZmFsc2U7XHJcblxyXG5leHBvcnQgbGV0IGRpc3BhdGNoZXI6IERvdE5ldC5JQ2FsbERpc3BhdGNoZXI7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBib290KCk6IFByb21pc2U8dm9pZD4ge1xyXG4gIGlmIChzdGFydGVkKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0JsYXpvciBoYXMgYWxyZWFkeSBzdGFydGVkLicpO1xyXG4gIH1cclxuICBzdGFydGVkID0gdHJ1ZTtcclxuXHJcbiAgZGlzcGF0Y2hlciA9IERvdE5ldC5hdHRhY2hEaXNwYXRjaGVyKHtcclxuICAgIGJlZ2luSW52b2tlRG90TmV0RnJvbUpTOiBzZW5kQmVnaW5JbnZva2VEb3ROZXRGcm9tSlMsXHJcbiAgICBlbmRJbnZva2VKU0Zyb21Eb3ROZXQ6IHNlbmRFbmRJbnZva2VKU0Zyb21Eb3ROZXQsXHJcbiAgICBzZW5kQnl0ZUFycmF5OiBzZW5kQnl0ZUFycmF5LFxyXG4gIH0pO1xyXG5cclxuICBjb25zdCBqc0luaXRpYWxpemVyID0gYXdhaXQgZmV0Y2hBbmRJbnZva2VJbml0aWFsaXplcnMoKTtcclxuXHJcbiAgc3RhcnRJcGNSZWNlaXZlcigpO1xyXG5cclxuICBCbGF6b3IuX2ludGVybmFsLnJlY2VpdmVXZWJWaWV3RG90TmV0RGF0YVN0cmVhbSA9IHJlY2VpdmVXZWJWaWV3RG90TmV0RGF0YVN0cmVhbTtcclxuXHJcbiAgbmF2aWdhdGlvbk1hbmFnZXJGdW5jdGlvbnMuZW5hYmxlTmF2aWdhdGlvbkludGVyY2VwdGlvbihXZWJSZW5kZXJlcklkLldlYlZpZXcpO1xyXG4gIG5hdmlnYXRpb25NYW5hZ2VyRnVuY3Rpb25zLmxpc3RlbkZvck5hdmlnYXRpb25FdmVudHMoV2ViUmVuZGVyZXJJZC5XZWJWaWV3LCBzZW5kTG9jYXRpb25DaGFuZ2VkLCBzZW5kTG9jYXRpb25DaGFuZ2luZyk7XHJcblxyXG4gIHNlbmRBdHRhY2hQYWdlKG5hdmlnYXRpb25NYW5hZ2VyRnVuY3Rpb25zLmdldEJhc2VVUkkoKSwgbmF2aWdhdGlvbk1hbmFnZXJGdW5jdGlvbnMuZ2V0TG9jYXRpb25IcmVmKCkpO1xyXG4gIGF3YWl0IGpzSW5pdGlhbGl6ZXIuaW52b2tlQWZ0ZXJTdGFydGVkQ2FsbGJhY2tzKEJsYXpvcik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlY2VpdmVXZWJWaWV3RG90TmV0RGF0YVN0cmVhbShzdHJlYW1JZDogbnVtYmVyLCBkYXRhOiBhbnksIGJ5dGVzUmVhZDogbnVtYmVyLCBlcnJvck1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xyXG4gIHJlY2VpdmVEb3ROZXREYXRhU3RyZWFtKGRpc3BhdGNoZXIsIHN0cmVhbUlkLCBkYXRhLCBieXRlc1JlYWQsIGVycm9yTWVzc2FnZSk7XHJcbn1cclxuXHJcbkJsYXpvci5zdGFydCA9IGJvb3Q7XHJcbndpbmRvd1snRG90TmV0J10gPSBEb3ROZXQ7XHJcblxyXG5pZiAoc2hvdWxkQXV0b1N0YXJ0KCkpIHtcclxuICBib290KCk7XHJcbn1cclxuIiwiLy8gTGljZW5zZWQgdG8gdGhlIC5ORVQgRm91bmRhdGlvbiB1bmRlciBvbmUgb3IgbW9yZSBhZ3JlZW1lbnRzLlxyXG4vLyBUaGUgLk5FVCBGb3VuZGF0aW9uIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG5cclxuaW1wb3J0IHsgSlNBc3NldCwgSlNJbml0aWFsaXplciB9IGZyb20gJy4vSlNJbml0aWFsaXplcnMnO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoQW5kSW52b2tlSW5pdGlhbGl6ZXJzKCkgOiBQcm9taXNlPEpTSW5pdGlhbGl6ZXI+IHtcclxuICBjb25zdCBqc0luaXRpYWxpemVyc1Jlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ19mcmFtZXdvcmsvYmxhem9yLm1vZHVsZXMuanNvbicsIHtcclxuICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxyXG4gICAgY2FjaGU6ICduby1jYWNoZScsXHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGluaXRpYWxpemVycyA9IChhd2FpdCBqc0luaXRpYWxpemVyc1Jlc3BvbnNlLmpzb24oKSkubWFwKG5hbWUgPT4gKHtcclxuICAgIG5hbWUsXHJcbiAgfSkpIGFzIEpTQXNzZXRbXTtcclxuICBjb25zdCBqc0luaXRpYWxpemVyID0gbmV3IEpTSW5pdGlhbGl6ZXIoKTtcclxuICBhd2FpdCBqc0luaXRpYWxpemVyLmltcG9ydEluaXRpYWxpemVyc0FzeW5jKGluaXRpYWxpemVycywgW10pO1xyXG4gIHJldHVybiBqc0luaXRpYWxpemVyO1xyXG59XHJcbiIsIi8vIExpY2Vuc2VkIHRvIHRoZSAuTkVUIEZvdW5kYXRpb24gdW5kZXIgb25lIG9yIG1vcmUgYWdyZWVtZW50cy5cclxuLy8gVGhlIC5ORVQgRm91bmRhdGlvbiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuXHJcbi8vIFRlbGxzIHlvdSBpZiB0aGUgc2NyaXB0IHdhcyBhZGRlZCB3aXRob3V0IDxzY3JpcHQgc3JjPVwiLi4uXCIgYXV0b3N0YXJ0PVwiZmFsc2VcIj48L3NjcmlwdD5cclxuZXhwb3J0IGZ1bmN0aW9uIHNob3VsZEF1dG9TdGFydCgpOiBib29sZWFuIHtcclxuICByZXR1cm4gISEoZG9jdW1lbnQgJiZcclxuICAgIGRvY3VtZW50LmN1cnJlbnRTY3JpcHQgJiZcclxuICAgIGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuZ2V0QXR0cmlidXRlKCdhdXRvc3RhcnQnKSAhPT0gJ2ZhbHNlJyk7XHJcbn1cclxuIl0sIm5hbWVzIjpbIkRvdE5ldCIsIkVkaXRUeXBlIiwiRnJhbWVUeXBlIiwianNvblJldml2ZXJzIiwianNPYmplY3RJZEtleSIsImRvdE5ldE9iamVjdFJlZktleSIsImJ5dGVBcnJheVJlZktleSIsImRvdE5ldFN0cmVhbVJlZktleSIsImpzU3RyZWFtUmVmZXJlbmNlTGVuZ3RoS2V5IiwiZGVmYXVsdENhbGxEaXNwYXRjaGVyIiwiY3VycmVudENhbGxEaXNwYXRjaGVyIiwiSlNDYWxsVHlwZSIsIkpTT2JqZWN0IiwiY29uc3RydWN0b3IiLCJfanNPYmplY3QiLCJ0aGlzIiwiX2NhY2hlZEhhbmRsZXJzIiwiTWFwIiwicmVzb2x2ZUludm9jYXRpb25IYW5kbGVyIiwiaWRlbnRpZmllciIsImNhbGxUeXBlIiwiX2EiLCJjYWNoZWRGdW5jdGlvbiIsImdldCIsInBhcmVudCIsIm1lbWJlck5hbWUiLCJmaW5kT2JqZWN0TWVtYmVyIiwiZnVuYyIsIkZ1bmN0aW9uQ2FsbCIsIkZ1bmN0aW9uIiwiYmluZCIsIkVycm9yIiwiQ29uc3RydWN0b3JDYWxsIiwiY3RvciIsImJvdW5kIiwiYXJncyIsIkdldFZhbHVlIiwib2JqIiwicHJvcE5hbWUiLCJ1bmRlZmluZWQiLCJkZXNjcmlwdG9yIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiaGFzT3duUHJvcGVydHkiLCJnZXRQcm90b3R5cGVPZiIsImlzUmVhZGFibGVQcm9wZXJ0eSIsIlNldFZhbHVlIiwiaXNFeHRlbnNpYmxlIiwid3JpdGFibGUiLCJzZXQiLCJpc1dyaXRhYmxlUHJvcGVydHkiLCJ3cmFwSlNDYWxsQXNGdW5jdGlvbiIsImFkZEhhbmRsZXJUb0NhY2hlIiwiZ2V0V3JhcHBlZE9iamVjdCIsImNhY2hlZElkZW50aWZpZXIiLCJ3aW5kb3dKU09iamVjdElkIiwiY2FjaGVkSlNPYmplY3RzQnlJZCIsIndpbmRvdyIsInVybCIsInN0YXJ0c1dpdGgiLCJVUkwiLCJzdWJzdHJpbmciLCJkb2N1bWVudCIsImJhc2VVUkkiLCJ0b1N0cmluZyIsImltcG9ydCIsIkpTQ2FsbFJlc3VsdFR5cGUiLCJuZXh0SnNPYmplY3RJZCIsImF0dGFjaFJldml2ZXIiLCJyZXZpdmVyIiwicHVzaCIsImNyZWF0ZUpTT2JqZWN0UmVmZXJlbmNlIiwianNPYmplY3QiLCJyZXN1bHQiLCJjcmVhdGVKU1N0cmVhbVJlZmVyZW5jZSIsInN0cmVhbVJlZmVyZW5jZSIsImxlbmd0aCIsIkFycmF5QnVmZmVyIiwiVWludDhBcnJheSIsIkJsb2IiLCJzaXplIiwiYnVmZmVyIiwiYnl0ZUxlbmd0aCIsImpzT2JqZWN0UmVmZXJlbmNlIiwiZXJyb3IiLCJwYXJzZUpzb25XaXRoUmV2aXZlcnMiLCJjYWxsRGlzcGF0Y2hlciIsImpzb24iLCJKU09OIiwicGFyc2UiLCJrZXkiLCJpbml0aWFsVmFsdWUiLCJyZWR1Y2UiLCJsYXRlc3RWYWx1ZSIsImdldERlZmF1bHRDYWxsRGlzcGF0Y2hlciIsImF0dGFjaERpc3BhdGNoZXIiLCJkb3ROZXRDYWxsRGlzcGF0Y2hlciIsIkNhbGxEaXNwYXRjaGVyIiwiaW52b2tlTWV0aG9kIiwiYXNzZW1ibHlOYW1lIiwibWV0aG9kSWRlbnRpZmllciIsImludm9rZURvdE5ldFN0YXRpY01ldGhvZCIsImludm9rZU1ldGhvZEFzeW5jIiwiaW52b2tlRG90TmV0U3RhdGljTWV0aG9kQXN5bmMiLCJkaXNwb3NlSlNPYmplY3RSZWZlcmVuY2UiLCJpZCIsImRpc3Bvc2VKU09iamVjdFJlZmVyZW5jZUJ5SWQiLCJfZG90TmV0Q2FsbERpc3BhdGNoZXIiLCJfYnl0ZUFycmF5c1RvQmVSZXZpdmVkIiwiX3BlbmRpbmdEb3ROZXRUb0pTU3RyZWFtcyIsIl9wZW5kaW5nQXN5bmNDYWxscyIsIl9uZXh0QXN5bmNDYWxsSWQiLCJnZXREb3ROZXRDYWxsRGlzcGF0Y2hlciIsImludm9rZUpTRnJvbURvdE5ldCIsImFyZ3NKc29uIiwicmVzdWx0VHlwZSIsInRhcmdldEluc3RhbmNlSWQiLCJjcmVhdGVKU0NhbGxSZXN1bHQiLCJwcm9jZXNzSlNDYWxsIiwic3RyaW5naWZ5QXJncyIsImJlZ2luSW52b2tlSlNGcm9tRG90TmV0IiwiYXN5bmNIYW5kbGUiLCJ2YWx1ZU9yUHJvbWlzZSIsInNlcmlhbGl6ZWRSZXN1bHQiLCJlbmRJbnZva2VKU0Zyb21Eb3ROZXQiLCJzZXJpYWxpemVkRXJyb3IiLCJzdHJpbmdpZnkiLCJmb3JtYXRFcnJvciIsImZpbmRKU0Z1bmN0aW9uIiwiZW5kSW52b2tlRG90TmV0RnJvbUpTIiwiYXN5bmNDYWxsSWQiLCJzdWNjZXNzIiwicmVzdWx0SnNvbk9yRXhjZXB0aW9uTWVzc2FnZSIsInJlc3VsdE9yRXJyb3IiLCJjb21wbGV0ZVBlbmRpbmdDYWxsIiwicGFyc2VJbnQiLCJpbnZva2VEb3ROZXRNZXRob2QiLCJpbnZva2VEb3ROZXRNZXRob2RBc3luYyIsImRvdE5ldE9iamVjdElkIiwiaW52b2tlRG90TmV0RnJvbUpTIiwicmVzdWx0SnNvbiIsInJlc3VsdFByb21pc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImJlZ2luSW52b2tlRG90TmV0RnJvbUpTIiwiZXgiLCJyZWNlaXZlQnl0ZUFycmF5IiwiZGF0YSIsInByb2Nlc3NCeXRlQXJyYXkiLCJkZWxldGUiLCJzdXBwbHlEb3ROZXRTdHJlYW0iLCJzdHJlYW1JZCIsInN0cmVhbSIsImhhcyIsInBlbmRpbmdTdHJlYW0iLCJQZW5kaW5nU3RyZWFtIiwiZ2V0RG90TmV0U3RyZWFtUHJvbWlzZSIsInN0cmVhbVByb21pc2UiLCJhc3luY0NhbGwiLCJtZXNzYWdlIiwic3RhY2siLCJ0YXJnZXRJbnN0YW5jZSIsImtleXMiLCJzcGxpdCIsImN1cnJlbnQiLCJpIiwiRG90TmV0T2JqZWN0IiwiX2lkIiwiX2NhbGxEaXNwYXRjaGVyIiwiZGlzcG9zZSIsImNhdGNoIiwiY29uc29sZSIsInNlcmlhbGl6ZUFzQXJnIiwidmFsdWUiLCJpbmRleCIsImJ5dGVBcnJheSIsIkRvdE5ldFN0cmVhbSIsIl9zdHJlYW1Qcm9taXNlIiwiYXJyYXlCdWZmZXIiLCJSZXNwb25zZSIsInJldHVyblZhbHVlIiwiRGVmYXVsdCIsIkpTT2JqZWN0UmVmZXJlbmNlIiwiSlNTdHJlYW1SZWZlcmVuY2UiLCJKU1ZvaWRSZXN1bHQiLCJuZXh0Qnl0ZUFycmF5SW5kZXgiLCJhcmdSZXBsYWNlciIsInNlbmRCeXRlQXJyYXkiLCJqc29uVmFsdWUiLCJFdmVudEZpZWxkSW5mbyIsImNvbXBvbmVudElkIiwiZmllbGRWYWx1ZSIsImZyb21FdmVudCIsImV2ZW50IiwiZWxlbSIsInRhcmdldCIsIkVsZW1lbnQiLCJmaWVsZERhdGEiLCJIVE1MSW5wdXRFbGVtZW50IiwidHlwZSIsInRvTG93ZXJDYXNlIiwiY2hlY2tlZCIsIkhUTUxTZWxlY3RFbGVtZW50IiwiSFRNTFRleHRBcmVhRWxlbWVudCIsImdldEZvcm1GaWVsZERhdGEiLCJldmVudFR5cGVSZWdpc3RyeSIsImJyb3dzZXJFdmVudE5hbWVzVG9BbGlhc2VzIiwiZXZlbnROYW1lQWxpYXNSZWdpc3RlcmVkQ2FsbGJhY2tzIiwiZ2V0RXZlbnRUeXBlT3B0aW9ucyIsImV2ZW50TmFtZSIsImdldEJyb3dzZXJFdmVudE5hbWUiLCJwb3NzaWJsZUFsaWFzRXZlbnROYW1lIiwiZXZlbnRPcHRpb25zIiwiYnJvd3NlckV2ZW50TmFtZSIsInJlZ2lzdGVyQnVpbHRJbkV2ZW50VHlwZSIsImV2ZW50TmFtZXMiLCJvcHRpb25zIiwiZm9yRWFjaCIsInBhcnNlVG91Y2giLCJ0b3VjaExpc3QiLCJ0b3VjaGVzIiwidG91Y2giLCJjbGllbnRYIiwiY2xpZW50WSIsInNjcmVlblgiLCJzY3JlZW5ZIiwicGFnZVgiLCJwYWdlWSIsInBhcnNlTW91c2VFdmVudCIsImRldGFpbCIsIm9mZnNldFgiLCJvZmZzZXRZIiwibW92ZW1lbnRYIiwibW92ZW1lbnRZIiwiYnV0dG9uIiwiYnV0dG9ucyIsImN0cmxLZXkiLCJzaGlmdEtleSIsImFsdEtleSIsIm1ldGFLZXkiLCJjcmVhdGVFdmVudEFyZ3MiLCJlbGVtZW50IiwidGltZUJhc2VkSW5wdXRzIiwiaW5kZXhPZiIsImdldEF0dHJpYnV0ZSIsImlzVGltZUJhc2VkSW5wdXQiLCJub3JtYWxpemVkVmFsdWUiLCJub3JtYWxpemVUaW1lQmFzZWRWYWx1ZSIsImlzTXVsdGlwbGVTZWxlY3RJbnB1dCIsInNlbGVjdEVsZW1lbnQiLCJBcnJheSIsImZyb20iLCJmaWx0ZXIiLCJvcHRpb24iLCJzZWxlY3RlZCIsIm1hcCIsInRhcmdldElzQ2hlY2tib3giLCJ0YWdOYW1lIiwiaXNDaGVja2JveCIsImUiLCJwYXJzZURyYWdFdmVudCIsImRhdGFUcmFuc2ZlciIsImRyb3BFZmZlY3QiLCJlZmZlY3RBbGxvd2VkIiwiZmlsZXMiLCJmIiwibmFtZSIsIml0ZW1zIiwia2luZCIsInR5cGVzIiwicGFyc2VLZXlib2FyZEV2ZW50IiwiY29kZSIsImxvY2F0aW9uIiwicmVwZWF0IiwiaXNDb21wb3NpbmciLCJwYXJzZUVycm9yRXZlbnQiLCJmaWxlbmFtZSIsImxpbmVubyIsImNvbG5vIiwicGFyc2VQcm9ncmVzc0V2ZW50IiwibGVuZ3RoQ29tcHV0YWJsZSIsImxvYWRlZCIsInRvdGFsIiwicGFyc2VUb3VjaEV2ZW50IiwidGFyZ2V0VG91Y2hlcyIsImNoYW5nZWRUb3VjaGVzIiwicGFyc2VQb2ludGVyRXZlbnQiLCJwb2ludGVySWQiLCJ3aWR0aCIsImhlaWdodCIsInByZXNzdXJlIiwidGlsdFgiLCJ0aWx0WSIsInBvaW50ZXJUeXBlIiwiaXNQcmltYXJ5IiwicGFyc2VXaGVlbEV2ZW50IiwiZGVsdGFYIiwiZGVsdGFZIiwiZGVsdGFaIiwiZGVsdGFNb2RlIiwicGVuZGluZ1Jvb3RDb21wb25lbnRDb250YWluZXJzIiwibWFuYWdlciIsImpzQ29tcG9uZW50UGFyYW1ldGVyc0J5SWRlbnRpZmllciIsIm5leHRQZW5kaW5nRHluYW1pY1Jvb3RDb21wb25lbnRJZGVudGlmaWVyIiwiUm9vdENvbXBvbmVudHNGdW5jdGlvbnMiLCJhZGQiLCJ0b0VsZW1lbnQiLCJjb21wb25lbnRJZGVudGlmaWVyIiwiaW5pdGlhbFBhcmFtZXRlcnMiLCJjb250YWluZXJJZGVudGlmaWVyIiwiZ2V0UmVxdWlyZWRNYW5hZ2VyIiwiY29tcG9uZW50IiwiRHluYW1pY1Jvb3RDb21wb25lbnQiLCJzZXRQYXJhbWV0ZXJzIiwiRXZlbnRDYWxsYmFja1dyYXBwZXIiLCJpbnZva2UiLCJhcmciLCJfY2FsbGJhY2siLCJzZXRDYWxsYmFjayIsImNhbGxiYWNrIiwiX3NlbGZKU09iamVjdFJlZmVyZW5jZSIsImdldEpTT2JqZWN0UmVmZXJlbmNlIiwicGFyYW1ldGVycyIsIl9qc0V2ZW50Q2FsbGJhY2tXcmFwcGVycyIsIl9jb21wb25lbnRJZCIsInBhcmFtZXRlciIsIm1hcHBlZFBhcmFtZXRlcnMiLCJlbnRyaWVzIiwicGFyYW1ldGVyQ291bnQiLCJjYWxsYmFja1dyYXBwZXIiLCJqc0V2ZW50Q2FsbGJhY2tXcmFwcGVyIiwidmFsdWVzIiwiaW50ZXJvcE1ldGhvZHNCeVJlbmRlcmVyIiwicmVuZGVyZXJBdHRhY2hlZExpc3RlbmVycyIsInJlbmRlcmVyQnlJZFJlc29sdmVyTWFwIiwiaXNSZW5kZXJlckF0dGFjaGVkIiwiYnJvd3NlclJlbmRlcmVySWQiLCJkaXNwYXRjaEV2ZW50IiwiZXZlbnREZXNjcmlwdG9yIiwiZXZlbnRBcmdzIiwiZGlzcGF0Y2hFdmVudE1pZGRsZXdhcmUiLCJldmVudEhhbmRsZXJJZCIsImdldEludGVyb3BNZXRob2RzIiwicmVuZGVyZXJJZCIsImludGVyb3BNZXRob2RzIiwiY29udGludWF0aW9uIiwibm9uQnViYmxpbmdFdmVudHMiLCJ0b0xvb2t1cCIsImFsd2F5c1ByZXZlbnREZWZhdWx0RXZlbnRzIiwic3VibWl0IiwiZGlzYWJsZWFibGVFdmVudE5hbWVzIiwiRXZlbnREZWxlZ2F0b3IiLCJuZXh0RXZlbnREZWxlZ2F0b3JJZCIsImFmdGVyQ2xpY2tDYWxsYmFja3MiLCJldmVudERlbGVnYXRvcklkIiwiZXZlbnRzQ29sbGVjdGlvbktleSIsImV2ZW50SW5mb1N0b3JlIiwiRXZlbnRJbmZvU3RvcmUiLCJvbkdsb2JhbEV2ZW50Iiwic2V0TGlzdGVuZXIiLCJyZW5kZXJpbmdDb21wb25lbnRJZCIsImluZm9Gb3JFbGVtZW50IiwiZ2V0RXZlbnRIYW5kbGVySW5mb3NGb3JFbGVtZW50IiwiZXhpc3RpbmdIYW5kbGVyIiwiZ2V0SGFuZGxlciIsInVwZGF0ZSIsIm5ld0luZm8iLCJzZXRIYW5kbGVyIiwicmVtb3ZlTGlzdGVuZXIiLCJpbmZvIiwicmVtb3ZlIiwiZWxlbWVudEV2ZW50SW5mb3MiLCJyZW1vdmVIYW5kbGVyIiwicmVtb3ZlTGlzdGVuZXJzRm9yRWxlbWVudCIsImluZm9zRm9yRWxlbWVudCIsImhhbmRsZXJJbmZvIiwiZW51bWVyYXRlSGFuZGxlcnMiLCJub3RpZnlBZnRlckNsaWNrIiwiYWRkR2xvYmFsTGlzdGVuZXIiLCJzZXRTdG9wUHJvcGFnYXRpb24iLCJjdXJyZW50VmFsdWUiLCJzdG9wUHJvcGFnYXRpb24iLCJkZWNyZW1lbnRDb3VudEJ5RXZlbnROYW1lIiwic2V0UHJldmVudERlZmF1bHQiLCJwcmV2ZW50RGVmYXVsdCIsImFkZEFjdGl2ZUdsb2JhbExpc3RlbmVyIiwiZXZ0IiwiZGlzcGF0Y2hHbG9iYWxFdmVudFRvQWxsRWxlbWVudHMiLCJldmVudE5hbWVBbGlhc2VzIiwiYWxpYXMiLCJicm93c2VyRXZlbnQiLCJwYXRoIiwiY29tcG9zZWRQYXRoIiwiY2FuZGlkYXRlRXZlbnRUYXJnZXQiLCJzaGlmdCIsImV2ZW50QXJnc0lzUG9wdWxhdGVkIiwiZXZlbnRJc05vbkJ1YmJsaW5nIiwicHJvdG90eXBlIiwiY2FsbCIsInN0b3BQcm9wYWdhdGlvbldhc1JlcXVlc3RlZCIsImNhbmRpZGF0ZUVsZW1lbnQiLCJoYW5kbGVySW5mb3MiLCJyYXdCcm93c2VyRXZlbnROYW1lIiwiSFRNTEJ1dHRvbkVsZW1lbnQiLCJkaXNhYmxlZCIsImV2ZW50T3B0aW9uc0lmUmVnaXN0ZXJlZCIsImV2ZW50RmllbGRJbmZvIiwiY3JlYXRlSWZOZWVkZWQiLCJFdmVudEhhbmRsZXJJbmZvc0ZvckVsZW1lbnQiLCJnbG9iYWxMaXN0ZW5lciIsImluZm9zQnlFdmVudEhhbmRsZXJJZCIsImNvdW50QnlFdmVudE5hbWUiLCJoYW5kbGVFdmVudE5hbWVBbGlhc0FkZGVkIiwidXNlQ2FwdHVyZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2FwdHVyZSIsInBhc3NpdmUiLCJvbGRFdmVudEhhbmRsZXJJZCIsIm5ld0V2ZW50SGFuZGxlcklkIiwiYWxpYXNFdmVudE5hbWUiLCJjb3VudEJ5QWxpYXNFdmVudE5hbWUiLCJoYW5kbGVycyIsInByZXZlbnREZWZhdWx0RmxhZ3MiLCJzdG9wUHJvcGFnYXRpb25GbGFncyIsImhhbmRsZXIiLCJzZXRWYWx1ZSIsImxvZ2ljYWxDaGlsZHJlblByb3BuYW1lIiwiU3ltYm9sIiwibG9naWNhbFBhcmVudFByb3BuYW1lIiwidG9Mb2dpY2FsRWxlbWVudCIsImFsbG93RXhpc3RpbmdDb250ZW50cyIsImNoaWxkcmVuQXJyYXkiLCJjaGlsZE5vZGVzIiwiY2hpbGQiLCJjaGlsZExvZ2ljYWxFbGVtZW50IiwiZW1wdHlMb2dpY2FsRWxlbWVudCIsImdldExvZ2ljYWxDaGlsZHJlbkFycmF5IiwicmVtb3ZlTG9naWNhbENoaWxkIiwiY3JlYXRlQW5kSW5zZXJ0TG9naWNhbENvbnRhaW5lciIsImNoaWxkSW5kZXgiLCJjb250YWluZXJFbGVtZW50IiwiY3JlYXRlQ29tbWVudCIsImluc2VydExvZ2ljYWxDaGlsZCIsImNoaWxkQXNMb2dpY2FsRWxlbWVudCIsIm5vZGVUb0luc2VydCIsIkNvbW1lbnQiLCJleGlzdGluZ0dyYW5jaGlsZHJlbiIsImxhc3ROb2RlVG9JbnNlcnQiLCJmaW5kTGFzdERvbU5vZGVJblJhbmdlIiwicmFuZ2UiLCJSYW5nZSIsInNldFN0YXJ0QmVmb3JlIiwic2V0RW5kQWZ0ZXIiLCJleHRyYWN0Q29udGVudHMiLCJleGlzdGluZ0xvZ2ljYWxQYXJlbnQiLCJnZXRMb2dpY2FsUGFyZW50IiwiZXhpc3RpbmdTaWJsaW5nQXJyYXkiLCJleGlzdGluZ0NoaWxkSW5kZXgiLCJzcGxpY2UiLCJuZXdTaWJsaW5ncyIsIm5leHRTaWJsaW5nIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsImFwcGVuZERvbU5vZGUiLCJjaGlsZFRvUmVtb3ZlIiwiZ3JhbmRjaGlsZHJlbkFycmF5IiwiZG9tTm9kZVRvUmVtb3ZlIiwicmVtb3ZlQ2hpbGQiLCJnZXRMb2dpY2FsQ2hpbGQiLCJpc1N2Z0VsZW1lbnQiLCJjbG9zZXN0RWxlbWVudCIsImdldENsb3Nlc3REb21FbGVtZW50IiwibmFtZXNwYWNlVVJJIiwiZ2V0TG9naWNhbE5leHRTaWJsaW5nIiwic2libGluZ3MiLCJkZXB0aEZpcnN0Tm9kZVRyZWVUcmF2ZXJzYWwiLCJjaGlsZHJlbiIsInBlcm11dGVMb2dpY2FsQ2hpbGRyZW4iLCJwZXJtdXRhdGlvbkxpc3QiLCJsaXN0RW50cnkiLCJtb3ZlUmFuZ2VTdGFydCIsImZyb21TaWJsaW5nSW5kZXgiLCJtb3ZlUmFuZ2VFbmQiLCJtYXJrZXIiLCJtb3ZlVG9CZWZvcmVNYXJrZXIiLCJpbnNlcnRCZWZvcmVOb2RlIiwidG9TaWJsaW5nSW5kZXgiLCJwYXJlbnREb21Ob2RlIiwiZWxlbWVudFRvTW92ZSIsIm1vdmVFbmROb2RlIiwibmV4dFRvTW92ZSIsIm5leHROZXh0IiwibG9naWNhbEVsZW1lbnQiLCJEb2N1bWVudEZyYWdtZW50IiwiYXBwZW5kQ2hpbGQiLCJwYXJlbnRMb2dpY2FsTmV4dFNpYmxpbmciLCJwcmV2aW91c1NpYmxpbmciLCJsb2dpY2FsUGFyZW50IiwibGFzdENoaWxkIiwiZ2V0Q2FwdHVyZUlkQXR0cmlidXRlTmFtZSIsInJlZmVyZW5jZUNhcHR1cmVJZCIsImVsZW1lbnRSZWZLZXkiLCJzZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3IiLCJnZXRFbGVtZW50QnlDYXB0dXJlSWQiLCJkZWZlcnJlZFZhbHVlUHJvcG5hbWUiLCJpc011bHRpcGxlU2VsZWN0RWxlbWVudCIsInNldFNpbmdsZVNlbGVjdEVsZW1lbnRWYWx1ZSIsInNldERlZmVycmVkRWxlbWVudFZhbHVlIiwic2V0TXVsdGlwbGVTZWxlY3RFbGVtZW50VmFsdWUiLCJ0cnlTZXRTZWxlY3RWYWx1ZUZyb21PcHRpb25FbGVtZW50Iiwib3B0aW9uRWxlbWVudCIsInNlbGVjdEVsZW0iLCJwYXJlbnRFbGVtZW50IiwiZmluZENsb3Nlc3RBbmNlc3RvclNlbGVjdEVsZW1lbnQiLCJpc0JsYXpvclNlbGVjdEVsZW1lbnQiLCJfYmxhem9yRGVmZXJyZWRWYWx1ZSIsInNoYXJlZFRlbXBsYXRlRWxlbUZvclBhcnNpbmciLCJjcmVhdGVFbGVtZW50Iiwic2hhcmVkU3ZnRWxlbUZvclBhcnNpbmciLCJjcmVhdGVFbGVtZW50TlMiLCJlbGVtZW50c1RvQ2xlYXJPblJvb3RDb21wb25lbnRSZW5kZXIiLCJTZXQiLCJpbnRlcmFjdGl2ZVJvb3RDb21wb25lbnRQcm9wbmFtZSIsInByZXNlcnZlQ29udGVudE9uRGlzcG9zYWxQcm9wbmFtZSIsIkJyb3dzZXJSZW5kZXJlciIsInJvb3RDb21wb25lbnRJZHMiLCJjaGlsZENvbXBvbmVudExvY2F0aW9ucyIsImV2ZW50RGVsZWdhdG9yIiwiaGFzSW50ZXJhY3RpdmVSb3V0ZXIiLCJldmVudEhhc1NwZWNpYWxLZXkiLCJkZWZhdWx0UHJldmVudGVkIiwiYW5jaG9yVGFyZ2V0IiwiY2FuZGlkYXRlIiwiSFRNTEFuY2hvckVsZW1lbnQiLCJTVkdBRWxlbWVudCIsImZpbmRBbmNob3JUYXJnZXQiLCJ0YXJnZXRBdHRyaWJ1dGVWYWx1ZSIsImhhc0F0dHJpYnV0ZSIsImNhblByb2Nlc3NBbmNob3IiLCJhYnNvbHV0ZUhyZWYiLCJ0b0Fic29sdXRlVXJpIiwiaXNXaXRoaW5CYXNlVXJpU3BhY2UiLCJwZXJmb3JtSW50ZXJuYWxOYXZpZ2F0aW9uIiwiaGFuZGxlQ2xpY2tGb3JOYXZpZ2F0aW9uSW50ZXJjZXB0aW9uIiwiZ2V0Um9vdENvbXBvbmVudENvdW50IiwiYXR0YWNoUm9vdENvbXBvbmVudFRvTG9naWNhbEVsZW1lbnQiLCJhcHBlbmRDb250ZW50IiwiaXNJbnRlcmFjdGl2ZVJvb3RDb21wb25lbnRFbGVtZW50IiwibWFya0FzSW50ZXJhY3RpdmVSb290Q29tcG9uZW50RWxlbWVudCIsImF0dGFjaENvbXBvbmVudFRvRWxlbWVudCIsInVwZGF0ZUNvbXBvbmVudCIsImJhdGNoIiwiZWRpdHMiLCJyZWZlcmVuY2VGcmFtZXMiLCJkZXRhY2hFdmVudEhhbmRsZXJzRnJvbUVsZW1lbnQiLCJ0ZXh0Q29udGVudCIsIm93bmVyRG9jdW1lbnQiLCJnZXRSb290Tm9kZSIsImFjdGl2ZUVsZW1lbnRCZWZvcmUiLCJhY3RpdmVFbGVtZW50IiwiYXBwbHlFZGl0cyIsIkhUTUxFbGVtZW50IiwiZm9jdXMiLCJkaXNwb3NlQ29tcG9uZW50IiwiZGlzcG9zZUV2ZW50SGFuZGxlciIsImNoaWxkTm9kZSIsImN1cnJlbnREZXB0aCIsImNoaWxkSW5kZXhBdEN1cnJlbnREZXB0aCIsImFycmF5QnVpbGRlclNlZ21lbnRSZWFkZXIiLCJlZGl0UmVhZGVyIiwiZnJhbWVSZWFkZXIiLCJlZGl0c1ZhbHVlcyIsImVkaXRzT2Zmc2V0Iiwib2Zmc2V0IiwibWF4RWRpdEluZGV4RXhjbCIsImNvdW50IiwiZWRpdEluZGV4IiwiZWRpdCIsImRpZmZSZWFkZXIiLCJlZGl0c0VudHJ5IiwiZWRpdFR5cGUiLCJwcmVwZW5kRnJhbWUiLCJmcmFtZUluZGV4IiwibmV3VHJlZUluZGV4IiwiZnJhbWUiLCJyZWZlcmVuY2VGcmFtZXNFbnRyeSIsInNpYmxpbmdJbmRleCIsImluc2VydEZyYW1lIiwicmVtb3ZlRnJhbWUiLCJzZXRBdHRyaWJ1dGUiLCJhcHBseUF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsImF0dHJpYnV0ZU5hbWUiLCJyZW1vdmVkQXR0cmlidXRlTmFtZSIsInNldE9yUmVtb3ZlQXR0cmlidXRlT3JQcm9wZXJ0eSIsInVwZGF0ZVRleHQiLCJ0ZXh0Tm9kZSIsIlRleHQiLCJ1cGRhdGVNYXJrdXAiLCJpbnNlcnRNYXJrdXAiLCJzdGVwSW4iLCJzdGVwT3V0IiwicGVybXV0YXRpb25MaXN0RW50cnkiLCJtb3ZlVG9TaWJsaW5nSW5kZXgiLCJwZXJtdXRhdGlvbkxpc3RFbmQiLCJmcmFtZXMiLCJmcmFtZVR5cGUiLCJpbnNlcnRFbGVtZW50IiwidGV4dCIsImluc2VydFRleHQiLCJhdHRyaWJ1dGUiLCJpbnNlcnRDb21wb25lbnQiLCJyZWdpb24iLCJpbnNlcnRGcmFtZVJhbmdlIiwic3VidHJlZUxlbmd0aCIsImVsZW1lbnRSZWZlcmVuY2VDYXB0dXJlIiwiZWxlbWVudFJlZmVyZW5jZUNhcHR1cmVJZCIsIm1hcmt1cCIsIm5hbWVkRXZlbnQiLCJlbGVtZW50TmFtZSIsIm5ld0RvbUVsZW1lbnRSYXciLCJuZXdFbGVtZW50IiwiaW5zZXJ0ZWQiLCJkZXNjZW5kYW50c0VuZEluZGV4RXhjbCIsImRlc2NlbmRhbnRJbmRleCIsImRlc2NlbmRhbnRGcmFtZSIsIkhUTUxPcHRpb25FbGVtZW50IiwiY2hpbGRDb21wb25lbnRJZCIsInRleHRGcmFtZSIsImNyZWF0ZVRleHROb2RlIiwibWFya3VwRnJhbWUiLCJtYXJrdXBDb250YWluZXIiLCJwYXJzZWRNYXJrdXAiLCJtYXJrdXBDb250ZW50IiwiaW5uZXJIVE1MIiwiY29udGVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJvbGRTY3JpcHRFbGVtIiwibmV3U2NyaXB0RWxlbSIsImdldEF0dHJpYnV0ZU5hbWVzIiwiYXR0cmliTmFtZSIsInJlcGxhY2VDaGlsZCIsImxvZ2ljYWxTaWJsaW5nSW5kZXgiLCJmaXJzdENoaWxkIiwidG9Eb21FbGVtZW50IiwiYXR0cmlidXRlRnJhbWUiLCJhdHRyaWJ1dGVFdmVudEhhbmRsZXJJZCIsInN0cmlwT25QcmVmaXgiLCJhdHRyaWJ1dGVWYWx1ZSIsInN0YXJ0SW5kZXgiLCJlbmRJbmRleEV4Y2wiLCJvcmlnQ2hpbGRJbmRleCIsImNvdW50RGVzY2VuZGFudEZyYW1lcyIsInZhbHVlT3JOdWxsVG9SZW1vdmUiLCJlbmRzV2l0aCIsIm5vcm1hbGl6ZUlucHV0VmFsdWUiLCJ0cnlBcHBseVZhbHVlUHJvcGVydHkiLCJ0cnlBcHBseUNoZWNrZWRQcm9wZXJ0eSIsInRyeUFwcGx5U3BlY2lhbFByb3BlcnR5IiwiYXBwbHlJbnRlcm5hbEF0dHJpYnV0ZSIsImludGVybmFsQXR0cmlidXRlTmFtZVByZWZpeCIsImludGVybmFsQXR0cmlidXRlTmFtZSIsImV2ZW50U3RvcFByb3BhZ2F0aW9uQXR0cmlidXRlTmFtZVByZWZpeCIsImV2ZW50UHJldmVudERlZmF1bHRBdHRyaWJ1dGVOYW1lUHJlZml4IiwiaXNJbnRlcmFjdGl2ZSIsImJyb3dzZXJSZW5kZXJlcnMiLCJpbnRlcmFjdGl2ZVJvdXRlclJlbmRlcmVySWQiLCJ0ZXN0QW5jaG9yIiwic2hvdWxkUmVzZXRTY3JvbGxBZnRlck5leHRCYXRjaCIsImhyZWYiLCJiYXNlVXJpV2l0aG91dFRyYWlsaW5nU2xhc2giLCJiYXNlVXJpIiwibGFzdEluZGV4T2YiLCJuZXh0Q2hhciIsImNoYXJBdCIsInNjcm9sbFRvRWxlbWVudCIsImdldEVsZW1lbnRCeUlkIiwic2Nyb2xsSW50b1ZpZXciLCJyZWxhdGl2ZVVyaSIsImdldEludGVyYWN0aXZlUm91dGVyUmVuZGVyZXJJZCIsImhhc1JlZ2lzdGVyZWROYXZpZ2F0aW9uRXZlbnRMaXN0ZW5lcnMiLCJjdXJyZW50SGlzdG9yeUluZGV4IiwiY3VycmVudExvY2F0aW9uQ2hhbmdpbmdDYWxsSWQiLCJuYXZpZ2F0aW9uQ2FsbGJhY2tzIiwicG9wU3RhdGVDYWxsYmFjayIsImFzeW5jIiwic3RhdGUiLCJpZ25vcmVQZW5kaW5nTmF2aWdhdGlvbiIsImNhbGxiYWNrcyIsImdldEludGVyYWN0aXZlUm91dGVyTmF2aWdhdGlvbkNhbGxiYWNrcyIsImhhc0xvY2F0aW9uQ2hhbmdpbmdFdmVudExpc3RlbmVycyIsIl9pbmRleCIsInVzZXJTdGF0ZSIsImRlbHRhIiwidXJpIiwibmF2aWdhdGVIaXN0b3J5V2l0aG91dFBvcFN0YXRlQ2FsbGJhY2siLCJub3RpZnlMb2NhdGlvbkNoYW5naW5nIiwibm90aWZ5TG9jYXRpb25DaGFuZ2VkIiwicmVzb2x2ZUN1cnJlbnROYXZpZ2F0aW9uIiwiaW50ZXJuYWxGdW5jdGlvbnMiLCJsaXN0ZW5Gb3JOYXZpZ2F0aW9uRXZlbnRzIiwibG9jYXRpb25DaGFuZ2VkQ2FsbGJhY2siLCJsb2NhdGlvbkNoYW5naW5nQ2FsbGJhY2siLCJsb2NhdGlvbkNoYW5nZWQiLCJsb2NhdGlvbkNoYW5naW5nIiwib25Qb3BTdGF0ZSIsImhpc3RvcnkiLCJlbmFibGVOYXZpZ2F0aW9uSW50ZXJjZXB0aW9uIiwic2V0SGFzTG9jYXRpb25DaGFuZ2luZ0xpc3RlbmVycyIsImhhc0xpc3RlbmVycyIsImVuZExvY2F0aW9uQ2hhbmdpbmciLCJjYWxsSWQiLCJzaG91bGRDb250aW51ZU5hdmlnYXRpb24iLCJuYXZpZ2F0ZVRvIiwibmF2aWdhdGVUb0NvcmUiLCJyZWZyZXNoIiwiZm9yY2VSZWxvYWQiLCJyZWxvYWQiLCJnZXRCYXNlVVJJIiwiZ2V0TG9jYXRpb25IcmVmIiwic2tpcExvY2F0aW9uQ2hhbmdpbmdDYWxsYmFjayIsImFic29sdXRlVXJpIiwiZm9yY2VMb2FkIiwicmVwbGFjZUhpc3RvcnlFbnRyeSIsImhpc3RvcnlFbnRyeVN0YXRlIiwicmVwbGFjZSIsInRlbXBvcmFyeVVyaSIsInJlcGxhY2VTdGF0ZSIsInBlcmZvcm1FeHRlcm5hbE5hdmlnYXRpb24iLCJhYnNvbHV0ZUludGVybmFsSHJlZiIsImludGVyY2VwdGVkTGluayIsIm9sZFVybCIsIm5ld1VybCIsImEiLCJiIiwib3JpZ2luIiwicGF0aG5hbWUiLCJzZWFyY2giLCJoYXNoIiwiaXNTYW1lUGFnZVdpdGhIYXNoIiwic2F2ZVRvQnJvd3Nlckhpc3RvcnkiLCJoYXNoSW5kZXgiLCJwZXJmb3JtU2Nyb2xsVG9FbGVtZW50T25UaGVTYW1lUGFnZSIsInVybDEiLCJ1cmwyIiwicGFyc2VkVXJsMSIsInBhcnNlZFVybDIiLCJwcm90b2NvbCIsImhvc3QiLCJwb3J0IiwiaXNGb3JTYW1lUGF0aCIsInB1c2hTdGF0ZSIsIm9sZFBvcFN0YXRlQ2FsbGJhY2siLCJnbyIsImludGVyY2VwdGVkIiwiaW50ZXJuYWxEZXN0aW5hdGlvbkhyZWYiLCJhbGwiLCJkb21GdW5jdGlvbnMiLCJwcmV2ZW50U2Nyb2xsIiwiU1ZHRWxlbWVudCIsImZvY3VzQnlTZWxlY3RvciIsInRhYkluZGV4IiwiVmlydHVhbGl6ZSIsImRvdE5ldEhlbHBlciIsInNwYWNlckJlZm9yZSIsInNwYWNlckFmdGVyIiwicm9vdE1hcmdpbiIsInNjcm9sbENvbnRhaW5lciIsImZpbmRDbG9zZXN0U2Nyb2xsQ29udGFpbmVyIiwiZG9jdW1lbnRFbGVtZW50Iiwic3R5bGUiLCJvdmVyZmxvd0FuY2hvciIsInJhbmdlQmV0d2VlblNwYWNlcnMiLCJjcmVhdGVSYW5nZSIsImlzVmFsaWRUYWJsZUVsZW1lbnQiLCJkaXNwbGF5IiwiaW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImVudHJ5IiwiaXNJbnRlcnNlY3RpbmciLCJzZXRTdGFydEFmdGVyIiwic2V0RW5kQmVmb3JlIiwic3BhY2VyU2VwYXJhdGlvbiIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNvbnRhaW5lclNpemUiLCJyb290Qm91bmRzIiwiaW50ZXJzZWN0aW9uUmVjdCIsInRvcCIsImJvdW5kaW5nQ2xpZW50UmVjdCIsIm9mZnNldEhlaWdodCIsImJvdHRvbSIsInJvb3QiLCJvYnNlcnZlIiwibXV0YXRpb25PYnNlcnZlckJlZm9yZSIsImNyZWF0ZVNwYWNlck11dGF0aW9uT2JzZXJ2ZXIiLCJtdXRhdGlvbk9ic2VydmVyQWZ0ZXIiLCJvYnNlcnZlcnNCeURvdE5ldE9iamVjdElkIiwiZ2V0T2JzZXJ2ZXJzTWFwRW50cnkiLCJzcGFjZXIiLCJvYnNlcnZlck9wdGlvbnMiLCJhdHRyaWJ1dGVzIiwibXV0YXRpb25PYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJtdXRhdGlvbnMiLCJvYnNlcnZlciIsImRpc2Nvbm5lY3QiLCJ1bm9ic2VydmUiLCJIVE1MVGFibGVFbGVtZW50IiwiSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQiLCJvYnNlcnZlcnMiLCJkaXNwYXRjaGVyT2JzZXJ2ZXJzQnlEb3ROZXRJZFByb3BuYW1lIiwiYm9keSIsImdldENvbXB1dGVkU3R5bGUiLCJvdmVyZmxvd1kiLCJkb3ROZXRIZWxwZXJEaXNwYXRjaGVyIiwiZG90TmV0SGVscGVySWQiLCJQYWdlVGl0bGUiLCJnZXRBbmRSZW1vdmVFeGlzdGluZ1RpdGxlIiwidGl0bGVFbGVtZW50cyIsImhlYWQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImV4aXN0aW5nVGl0bGUiLCJjdXJyZW50VGl0bGVFbGVtZW50IiwiSW5wdXRGaWxlIiwiaW5pdCIsIl9ibGF6b3JJbnB1dEZpbGVOZXh0RmlsZUlkIiwiX2JsYXpvckZpbGVzQnlJZCIsImZpbGVMaXN0IiwiZmlsZSIsImxhc3RNb2RpZmllZCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImNvbnRlbnRUeXBlIiwicmVhZFByb21pc2UiLCJibG9iIiwidG9JbWFnZUZpbGUiLCJmaWxlSWQiLCJmb3JtYXQiLCJtYXhXaWR0aCIsIm1heEhlaWdodCIsIm9yaWdpbmFsRmlsZSIsImdldEZpbGVCeUlkIiwibG9hZGVkSW1hZ2UiLCJvcmlnaW5hbEZpbGVJbWFnZSIsIkltYWdlIiwib25sb2FkIiwicmV2b2tlT2JqZWN0VVJMIiwic3JjIiwib25lcnJvciIsImNyZWF0ZU9iamVjdFVSTCIsInJlc2l6ZWRJbWFnZUJsb2IiLCJkZXNpcmVkV2lkdGhSYXRpbyIsIk1hdGgiLCJtaW4iLCJkZXNpcmVkSGVpZ2h0UmF0aW8iLCJjaG9zZW5TaXplUmF0aW8iLCJjYW52YXMiLCJyb3VuZCIsImdldENvbnRleHQiLCJkcmF3SW1hZ2UiLCJ0b0Jsb2IiLCJyZWFkRmlsZURhdGEiLCJyZWdpc3RlcmVkTG9ja3MiLCJOYXZpZ2F0aW9uTG9jayIsImVuYWJsZU5hdmlnYXRpb25Qcm9tcHQiLCJvbkJlZm9yZVVubG9hZCIsImRpc2FibGVOYXZpZ2F0aW9uUHJvbXB0IiwidHJhbnNtaXR0aW5nRG90TmV0VG9KU1N0cmVhbXMiLCJCbGF6b3IiLCJmb3JjZUxvYWRPck9wdGlvbnMiLCJyZXBsYWNlSWZVc2luZ09sZE92ZXJsb2FkIiwicmVnaXN0ZXJDdXN0b21FdmVudFR5cGUiLCJhbGlhc0dyb3VwIiwicm9vdENvbXBvbmVudHMiLCJydW50aW1lIiwiX2ludGVybmFsIiwibmF2aWdhdGlvbk1hbmFnZXIiLCJuYXZpZ2F0aW9uTWFuYWdlckludGVybmFsRnVuY3Rpb25zIiwiZG9tV3JhcHBlciIsImdldEpTRGF0YVN0cmVhbUNodW5rIiwicG9zaXRpb24iLCJuZXh0Q2h1bmtTaXplIiwiY2h1bmtCbG9iIiwic2xpY2UiLCJnZXRDaHVua0Zyb21CbG9iIiwiYnl0ZU9mZnNldCIsImdldENodW5rRnJvbUFycmF5QnVmZmVyVmlldyIsImF0dGFjaFdlYlJlbmRlcmVySW50ZXJvcCIsImpzQ29tcG9uZW50UGFyYW1ldGVycyIsImpzQ29tcG9uZW50SW5pdGlhbGl6ZXJzIiwibWFuYWdlckluc3RhbmNlIiwiaW5pdGlhbGl6ZXJJZGVudGlmaWVyIiwiY29tcG9uZW50SWRlbnRpZmllcnMiLCJpbml0aWFsaXplckZ1bmMiLCJlbmFibGVKU1Jvb3RDb21wb25lbnRzIiwibGlzdGVuZXIiLCJpbnZva2VSZW5kZXJlckF0dGFjaGVkTGlzdGVuZXJzIiwiaGFzRmFpbGVkIiwibmF0aXZlRGVjb2RlciIsIlRleHREZWNvZGVyIiwiZGVjb2RlVXRmOCIsImRlY29kZSIsImJ5dGVzIiwicG9zIiwibGVuIiwib3V0Iiwic3Vic3RyaW5ncyIsImJ5dGUxIiwiYnl0ZTIiLCJieXRlMyIsImNvZGVwb2ludCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImFwcGx5Iiwiam9pbiIsInVpbnQ2NEhpZ2hQYXJ0U2hpZnQiLCJwb3ciLCJtYXhTYWZlTnVtYmVySGlnaFBhcnQiLCJyZWFkSW50MzJMRSIsInJlYWRVaW50MzJMRSIsInJlYWRVaW50NjRMRSIsImhpZ2hQYXJ0IiwiT3V0T2ZQcm9jZXNzUmVuZGVyQmF0Y2giLCJiYXRjaERhdGEiLCJzdHJpbmdSZWFkZXIiLCJPdXRPZlByb2Nlc3NTdHJpbmdSZWFkZXIiLCJhcnJheVJhbmdlUmVhZGVyIiwiT3V0T2ZQcm9jZXNzQXJyYXlSYW5nZVJlYWRlciIsIk91dE9mUHJvY2Vzc0FycmF5QnVpbGRlclNlZ21lbnRSZWFkZXIiLCJPdXRPZlByb2Nlc3NSZW5kZXJUcmVlRGlmZlJlYWRlciIsIk91dE9mUHJvY2Vzc1JlbmRlclRyZWVFZGl0UmVhZGVyIiwiT3V0T2ZQcm9jZXNzUmVuZGVyVHJlZUZyYW1lUmVhZGVyIiwidXBkYXRlZENvbXBvbmVudHMiLCJkaXNwb3NlZENvbXBvbmVudElkcyIsImRpc3Bvc2VkRXZlbnRIYW5kbGVySWRzIiwidXBkYXRlZENvbXBvbmVudHNFbnRyeSIsInRhYmxlRW50cnlQb3MiLCJkaXNwb3NlZENvbXBvbmVudElkc0VudHJ5IiwiZW50cnlQb3MiLCJkaXNwb3NlZEV2ZW50SGFuZGxlcklkc0VudHJ5IiwiYmF0Y2hEYXRhVWludDgiLCJkaWZmIiwic3RyaW5nSW5kZXgiLCJyZWFkU3RyaW5nIiwic3RyaW5nVGFibGVTdGFydEluZGV4Iiwic3RyaW5nVGFibGVFbnRyeVBvcyIsIm51bVV0ZjhCeXRlcyIsImJ5dGUiLCJyZWFkTEVCMTI4IiwiY2hhcnNTdGFydCIsInV0ZjhEYXRhIiwiYXJyYXlSYW5nZSIsIl9hcnJheUJ1aWxkZXJTZWdtZW50IiwiYXJyYXlCdWlsZGVyU2VnbWVudCIsImlwY01lc3NhZ2VQcmVmaXgiLCJhcHBsaWNhdGlvbklzVGVybWluYXRlZCIsInNlbmRSZW5kZXJDb21wbGV0ZWQiLCJiYXRjaElkIiwiZXJyb3JPck51bGwiLCJzZW5kIiwic2VuZEJlZ2luSW52b2tlRG90TmV0RnJvbUpTIiwic2VuZEVuZEludm9rZUpTRnJvbURvdE5ldCIsInN1Y2NlZWRlZCIsImRhdGFCYXNlNjRFbmNvZGVkIiwiY2hhckJ5dGVzIiwiYnRvYSIsImJhc2U2NEVuY29kZUJ5dGVBcnJheSIsInNlbmRMb2NhdGlvbkNoYW5nZWQiLCJzZW5kTG9jYXRpb25DaGFuZ2luZyIsIm1lc3NhZ2VUeXBlIiwic2VyaWFsaXplZE1lc3NhZ2UiLCJ0cnlTZXJpYWxpemVNZXNzYWdlIiwiZXh0ZXJuYWwiLCJzZW5kTWVzc2FnZSIsIldlYlJlbmRlcmVySWQiLCJMb2dMZXZlbCIsInJlY2VpdmVCYXNlNjRCeXRlQXJyYXkiLCJiYXNlNjREYXRhIiwiYmFzZTY0VG9BcnJheUJ1ZmZlciIsImRpc3BhdGNoZXIiLCJiYXNlNjQiLCJiaW5hcnlTdHJpbmciLCJhdG9iIiwiY2hhckNvZGVBdCIsIkpTSW5pdGlhbGl6ZXIiLCJzaW5nbGVSdW50aW1lIiwibG9nZ2VyIiwiYWZ0ZXJzdGFydGVkQ2FsbGJhY2tzIiwid2ViUmVuZGVyZXJJZCIsImFmdGVyU3RhcnRlZENhbGxiYWNrcyIsImltcG9ydEluaXRpYWxpemVyc0FzeW5jIiwiaW5pdGlhbGl6ZXJGaWxlcyIsImluaXRpYWxpemVyQXJndW1lbnRzIiwianNJbml0aWFsaXplciIsImFzc2V0IiwiYWRqdXN0ZWRQYXRoIiwibW9kdWxlRXhwb3J0cyIsImluaXRpYWxpemVyIiwiYmVmb3JlU3RhcnQiLCJhZnRlclN0YXJ0ZWQiLCJiZWZvcmVXZWJBc3NlbWJseVN0YXJ0IiwiYWZ0ZXJXZWJBc3NlbWJseVN0YXJ0ZWQiLCJiZWZvcmVTZXJ2ZXJTdGFydCIsImFmdGVyU2VydmVyU3RhcnRlZCIsImZpbmFsQmVmb3JlU3RhcnQiLCJTZXJ2ZXIiLCJXZWJBc3NlbWJseSIsImZpbmFsQWZ0ZXJTdGFydGVkIiwicnVuQ2xhc3NpY0luaXRpYWxpemVycyIsImluaXRpYWxpemVyTW9kdWxlIiwiYmVmb3JlV2ViU3RhcnQiLCJhZnRlcldlYlN0YXJ0ZWQiLCJoYXNPbmx5Q2xhc3NpY0luaXRpYWxpemVycyIsInJ1bkxlZ2FjeUluaXRpYWxpemVycyIsImVuYWJsZUNsYXNzaWNJbml0aWFsaXplcnMiLCJsb2ciLCJXYXJuaW5nIiwiaW5pdGlhbGl6ZXJzIiwiZW5zdXJlSW5pdGlhbGl6ZXJzIiwid2ViQXNzZW1ibHkiLCJjaXJjdWl0IiwicnVuTXVsdGlSdW50aW1lSW5pdGlhbGl6ZXJzIiwiaW1wb3J0QW5kSW52b2tlSW5pdGlhbGl6ZXIiLCJpbnZva2VBZnRlclN0YXJ0ZWRDYWxsYmFja3MiLCJibGF6b3IiLCJhdHRhY2hlZCIsInN0YXJ0ZWQiLCJib290IiwianNJbml0aWFsaXplcnNSZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiY3JlZGVudGlhbHMiLCJjYWNoZSIsImZldGNoQW5kSW52b2tlSW5pdGlhbGl6ZXJzIiwibWVzc2FnZUhhbmRsZXJzIiwiQXR0YWNoVG9Eb2N1bWVudCIsImVsZW1lbnRTZWxlY3RvciIsImJlZm9yZUVsZW1lbnRTZWxlY3RvciIsImFmdGVyRWxlbWVudFNlbGVjdG9yIiwiY29udGFpbmVyIiwiZ2V0QW5kUmVtb3ZlUGVuZGluZ1Jvb3RDb21wb25lbnRDb250YWluZXIiLCJicm93c2VyUmVuZGVyZXIiLCJhdHRhY2hSb290Q29tcG9uZW50VG9FbGVtZW50IiwiV2ViVmlldyIsIlJlbmRlckJhdGNoIiwiYmF0Y2hEYXRhQmFzZTY0IiwidXBkYXRlZENvbXBvbmVudHNSYW5nZSIsInVwZGF0ZWRDb21wb25lbnRzVmFsdWVzIiwidXBkYXRlZENvbXBvbmVudHNMZW5ndGgiLCJyZWZlcmVuY2VGcmFtZXNWYWx1ZXMiLCJkaXNwb3NlZENvbXBvbmVudElkc1JhbmdlIiwiZGlzcG9zZWRDb21wb25lbnRJZHNWYWx1ZXMiLCJkaXNwb3NlZENvbXBvbmVudElkc0xlbmd0aCIsImRpc3Bvc2VkRXZlbnRIYW5kbGVySWRzUmFuZ2UiLCJkaXNwb3NlZEV2ZW50SGFuZGxlcklkc1ZhbHVlcyIsImRpc3Bvc2VkRXZlbnRIYW5kbGVySWRzTGVuZ3RoIiwic2Nyb2xsVG8iLCJyZW5kZXJCYXRjaCIsIk5vdGlmeVVuaGFuZGxlZEV4Y2VwdGlvbiIsInN0YWNrVHJhY2UiLCJlcnJvclVpIiwib25jbGljayIsImRpc21pc3MiLCJzaG93RXJyb3JOb3RpZmljYXRpb24iLCJCZWdpbkludm9rZUpTIiwiRW5kSW52b2tlRG90TmV0IiwiU2VuZEJ5dGVBcnJheVRvSlMiLCJOYXZpZ2F0ZSIsIm5hdmlnYXRpb25NYW5hZ2VyRnVuY3Rpb25zIiwiUmVmcmVzaCIsIlNldEhhc0xvY2F0aW9uQ2hhbmdpbmdMaXN0ZW5lcnMiLCJFbmRMb2NhdGlvbkNoYW5naW5nIiwicmVjZWl2ZU1lc3NhZ2UiLCJwYXJzZWRNZXNzYWdlIiwibWVzc2FnZUFmdGVyUHJlZml4IiwidHJ5RGVzZXJpYWxpemVNZXNzYWdlIiwic3RhcnRJcGNSZWNlaXZlciIsInJlY2VpdmVXZWJWaWV3RG90TmV0RGF0YVN0cmVhbSIsImJ5dGVzUmVhZCIsImVycm9yTWVzc2FnZSIsInN0cmVhbUNvbnRyb2xsZXIiLCJyZWFkYWJsZVN0cmVhbSIsIlJlYWRhYmxlU3RyZWFtIiwic3RhcnQiLCJjb250cm9sbGVyIiwiY2xvc2UiLCJlbnF1ZXVlIiwic3ViYXJyYXkiLCJyZWNlaXZlRG90TmV0RGF0YVN0cmVhbSIsImN1cnJlbnRTY3JpcHQiXSwibWFwcGluZ3MiOiIwQkFHTyxJQUFJQSxFQ2dFQ0MsRUFjQUMsR0Q3RVosU0FBV0YsR0FDUCxNQUFNRyxFQUFlLEdBQ2ZDLEVBQWdCLGVBQ2hCQyxFQUFxQixpQkFDckJDLEVBQWtCLFdBQ2xCQyxFQUFxQixpQkFDckJDLEVBQTZCLDRCQUluQyxJQUFJQyxFQUVBQyxFQW1DQUMsRUFsQ0osTUFBTUMsRUFHRixXQUFBQyxDQUFZQyxHQUNSQyxLQUFLRCxVQUFZQSxFQUNqQkMsS0FBS0MsZ0JBQWtCLElBQUlDLEdBQ3ZDLENBQ1Esd0JBQUFDLENBQXlCQyxFQUFZQyxHQUNqQyxJQUFJQyxFQUNKLE1BQU1DLEVBQWlFLFFBQS9DRCxFQUFLTixLQUFLQyxnQkFBZ0JPLElBQUlKLFVBQWdDLElBQVBFLE9BQWdCLEVBQVNBLEVBQUdELEdBQzNHLEdBQUlFLEVBQ0EsT0FBT0EsRUFFWCxNQUFPRSxFQUFRQyxHQUFjQyxFQUFpQlgsS0FBS0QsVUFBV0ssR0FDeERRLEVBa1pkLFNBQThCSCxFQUFRQyxFQUFZTCxFQUFVRCxHQUN4RCxPQUFRQyxHQUNKLEtBQUtULEVBQVdpQixhQUNaLE1BQU1ELEVBQU9ILEVBQU9DLEdBQ3BCLEdBQUlFLGFBQWdCRSxTQUNoQixPQUFPRixFQUFLRyxLQUFLTixHQUdqQixNQUFNLElBQUlPLE1BQU0sY0FBY1oseUJBRXRDLEtBQUtSLEVBQVdxQixnQkFDWixNQUFNQyxFQUFPVCxFQUFPQyxHQUNwQixHQUFJUSxhQUFnQkosU0FBVSxDQUMxQixNQUFNSyxFQUFRRCxFQUFLSCxLQUFLTixHQUN4QixNQUFPLElBQUlXLElBQVMsSUFBSUQsS0FBU0MsRUFDckQsQ0FFb0IsTUFBTSxJQUFJSixNQUFNLGNBQWNaLHlCQUV0QyxLQUFLUixFQUFXeUIsU0FD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
